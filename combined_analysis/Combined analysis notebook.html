<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />

<title>Combined analysis notebook</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



<style type="text/css">
    /*!
*
* Twitter Bootstrap
*
*/
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */
html {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block;
  vertical-align: baseline;
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a {
  background-color: transparent;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit;
  font: inherit;
  margin: 0;
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"],
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button;
  cursor: pointer;
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box;
  padding: 0;
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield;
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0;
  padding: 0;
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */
@media print {
  *,
  *:before,
  *:after {
    background: transparent !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  a,
  a:visited {
    text-decoration: underline;
  }
  a[href]:after {
    content: " (" attr(href) ")";
  }
  abbr[title]:after {
    content: " (" attr(title) ")";
  }
  a[href^="#"]:after,
  a[href^="javascript:"]:after {
    content: "";
  }
  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid;
  }
  thead {
    display: table-header-group;
  }
  tr,
  img {
    page-break-inside: avoid;
  }
  img {
    max-width: 100% !important;
  }
  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3;
  }
  h2,
  h3 {
    page-break-after: avoid;
  }
  .navbar {
    display: none;
  }
  .btn > .caret,
  .dropup > .btn > .caret {
    border-top-color: #000 !important;
  }
  .label {
    border: 1px solid #000;
  }
  .table {
    border-collapse: collapse !important;
  }
  .table td,
  .table th {
    background-color: #fff !important;
  }
  .table-bordered th,
  .table-bordered td {
    border: 1px solid #ddd !important;
  }
}
@font-face {
  font-family: 'Glyphicons Halflings';
  src: url('../components/bootstrap/fonts/glyphicons-halflings-regular.eot');
  src: url('../components/bootstrap/fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.woff2') format('woff2'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.woff') format('woff'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.ttf') format('truetype'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular') format('svg');
}
.glyphicon {
  position: relative;
  top: 1px;
  display: inline-block;
  font-family: 'Glyphicons Halflings';
  font-style: normal;
  font-weight: normal;
  line-height: 1;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.glyphicon-asterisk:before {
  content: "\002a";
}
.glyphicon-plus:before {
  content: "\002b";
}
.glyphicon-euro:before,
.glyphicon-eur:before {
  content: "\20ac";
}
.glyphicon-minus:before {
  content: "\2212";
}
.glyphicon-cloud:before {
  content: "\2601";
}
.glyphicon-envelope:before {
  content: "\2709";
}
.glyphicon-pencil:before {
  content: "\270f";
}
.glyphicon-glass:before {
  content: "\e001";
}
.glyphicon-music:before {
  content: "\e002";
}
.glyphicon-search:before {
  content: "\e003";
}
.glyphicon-heart:before {
  content: "\e005";
}
.glyphicon-star:before {
  content: "\e006";
}
.glyphicon-star-empty:before {
  content: "\e007";
}
.glyphicon-user:before {
  content: "\e008";
}
.glyphicon-film:before {
  content: "\e009";
}
.glyphicon-th-large:before {
  content: "\e010";
}
.glyphicon-th:before {
  content: "\e011";
}
.glyphicon-th-list:before {
  content: "\e012";
}
.glyphicon-ok:before {
  content: "\e013";
}
.glyphicon-remove:before {
  content: "\e014";
}
.glyphicon-zoom-in:before {
  content: "\e015";
}
.glyphicon-zoom-out:before {
  content: "\e016";
}
.glyphicon-off:before {
  content: "\e017";
}
.glyphicon-signal:before {
  content: "\e018";
}
.glyphicon-cog:before {
  content: "\e019";
}
.glyphicon-trash:before {
  content: "\e020";
}
.glyphicon-home:before {
  content: "\e021";
}
.glyphicon-file:before {
  content: "\e022";
}
.glyphicon-time:before {
  content: "\e023";
}
.glyphicon-road:before {
  content: "\e024";
}
.glyphicon-download-alt:before {
  content: "\e025";
}
.glyphicon-download:before {
  content: "\e026";
}
.glyphicon-upload:before {
  content: "\e027";
}
.glyphicon-inbox:before {
  content: "\e028";
}
.glyphicon-play-circle:before {
  content: "\e029";
}
.glyphicon-repeat:before {
  content: "\e030";
}
.glyphicon-refresh:before {
  content: "\e031";
}
.glyphicon-list-alt:before {
  content: "\e032";
}
.glyphicon-lock:before {
  content: "\e033";
}
.glyphicon-flag:before {
  content: "\e034";
}
.glyphicon-headphones:before {
  content: "\e035";
}
.glyphicon-volume-off:before {
  content: "\e036";
}
.glyphicon-volume-down:before {
  content: "\e037";
}
.glyphicon-volume-up:before {
  content: "\e038";
}
.glyphicon-qrcode:before {
  content: "\e039";
}
.glyphicon-barcode:before {
  content: "\e040";
}
.glyphicon-tag:before {
  content: "\e041";
}
.glyphicon-tags:before {
  content: "\e042";
}
.glyphicon-book:before {
  content: "\e043";
}
.glyphicon-bookmark:before {
  content: "\e044";
}
.glyphicon-print:before {
  content: "\e045";
}
.glyphicon-camera:before {
  content: "\e046";
}
.glyphicon-font:before {
  content: "\e047";
}
.glyphicon-bold:before {
  content: "\e048";
}
.glyphicon-italic:before {
  content: "\e049";
}
.glyphicon-text-height:before {
  content: "\e050";
}
.glyphicon-text-width:before {
  content: "\e051";
}
.glyphicon-align-left:before {
  content: "\e052";
}
.glyphicon-align-center:before {
  content: "\e053";
}
.glyphicon-align-right:before {
  content: "\e054";
}
.glyphicon-align-justify:before {
  content: "\e055";
}
.glyphicon-list:before {
  content: "\e056";
}
.glyphicon-indent-left:before {
  content: "\e057";
}
.glyphicon-indent-right:before {
  content: "\e058";
}
.glyphicon-facetime-video:before {
  content: "\e059";
}
.glyphicon-picture:before {
  content: "\e060";
}
.glyphicon-map-marker:before {
  content: "\e062";
}
.glyphicon-adjust:before {
  content: "\e063";
}
.glyphicon-tint:before {
  content: "\e064";
}
.glyphicon-edit:before {
  content: "\e065";
}
.glyphicon-share:before {
  content: "\e066";
}
.glyphicon-check:before {
  content: "\e067";
}
.glyphicon-move:before {
  content: "\e068";
}
.glyphicon-step-backward:before {
  content: "\e069";
}
.glyphicon-fast-backward:before {
  content: "\e070";
}
.glyphicon-backward:before {
  content: "\e071";
}
.glyphicon-play:before {
  content: "\e072";
}
.glyphicon-pause:before {
  content: "\e073";
}
.glyphicon-stop:before {
  content: "\e074";
}
.glyphicon-forward:before {
  content: "\e075";
}
.glyphicon-fast-forward:before {
  content: "\e076";
}
.glyphicon-step-forward:before {
  content: "\e077";
}
.glyphicon-eject:before {
  content: "\e078";
}
.glyphicon-chevron-left:before {
  content: "\e079";
}
.glyphicon-chevron-right:before {
  content: "\e080";
}
.glyphicon-plus-sign:before {
  content: "\e081";
}
.glyphicon-minus-sign:before {
  content: "\e082";
}
.glyphicon-remove-sign:before {
  content: "\e083";
}
.glyphicon-ok-sign:before {
  content: "\e084";
}
.glyphicon-question-sign:before {
  content: "\e085";
}
.glyphicon-info-sign:before {
  content: "\e086";
}
.glyphicon-screenshot:before {
  content: "\e087";
}
.glyphicon-remove-circle:before {
  content: "\e088";
}
.glyphicon-ok-circle:before {
  content: "\e089";
}
.glyphicon-ban-circle:before {
  content: "\e090";
}
.glyphicon-arrow-left:before {
  content: "\e091";
}
.glyphicon-arrow-right:before {
  content: "\e092";
}
.glyphicon-arrow-up:before {
  content: "\e093";
}
.glyphicon-arrow-down:before {
  content: "\e094";
}
.glyphicon-share-alt:before {
  content: "\e095";
}
.glyphicon-resize-full:before {
  content: "\e096";
}
.glyphicon-resize-small:before {
  content: "\e097";
}
.glyphicon-exclamation-sign:before {
  content: "\e101";
}
.glyphicon-gift:before {
  content: "\e102";
}
.glyphicon-leaf:before {
  content: "\e103";
}
.glyphicon-fire:before {
  content: "\e104";
}
.glyphicon-eye-open:before {
  content: "\e105";
}
.glyphicon-eye-close:before {
  content: "\e106";
}
.glyphicon-warning-sign:before {
  content: "\e107";
}
.glyphicon-plane:before {
  content: "\e108";
}
.glyphicon-calendar:before {
  content: "\e109";
}
.glyphicon-random:before {
  content: "\e110";
}
.glyphicon-comment:before {
  content: "\e111";
}
.glyphicon-magnet:before {
  content: "\e112";
}
.glyphicon-chevron-up:before {
  content: "\e113";
}
.glyphicon-chevron-down:before {
  content: "\e114";
}
.glyphicon-retweet:before {
  content: "\e115";
}
.glyphicon-shopping-cart:before {
  content: "\e116";
}
.glyphicon-folder-close:before {
  content: "\e117";
}
.glyphicon-folder-open:before {
  content: "\e118";
}
.glyphicon-resize-vertical:before {
  content: "\e119";
}
.glyphicon-resize-horizontal:before {
  content: "\e120";
}
.glyphicon-hdd:before {
  content: "\e121";
}
.glyphicon-bullhorn:before {
  content: "\e122";
}
.glyphicon-bell:before {
  content: "\e123";
}
.glyphicon-certificate:before {
  content: "\e124";
}
.glyphicon-thumbs-up:before {
  content: "\e125";
}
.glyphicon-thumbs-down:before {
  content: "\e126";
}
.glyphicon-hand-right:before {
  content: "\e127";
}
.glyphicon-hand-left:before {
  content: "\e128";
}
.glyphicon-hand-up:before {
  content: "\e129";
}
.glyphicon-hand-down:before {
  content: "\e130";
}
.glyphicon-circle-arrow-right:before {
  content: "\e131";
}
.glyphicon-circle-arrow-left:before {
  content: "\e132";
}
.glyphicon-circle-arrow-up:before {
  content: "\e133";
}
.glyphicon-circle-arrow-down:before {
  content: "\e134";
}
.glyphicon-globe:before {
  content: "\e135";
}
.glyphicon-wrench:before {
  content: "\e136";
}
.glyphicon-tasks:before {
  content: "\e137";
}
.glyphicon-filter:before {
  content: "\e138";
}
.glyphicon-briefcase:before {
  content: "\e139";
}
.glyphicon-fullscreen:before {
  content: "\e140";
}
.glyphicon-dashboard:before {
  content: "\e141";
}
.glyphicon-paperclip:before {
  content: "\e142";
}
.glyphicon-heart-empty:before {
  content: "\e143";
}
.glyphicon-link:before {
  content: "\e144";
}
.glyphicon-phone:before {
  content: "\e145";
}
.glyphicon-pushpin:before {
  content: "\e146";
}
.glyphicon-usd:before {
  content: "\e148";
}
.glyphicon-gbp:before {
  content: "\e149";
}
.glyphicon-sort:before {
  content: "\e150";
}
.glyphicon-sort-by-alphabet:before {
  content: "\e151";
}
.glyphicon-sort-by-alphabet-alt:before {
  content: "\e152";
}
.glyphicon-sort-by-order:before {
  content: "\e153";
}
.glyphicon-sort-by-order-alt:before {
  content: "\e154";
}
.glyphicon-sort-by-attributes:before {
  content: "\e155";
}
.glyphicon-sort-by-attributes-alt:before {
  content: "\e156";
}
.glyphicon-unchecked:before {
  content: "\e157";
}
.glyphicon-expand:before {
  content: "\e158";
}
.glyphicon-collapse-down:before {
  content: "\e159";
}
.glyphicon-collapse-up:before {
  content: "\e160";
}
.glyphicon-log-in:before {
  content: "\e161";
}
.glyphicon-flash:before {
  content: "\e162";
}
.glyphicon-log-out:before {
  content: "\e163";
}
.glyphicon-new-window:before {
  content: "\e164";
}
.glyphicon-record:before {
  content: "\e165";
}
.glyphicon-save:before {
  content: "\e166";
}
.glyphicon-open:before {
  content: "\e167";
}
.glyphicon-saved:before {
  content: "\e168";
}
.glyphicon-import:before {
  content: "\e169";
}
.glyphicon-export:before {
  content: "\e170";
}
.glyphicon-send:before {
  content: "\e171";
}
.glyphicon-floppy-disk:before {
  content: "\e172";
}
.glyphicon-floppy-saved:before {
  content: "\e173";
}
.glyphicon-floppy-remove:before {
  content: "\e174";
}
.glyphicon-floppy-save:before {
  content: "\e175";
}
.glyphicon-floppy-open:before {
  content: "\e176";
}
.glyphicon-credit-card:before {
  content: "\e177";
}
.glyphicon-transfer:before {
  content: "\e178";
}
.glyphicon-cutlery:before {
  content: "\e179";
}
.glyphicon-header:before {
  content: "\e180";
}
.glyphicon-compressed:before {
  content: "\e181";
}
.glyphicon-earphone:before {
  content: "\e182";
}
.glyphicon-phone-alt:before {
  content: "\e183";
}
.glyphicon-tower:before {
  content: "\e184";
}
.glyphicon-stats:before {
  content: "\e185";
}
.glyphicon-sd-video:before {
  content: "\e186";
}
.glyphicon-hd-video:before {
  content: "\e187";
}
.glyphicon-subtitles:before {
  content: "\e188";
}
.glyphicon-sound-stereo:before {
  content: "\e189";
}
.glyphicon-sound-dolby:before {
  content: "\e190";
}
.glyphicon-sound-5-1:before {
  content: "\e191";
}
.glyphicon-sound-6-1:before {
  content: "\e192";
}
.glyphicon-sound-7-1:before {
  content: "\e193";
}
.glyphicon-copyright-mark:before {
  content: "\e194";
}
.glyphicon-registration-mark:before {
  content: "\e195";
}
.glyphicon-cloud-download:before {
  content: "\e197";
}
.glyphicon-cloud-upload:before {
  content: "\e198";
}
.glyphicon-tree-conifer:before {
  content: "\e199";
}
.glyphicon-tree-deciduous:before {
  content: "\e200";
}
.glyphicon-cd:before {
  content: "\e201";
}
.glyphicon-save-file:before {
  content: "\e202";
}
.glyphicon-open-file:before {
  content: "\e203";
}
.glyphicon-level-up:before {
  content: "\e204";
}
.glyphicon-copy:before {
  content: "\e205";
}
.glyphicon-paste:before {
  content: "\e206";
}
.glyphicon-alert:before {
  content: "\e209";
}
.glyphicon-equalizer:before {
  content: "\e210";
}
.glyphicon-king:before {
  content: "\e211";
}
.glyphicon-queen:before {
  content: "\e212";
}
.glyphicon-pawn:before {
  content: "\e213";
}
.glyphicon-bishop:before {
  content: "\e214";
}
.glyphicon-knight:before {
  content: "\e215";
}
.glyphicon-baby-formula:before {
  content: "\e216";
}
.glyphicon-tent:before {
  content: "\26fa";
}
.glyphicon-blackboard:before {
  content: "\e218";
}
.glyphicon-bed:before {
  content: "\e219";
}
.glyphicon-apple:before {
  content: "\f8ff";
}
.glyphicon-erase:before {
  content: "\e221";
}
.glyphicon-hourglass:before {
  content: "\231b";
}
.glyphicon-lamp:before {
  content: "\e223";
}
.glyphicon-duplicate:before {
  content: "\e224";
}
.glyphicon-piggy-bank:before {
  content: "\e225";
}
.glyphicon-scissors:before {
  content: "\e226";
}
.glyphicon-bitcoin:before {
  content: "\e227";
}
.glyphicon-btc:before {
  content: "\e227";
}
.glyphicon-xbt:before {
  content: "\e227";
}
.glyphicon-yen:before {
  content: "\00a5";
}
.glyphicon-jpy:before {
  content: "\00a5";
}
.glyphicon-ruble:before {
  content: "\20bd";
}
.glyphicon-rub:before {
  content: "\20bd";
}
.glyphicon-scale:before {
  content: "\e230";
}
.glyphicon-ice-lolly:before {
  content: "\e231";
}
.glyphicon-ice-lolly-tasted:before {
  content: "\e232";
}
.glyphicon-education:before {
  content: "\e233";
}
.glyphicon-option-horizontal:before {
  content: "\e234";
}
.glyphicon-option-vertical:before {
  content: "\e235";
}
.glyphicon-menu-hamburger:before {
  content: "\e236";
}
.glyphicon-modal-window:before {
  content: "\e237";
}
.glyphicon-oil:before {
  content: "\e238";
}
.glyphicon-grain:before {
  content: "\e239";
}
.glyphicon-sunglasses:before {
  content: "\e240";
}
.glyphicon-text-size:before {
  content: "\e241";
}
.glyphicon-text-color:before {
  content: "\e242";
}
.glyphicon-text-background:before {
  content: "\e243";
}
.glyphicon-object-align-top:before {
  content: "\e244";
}
.glyphicon-object-align-bottom:before {
  content: "\e245";
}
.glyphicon-object-align-horizontal:before {
  content: "\e246";
}
.glyphicon-object-align-left:before {
  content: "\e247";
}
.glyphicon-object-align-vertical:before {
  content: "\e248";
}
.glyphicon-object-align-right:before {
  content: "\e249";
}
.glyphicon-triangle-right:before {
  content: "\e250";
}
.glyphicon-triangle-left:before {
  content: "\e251";
}
.glyphicon-triangle-bottom:before {
  content: "\e252";
}
.glyphicon-triangle-top:before {
  content: "\e253";
}
.glyphicon-console:before {
  content: "\e254";
}
.glyphicon-superscript:before {
  content: "\e255";
}
.glyphicon-subscript:before {
  content: "\e256";
}
.glyphicon-menu-left:before {
  content: "\e257";
}
.glyphicon-menu-right:before {
  content: "\e258";
}
.glyphicon-menu-down:before {
  content: "\e259";
}
.glyphicon-menu-up:before {
  content: "\e260";
}
* {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
*:before,
*:after {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
html {
  font-size: 10px;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
body {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 13px;
  line-height: 1.42857143;
  color: #000;
  background-color: #fff;
}
input,
button,
select,
textarea {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}
a {
  color: #337ab7;
  text-decoration: none;
}
a:hover,
a:focus {
  color: #23527c;
  text-decoration: underline;
}
a:focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
figure {
  margin: 0;
}
img {
  vertical-align: middle;
}
.img-responsive,
.thumbnail > img,
.thumbnail a > img,
.carousel-inner > .item > img,
.carousel-inner > .item > a > img {
  display: block;
  max-width: 100%;
  height: auto;
}
.img-rounded {
  border-radius: 3px;
}
.img-thumbnail {
  padding: 4px;
  line-height: 1.42857143;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 2px;
  -webkit-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
  display: inline-block;
  max-width: 100%;
  height: auto;
}
.img-circle {
  border-radius: 50%;
}
hr {
  margin-top: 18px;
  margin-bottom: 18px;
  border: 0;
  border-top: 1px solid #eeeeee;
}
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
}
[role="button"] {
  cursor: pointer;
}
h1,
h2,
h3,
h4,
h5,
h6,
.h1,
.h2,
.h3,
.h4,
.h5,
.h6 {
  font-family: inherit;
  font-weight: 500;
  line-height: 1.1;
  color: inherit;
}
h1 small,
h2 small,
h3 small,
h4 small,
h5 small,
h6 small,
.h1 small,
.h2 small,
.h3 small,
.h4 small,
.h5 small,
.h6 small,
h1 .small,
h2 .small,
h3 .small,
h4 .small,
h5 .small,
h6 .small,
.h1 .small,
.h2 .small,
.h3 .small,
.h4 .small,
.h5 .small,
.h6 .small {
  font-weight: normal;
  line-height: 1;
  color: #777777;
}
h1,
.h1,
h2,
.h2,
h3,
.h3 {
  margin-top: 18px;
  margin-bottom: 9px;
}
h1 small,
.h1 small,
h2 small,
.h2 small,
h3 small,
.h3 small,
h1 .small,
.h1 .small,
h2 .small,
.h2 .small,
h3 .small,
.h3 .small {
  font-size: 65%;
}
h4,
.h4,
h5,
.h5,
h6,
.h6 {
  margin-top: 9px;
  margin-bottom: 9px;
}
h4 small,
.h4 small,
h5 small,
.h5 small,
h6 small,
.h6 small,
h4 .small,
.h4 .small,
h5 .small,
.h5 .small,
h6 .small,
.h6 .small {
  font-size: 75%;
}
h1,
.h1 {
  font-size: 33px;
}
h2,
.h2 {
  font-size: 27px;
}
h3,
.h3 {
  font-size: 23px;
}
h4,
.h4 {
  font-size: 17px;
}
h5,
.h5 {
  font-size: 13px;
}
h6,
.h6 {
  font-size: 12px;
}
p {
  margin: 0 0 9px;
}
.lead {
  margin-bottom: 18px;
  font-size: 14px;
  font-weight: 300;
  line-height: 1.4;
}
@media (min-width: 768px) {
  .lead {
    font-size: 19.5px;
  }
}
small,
.small {
  font-size: 92%;
}
mark,
.mark {
  background-color: #fcf8e3;
  padding: .2em;
}
.text-left {
  text-align: left;
}
.text-right {
  text-align: right;
}
.text-center {
  text-align: center;
}
.text-justify {
  text-align: justify;
}
.text-nowrap {
  white-space: nowrap;
}
.text-lowercase {
  text-transform: lowercase;
}
.text-uppercase {
  text-transform: uppercase;
}
.text-capitalize {
  text-transform: capitalize;
}
.text-muted {
  color: #777777;
}
.text-primary {
  color: #337ab7;
}
a.text-primary:hover,
a.text-primary:focus {
  color: #286090;
}
.text-success {
  color: #3c763d;
}
a.text-success:hover,
a.text-success:focus {
  color: #2b542c;
}
.text-info {
  color: #31708f;
}
a.text-info:hover,
a.text-info:focus {
  color: #245269;
}
.text-warning {
  color: #8a6d3b;
}
a.text-warning:hover,
a.text-warning:focus {
  color: #66512c;
}
.text-danger {
  color: #a94442;
}
a.text-danger:hover,
a.text-danger:focus {
  color: #843534;
}
.bg-primary {
  color: #fff;
  background-color: #337ab7;
}
a.bg-primary:hover,
a.bg-primary:focus {
  background-color: #286090;
}
.bg-success {
  background-color: #dff0d8;
}
a.bg-success:hover,
a.bg-success:focus {
  background-color: #c1e2b3;
}
.bg-info {
  background-color: #d9edf7;
}
a.bg-info:hover,
a.bg-info:focus {
  background-color: #afd9ee;
}
.bg-warning {
  background-color: #fcf8e3;
}
a.bg-warning:hover,
a.bg-warning:focus {
  background-color: #f7ecb5;
}
.bg-danger {
  background-color: #f2dede;
}
a.bg-danger:hover,
a.bg-danger:focus {
  background-color: #e4b9b9;
}
.page-header {
  padding-bottom: 8px;
  margin: 36px 0 18px;
  border-bottom: 1px solid #eeeeee;
}
ul,
ol {
  margin-top: 0;
  margin-bottom: 9px;
}
ul ul,
ol ul,
ul ol,
ol ol {
  margin-bottom: 0;
}
.list-unstyled {
  padding-left: 0;
  list-style: none;
}
.list-inline {
  padding-left: 0;
  list-style: none;
  margin-left: -5px;
}
.list-inline > li {
  display: inline-block;
  padding-left: 5px;
  padding-right: 5px;
}
dl {
  margin-top: 0;
  margin-bottom: 18px;
}
dt,
dd {
  line-height: 1.42857143;
}
dt {
  font-weight: bold;
}
dd {
  margin-left: 0;
}
@media (min-width: 541px) {
  .dl-horizontal dt {
    float: left;
    width: 160px;
    clear: left;
    text-align: right;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .dl-horizontal dd {
    margin-left: 180px;
  }
}
abbr[title],
abbr[data-original-title] {
  cursor: help;
  border-bottom: 1px dotted #777777;
}
.initialism {
  font-size: 90%;
  text-transform: uppercase;
}
blockquote {
  padding: 9px 18px;
  margin: 0 0 18px;
  font-size: inherit;
  border-left: 5px solid #eeeeee;
}
blockquote p:last-child,
blockquote ul:last-child,
blockquote ol:last-child {
  margin-bottom: 0;
}
blockquote footer,
blockquote small,
blockquote .small {
  display: block;
  font-size: 80%;
  line-height: 1.42857143;
  color: #777777;
}
blockquote footer:before,
blockquote small:before,
blockquote .small:before {
  content: '\2014 \00A0';
}
.blockquote-reverse,
blockquote.pull-right {
  padding-right: 15px;
  padding-left: 0;
  border-right: 5px solid #eeeeee;
  border-left: 0;
  text-align: right;
}
.blockquote-reverse footer:before,
blockquote.pull-right footer:before,
.blockquote-reverse small:before,
blockquote.pull-right small:before,
.blockquote-reverse .small:before,
blockquote.pull-right .small:before {
  content: '';
}
.blockquote-reverse footer:after,
blockquote.pull-right footer:after,
.blockquote-reverse small:after,
blockquote.pull-right small:after,
.blockquote-reverse .small:after,
blockquote.pull-right .small:after {
  content: '\00A0 \2014';
}
address {
  margin-bottom: 18px;
  font-style: normal;
  line-height: 1.42857143;
}
code,
kbd,
pre,
samp {
  font-family: monospace;
}
code {
  padding: 2px 4px;
  font-size: 90%;
  color: #c7254e;
  background-color: #f9f2f4;
  border-radius: 2px;
}
kbd {
  padding: 2px 4px;
  font-size: 90%;
  color: #888;
  background-color: transparent;
  border-radius: 1px;
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.25);
}
kbd kbd {
  padding: 0;
  font-size: 100%;
  font-weight: bold;
  box-shadow: none;
}
pre {
  display: block;
  padding: 8.5px;
  margin: 0 0 9px;
  font-size: 12px;
  line-height: 1.42857143;
  word-break: break-all;
  word-wrap: break-word;
  color: #333333;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 2px;
}
pre code {
  padding: 0;
  font-size: inherit;
  color: inherit;
  white-space: pre-wrap;
  background-color: transparent;
  border-radius: 0;
}
.pre-scrollable {
  max-height: 340px;
  overflow-y: scroll;
}
.container {
  margin-right: auto;
  margin-left: auto;
  padding-left: 0px;
  padding-right: 0px;
}
@media (min-width: 768px) {
  .container {
    width: 768px;
  }
}
@media (min-width: 992px) {
  .container {
    width: 940px;
  }
}
@media (min-width: 1200px) {
  .container {
    width: 1140px;
  }
}
.container-fluid {
  margin-right: auto;
  margin-left: auto;
  padding-left: 0px;
  padding-right: 0px;
}
.row {
  margin-left: 0px;
  margin-right: 0px;
}
.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {
  position: relative;
  min-height: 1px;
  padding-left: 0px;
  padding-right: 0px;
}
.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12 {
  float: left;
}
.col-xs-12 {
  width: 100%;
}
.col-xs-11 {
  width: 91.66666667%;
}
.col-xs-10 {
  width: 83.33333333%;
}
.col-xs-9 {
  width: 75%;
}
.col-xs-8 {
  width: 66.66666667%;
}
.col-xs-7 {
  width: 58.33333333%;
}
.col-xs-6 {
  width: 50%;
}
.col-xs-5 {
  width: 41.66666667%;
}
.col-xs-4 {
  width: 33.33333333%;
}
.col-xs-3 {
  width: 25%;
}
.col-xs-2 {
  width: 16.66666667%;
}
.col-xs-1 {
  width: 8.33333333%;
}
.col-xs-pull-12 {
  right: 100%;
}
.col-xs-pull-11 {
  right: 91.66666667%;
}
.col-xs-pull-10 {
  right: 83.33333333%;
}
.col-xs-pull-9 {
  right: 75%;
}
.col-xs-pull-8 {
  right: 66.66666667%;
}
.col-xs-pull-7 {
  right: 58.33333333%;
}
.col-xs-pull-6 {
  right: 50%;
}
.col-xs-pull-5 {
  right: 41.66666667%;
}
.col-xs-pull-4 {
  right: 33.33333333%;
}
.col-xs-pull-3 {
  right: 25%;
}
.col-xs-pull-2 {
  right: 16.66666667%;
}
.col-xs-pull-1 {
  right: 8.33333333%;
}
.col-xs-pull-0 {
  right: auto;
}
.col-xs-push-12 {
  left: 100%;
}
.col-xs-push-11 {
  left: 91.66666667%;
}
.col-xs-push-10 {
  left: 83.33333333%;
}
.col-xs-push-9 {
  left: 75%;
}
.col-xs-push-8 {
  left: 66.66666667%;
}
.col-xs-push-7 {
  left: 58.33333333%;
}
.col-xs-push-6 {
  left: 50%;
}
.col-xs-push-5 {
  left: 41.66666667%;
}
.col-xs-push-4 {
  left: 33.33333333%;
}
.col-xs-push-3 {
  left: 25%;
}
.col-xs-push-2 {
  left: 16.66666667%;
}
.col-xs-push-1 {
  left: 8.33333333%;
}
.col-xs-push-0 {
  left: auto;
}
.col-xs-offset-12 {
  margin-left: 100%;
}
.col-xs-offset-11 {
  margin-left: 91.66666667%;
}
.col-xs-offset-10 {
  margin-left: 83.33333333%;
}
.col-xs-offset-9 {
  margin-left: 75%;
}
.col-xs-offset-8 {
  margin-left: 66.66666667%;
}
.col-xs-offset-7 {
  margin-left: 58.33333333%;
}
.col-xs-offset-6 {
  margin-left: 50%;
}
.col-xs-offset-5 {
  margin-left: 41.66666667%;
}
.col-xs-offset-4 {
  margin-left: 33.33333333%;
}
.col-xs-offset-3 {
  margin-left: 25%;
}
.col-xs-offset-2 {
  margin-left: 16.66666667%;
}
.col-xs-offset-1 {
  margin-left: 8.33333333%;
}
.col-xs-offset-0 {
  margin-left: 0%;
}
@media (min-width: 768px) {
  .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {
    float: left;
  }
  .col-sm-12 {
    width: 100%;
  }
  .col-sm-11 {
    width: 91.66666667%;
  }
  .col-sm-10 {
    width: 83.33333333%;
  }
  .col-sm-9 {
    width: 75%;
  }
  .col-sm-8 {
    width: 66.66666667%;
  }
  .col-sm-7 {
    width: 58.33333333%;
  }
  .col-sm-6 {
    width: 50%;
  }
  .col-sm-5 {
    width: 41.66666667%;
  }
  .col-sm-4 {
    width: 33.33333333%;
  }
  .col-sm-3 {
    width: 25%;
  }
  .col-sm-2 {
    width: 16.66666667%;
  }
  .col-sm-1 {
    width: 8.33333333%;
  }
  .col-sm-pull-12 {
    right: 100%;
  }
  .col-sm-pull-11 {
    right: 91.66666667%;
  }
  .col-sm-pull-10 {
    right: 83.33333333%;
  }
  .col-sm-pull-9 {
    right: 75%;
  }
  .col-sm-pull-8 {
    right: 66.66666667%;
  }
  .col-sm-pull-7 {
    right: 58.33333333%;
  }
  .col-sm-pull-6 {
    right: 50%;
  }
  .col-sm-pull-5 {
    right: 41.66666667%;
  }
  .col-sm-pull-4 {
    right: 33.33333333%;
  }
  .col-sm-pull-3 {
    right: 25%;
  }
  .col-sm-pull-2 {
    right: 16.66666667%;
  }
  .col-sm-pull-1 {
    right: 8.33333333%;
  }
  .col-sm-pull-0 {
    right: auto;
  }
  .col-sm-push-12 {
    left: 100%;
  }
  .col-sm-push-11 {
    left: 91.66666667%;
  }
  .col-sm-push-10 {
    left: 83.33333333%;
  }
  .col-sm-push-9 {
    left: 75%;
  }
  .col-sm-push-8 {
    left: 66.66666667%;
  }
  .col-sm-push-7 {
    left: 58.33333333%;
  }
  .col-sm-push-6 {
    left: 50%;
  }
  .col-sm-push-5 {
    left: 41.66666667%;
  }
  .col-sm-push-4 {
    left: 33.33333333%;
  }
  .col-sm-push-3 {
    left: 25%;
  }
  .col-sm-push-2 {
    left: 16.66666667%;
  }
  .col-sm-push-1 {
    left: 8.33333333%;
  }
  .col-sm-push-0 {
    left: auto;
  }
  .col-sm-offset-12 {
    margin-left: 100%;
  }
  .col-sm-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-sm-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-sm-offset-9 {
    margin-left: 75%;
  }
  .col-sm-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-sm-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-sm-offset-6 {
    margin-left: 50%;
  }
  .col-sm-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-sm-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-sm-offset-3 {
    margin-left: 25%;
  }
  .col-sm-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-sm-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-sm-offset-0 {
    margin-left: 0%;
  }
}
@media (min-width: 992px) {
  .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {
    float: left;
  }
  .col-md-12 {
    width: 100%;
  }
  .col-md-11 {
    width: 91.66666667%;
  }
  .col-md-10 {
    width: 83.33333333%;
  }
  .col-md-9 {
    width: 75%;
  }
  .col-md-8 {
    width: 66.66666667%;
  }
  .col-md-7 {
    width: 58.33333333%;
  }
  .col-md-6 {
    width: 50%;
  }
  .col-md-5 {
    width: 41.66666667%;
  }
  .col-md-4 {
    width: 33.33333333%;
  }
  .col-md-3 {
    width: 25%;
  }
  .col-md-2 {
    width: 16.66666667%;
  }
  .col-md-1 {
    width: 8.33333333%;
  }
  .col-md-pull-12 {
    right: 100%;
  }
  .col-md-pull-11 {
    right: 91.66666667%;
  }
  .col-md-pull-10 {
    right: 83.33333333%;
  }
  .col-md-pull-9 {
    right: 75%;
  }
  .col-md-pull-8 {
    right: 66.66666667%;
  }
  .col-md-pull-7 {
    right: 58.33333333%;
  }
  .col-md-pull-6 {
    right: 50%;
  }
  .col-md-pull-5 {
    right: 41.66666667%;
  }
  .col-md-pull-4 {
    right: 33.33333333%;
  }
  .col-md-pull-3 {
    right: 25%;
  }
  .col-md-pull-2 {
    right: 16.66666667%;
  }
  .col-md-pull-1 {
    right: 8.33333333%;
  }
  .col-md-pull-0 {
    right: auto;
  }
  .col-md-push-12 {
    left: 100%;
  }
  .col-md-push-11 {
    left: 91.66666667%;
  }
  .col-md-push-10 {
    left: 83.33333333%;
  }
  .col-md-push-9 {
    left: 75%;
  }
  .col-md-push-8 {
    left: 66.66666667%;
  }
  .col-md-push-7 {
    left: 58.33333333%;
  }
  .col-md-push-6 {
    left: 50%;
  }
  .col-md-push-5 {
    left: 41.66666667%;
  }
  .col-md-push-4 {
    left: 33.33333333%;
  }
  .col-md-push-3 {
    left: 25%;
  }
  .col-md-push-2 {
    left: 16.66666667%;
  }
  .col-md-push-1 {
    left: 8.33333333%;
  }
  .col-md-push-0 {
    left: auto;
  }
  .col-md-offset-12 {
    margin-left: 100%;
  }
  .col-md-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-md-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-md-offset-9 {
    margin-left: 75%;
  }
  .col-md-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-md-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-md-offset-6 {
    margin-left: 50%;
  }
  .col-md-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-md-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-md-offset-3 {
    margin-left: 25%;
  }
  .col-md-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-md-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-md-offset-0 {
    margin-left: 0%;
  }
}
@media (min-width: 1200px) {
  .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12 {
    float: left;
  }
  .col-lg-12 {
    width: 100%;
  }
  .col-lg-11 {
    width: 91.66666667%;
  }
  .col-lg-10 {
    width: 83.33333333%;
  }
  .col-lg-9 {
    width: 75%;
  }
  .col-lg-8 {
    width: 66.66666667%;
  }
  .col-lg-7 {
    width: 58.33333333%;
  }
  .col-lg-6 {
    width: 50%;
  }
  .col-lg-5 {
    width: 41.66666667%;
  }
  .col-lg-4 {
    width: 33.33333333%;
  }
  .col-lg-3 {
    width: 25%;
  }
  .col-lg-2 {
    width: 16.66666667%;
  }
  .col-lg-1 {
    width: 8.33333333%;
  }
  .col-lg-pull-12 {
    right: 100%;
  }
  .col-lg-pull-11 {
    right: 91.66666667%;
  }
  .col-lg-pull-10 {
    right: 83.33333333%;
  }
  .col-lg-pull-9 {
    right: 75%;
  }
  .col-lg-pull-8 {
    right: 66.66666667%;
  }
  .col-lg-pull-7 {
    right: 58.33333333%;
  }
  .col-lg-pull-6 {
    right: 50%;
  }
  .col-lg-pull-5 {
    right: 41.66666667%;
  }
  .col-lg-pull-4 {
    right: 33.33333333%;
  }
  .col-lg-pull-3 {
    right: 25%;
  }
  .col-lg-pull-2 {
    right: 16.66666667%;
  }
  .col-lg-pull-1 {
    right: 8.33333333%;
  }
  .col-lg-pull-0 {
    right: auto;
  }
  .col-lg-push-12 {
    left: 100%;
  }
  .col-lg-push-11 {
    left: 91.66666667%;
  }
  .col-lg-push-10 {
    left: 83.33333333%;
  }
  .col-lg-push-9 {
    left: 75%;
  }
  .col-lg-push-8 {
    left: 66.66666667%;
  }
  .col-lg-push-7 {
    left: 58.33333333%;
  }
  .col-lg-push-6 {
    left: 50%;
  }
  .col-lg-push-5 {
    left: 41.66666667%;
  }
  .col-lg-push-4 {
    left: 33.33333333%;
  }
  .col-lg-push-3 {
    left: 25%;
  }
  .col-lg-push-2 {
    left: 16.66666667%;
  }
  .col-lg-push-1 {
    left: 8.33333333%;
  }
  .col-lg-push-0 {
    left: auto;
  }
  .col-lg-offset-12 {
    margin-left: 100%;
  }
  .col-lg-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-lg-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-lg-offset-9 {
    margin-left: 75%;
  }
  .col-lg-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-lg-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-lg-offset-6 {
    margin-left: 50%;
  }
  .col-lg-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-lg-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-lg-offset-3 {
    margin-left: 25%;
  }
  .col-lg-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-lg-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-lg-offset-0 {
    margin-left: 0%;
  }
}
table {
  background-color: transparent;
}
caption {
  padding-top: 8px;
  padding-bottom: 8px;
  color: #777777;
  text-align: left;
}
th {
  text-align: left;
}
.table {
  width: 100%;
  max-width: 100%;
  margin-bottom: 18px;
}
.table > thead > tr > th,
.table > tbody > tr > th,
.table > tfoot > tr > th,
.table > thead > tr > td,
.table > tbody > tr > td,
.table > tfoot > tr > td {
  padding: 8px;
  line-height: 1.42857143;
  vertical-align: top;
  border-top: 1px solid #ddd;
}
.table > thead > tr > th {
  vertical-align: bottom;
  border-bottom: 2px solid #ddd;
}
.table > caption + thead > tr:first-child > th,
.table > colgroup + thead > tr:first-child > th,
.table > thead:first-child > tr:first-child > th,
.table > caption + thead > tr:first-child > td,
.table > colgroup + thead > tr:first-child > td,
.table > thead:first-child > tr:first-child > td {
  border-top: 0;
}
.table > tbody + tbody {
  border-top: 2px solid #ddd;
}
.table .table {
  background-color: #fff;
}
.table-condensed > thead > tr > th,
.table-condensed > tbody > tr > th,
.table-condensed > tfoot > tr > th,
.table-condensed > thead > tr > td,
.table-condensed > tbody > tr > td,
.table-condensed > tfoot > tr > td {
  padding: 5px;
}
.table-bordered {
  border: 1px solid #ddd;
}
.table-bordered > thead > tr > th,
.table-bordered > tbody > tr > th,
.table-bordered > tfoot > tr > th,
.table-bordered > thead > tr > td,
.table-bordered > tbody > tr > td,
.table-bordered > tfoot > tr > td {
  border: 1px solid #ddd;
}
.table-bordered > thead > tr > th,
.table-bordered > thead > tr > td {
  border-bottom-width: 2px;
}
.table-striped > tbody > tr:nth-of-type(odd) {
  background-color: #f9f9f9;
}
.table-hover > tbody > tr:hover {
  background-color: #f5f5f5;
}
table col[class*="col-"] {
  position: static;
  float: none;
  display: table-column;
}
table td[class*="col-"],
table th[class*="col-"] {
  position: static;
  float: none;
  display: table-cell;
}
.table > thead > tr > td.active,
.table > tbody > tr > td.active,
.table > tfoot > tr > td.active,
.table > thead > tr > th.active,
.table > tbody > tr > th.active,
.table > tfoot > tr > th.active,
.table > thead > tr.active > td,
.table > tbody > tr.active > td,
.table > tfoot > tr.active > td,
.table > thead > tr.active > th,
.table > tbody > tr.active > th,
.table > tfoot > tr.active > th {
  background-color: #f5f5f5;
}
.table-hover > tbody > tr > td.active:hover,
.table-hover > tbody > tr > th.active:hover,
.table-hover > tbody > tr.active:hover > td,
.table-hover > tbody > tr:hover > .active,
.table-hover > tbody > tr.active:hover > th {
  background-color: #e8e8e8;
}
.table > thead > tr > td.success,
.table > tbody > tr > td.success,
.table > tfoot > tr > td.success,
.table > thead > tr > th.success,
.table > tbody > tr > th.success,
.table > tfoot > tr > th.success,
.table > thead > tr.success > td,
.table > tbody > tr.success > td,
.table > tfoot > tr.success > td,
.table > thead > tr.success > th,
.table > tbody > tr.success > th,
.table > tfoot > tr.success > th {
  background-color: #dff0d8;
}
.table-hover > tbody > tr > td.success:hover,
.table-hover > tbody > tr > th.success:hover,
.table-hover > tbody > tr.success:hover > td,
.table-hover > tbody > tr:hover > .success,
.table-hover > tbody > tr.success:hover > th {
  background-color: #d0e9c6;
}
.table > thead > tr > td.info,
.table > tbody > tr > td.info,
.table > tfoot > tr > td.info,
.table > thead > tr > th.info,
.table > tbody > tr > th.info,
.table > tfoot > tr > th.info,
.table > thead > tr.info > td,
.table > tbody > tr.info > td,
.table > tfoot > tr.info > td,
.table > thead > tr.info > th,
.table > tbody > tr.info > th,
.table > tfoot > tr.info > th {
  background-color: #d9edf7;
}
.table-hover > tbody > tr > td.info:hover,
.table-hover > tbody > tr > th.info:hover,
.table-hover > tbody > tr.info:hover > td,
.table-hover > tbody > tr:hover > .info,
.table-hover > tbody > tr.info:hover > th {
  background-color: #c4e3f3;
}
.table > thead > tr > td.warning,
.table > tbody > tr > td.warning,
.table > tfoot > tr > td.warning,
.table > thead > tr > th.warning,
.table > tbody > tr > th.warning,
.table > tfoot > tr > th.warning,
.table > thead > tr.warning > td,
.table > tbody > tr.warning > td,
.table > tfoot > tr.warning > td,
.table > thead > tr.warning > th,
.table > tbody > tr.warning > th,
.table > tfoot > tr.warning > th {
  background-color: #fcf8e3;
}
.table-hover > tbody > tr > td.warning:hover,
.table-hover > tbody > tr > th.warning:hover,
.table-hover > tbody > tr.warning:hover > td,
.table-hover > tbody > tr:hover > .warning,
.table-hover > tbody > tr.warning:hover > th {
  background-color: #faf2cc;
}
.table > thead > tr > td.danger,
.table > tbody > tr > td.danger,
.table > tfoot > tr > td.danger,
.table > thead > tr > th.danger,
.table > tbody > tr > th.danger,
.table > tfoot > tr > th.danger,
.table > thead > tr.danger > td,
.table > tbody > tr.danger > td,
.table > tfoot > tr.danger > td,
.table > thead > tr.danger > th,
.table > tbody > tr.danger > th,
.table > tfoot > tr.danger > th {
  background-color: #f2dede;
}
.table-hover > tbody > tr > td.danger:hover,
.table-hover > tbody > tr > th.danger:hover,
.table-hover > tbody > tr.danger:hover > td,
.table-hover > tbody > tr:hover > .danger,
.table-hover > tbody > tr.danger:hover > th {
  background-color: #ebcccc;
}
.table-responsive {
  overflow-x: auto;
  min-height: 0.01%;
}
@media screen and (max-width: 767px) {
  .table-responsive {
    width: 100%;
    margin-bottom: 13.5px;
    overflow-y: hidden;
    -ms-overflow-style: -ms-autohiding-scrollbar;
    border: 1px solid #ddd;
  }
  .table-responsive > .table {
    margin-bottom: 0;
  }
  .table-responsive > .table > thead > tr > th,
  .table-responsive > .table > tbody > tr > th,
  .table-responsive > .table > tfoot > tr > th,
  .table-responsive > .table > thead > tr > td,
  .table-responsive > .table > tbody > tr > td,
  .table-responsive > .table > tfoot > tr > td {
    white-space: nowrap;
  }
  .table-responsive > .table-bordered {
    border: 0;
  }
  .table-responsive > .table-bordered > thead > tr > th:first-child,
  .table-responsive > .table-bordered > tbody > tr > th:first-child,
  .table-responsive > .table-bordered > tfoot > tr > th:first-child,
  .table-responsive > .table-bordered > thead > tr > td:first-child,
  .table-responsive > .table-bordered > tbody > tr > td:first-child,
  .table-responsive > .table-bordered > tfoot > tr > td:first-child {
    border-left: 0;
  }
  .table-responsive > .table-bordered > thead > tr > th:last-child,
  .table-responsive > .table-bordered > tbody > tr > th:last-child,
  .table-responsive > .table-bordered > tfoot > tr > th:last-child,
  .table-responsive > .table-bordered > thead > tr > td:last-child,
  .table-responsive > .table-bordered > tbody > tr > td:last-child,
  .table-responsive > .table-bordered > tfoot > tr > td:last-child {
    border-right: 0;
  }
  .table-responsive > .table-bordered > tbody > tr:last-child > th,
  .table-responsive > .table-bordered > tfoot > tr:last-child > th,
  .table-responsive > .table-bordered > tbody > tr:last-child > td,
  .table-responsive > .table-bordered > tfoot > tr:last-child > td {
    border-bottom: 0;
  }
}
fieldset {
  padding: 0;
  margin: 0;
  border: 0;
  min-width: 0;
}
legend {
  display: block;
  width: 100%;
  padding: 0;
  margin-bottom: 18px;
  font-size: 19.5px;
  line-height: inherit;
  color: #333333;
  border: 0;
  border-bottom: 1px solid #e5e5e5;
}
label {
  display: inline-block;
  max-width: 100%;
  margin-bottom: 5px;
  font-weight: bold;
}
input[type="search"] {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
input[type="radio"],
input[type="checkbox"] {
  margin: 4px 0 0;
  margin-top: 1px \9;
  line-height: normal;
}
input[type="file"] {
  display: block;
}
input[type="range"] {
  display: block;
  width: 100%;
}
select[multiple],
select[size] {
  height: auto;
}
input[type="file"]:focus,
input[type="radio"]:focus,
input[type="checkbox"]:focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
output {
  display: block;
  padding-top: 7px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
}
.form-control {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}
.form-control:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.form-control::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.form-control:-ms-input-placeholder {
  color: #999;
}
.form-control::-webkit-input-placeholder {
  color: #999;
}
.form-control::-ms-expand {
  border: 0;
  background-color: transparent;
}
.form-control[disabled],
.form-control[readonly],
fieldset[disabled] .form-control {
  background-color: #eeeeee;
  opacity: 1;
}
.form-control[disabled],
fieldset[disabled] .form-control {
  cursor: not-allowed;
}
textarea.form-control {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: none;
}
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  input[type="date"].form-control,
  input[type="time"].form-control,
  input[type="datetime-local"].form-control,
  input[type="month"].form-control {
    line-height: 32px;
  }
  input[type="date"].input-sm,
  input[type="time"].input-sm,
  input[type="datetime-local"].input-sm,
  input[type="month"].input-sm,
  .input-group-sm input[type="date"],
  .input-group-sm input[type="time"],
  .input-group-sm input[type="datetime-local"],
  .input-group-sm input[type="month"] {
    line-height: 30px;
  }
  input[type="date"].input-lg,
  input[type="time"].input-lg,
  input[type="datetime-local"].input-lg,
  input[type="month"].input-lg,
  .input-group-lg input[type="date"],
  .input-group-lg input[type="time"],
  .input-group-lg input[type="datetime-local"],
  .input-group-lg input[type="month"] {
    line-height: 45px;
  }
}
.form-group {
  margin-bottom: 15px;
}
.radio,
.checkbox {
  position: relative;
  display: block;
  margin-top: 10px;
  margin-bottom: 10px;
}
.radio label,
.checkbox label {
  min-height: 18px;
  padding-left: 20px;
  margin-bottom: 0;
  font-weight: normal;
  cursor: pointer;
}
.radio input[type="radio"],
.radio-inline input[type="radio"],
.checkbox input[type="checkbox"],
.checkbox-inline input[type="checkbox"] {
  position: absolute;
  margin-left: -20px;
  margin-top: 4px \9;
}
.radio + .radio,
.checkbox + .checkbox {
  margin-top: -5px;
}
.radio-inline,
.checkbox-inline {
  position: relative;
  display: inline-block;
  padding-left: 20px;
  margin-bottom: 0;
  vertical-align: middle;
  font-weight: normal;
  cursor: pointer;
}
.radio-inline + .radio-inline,
.checkbox-inline + .checkbox-inline {
  margin-top: 0;
  margin-left: 10px;
}
input[type="radio"][disabled],
input[type="checkbox"][disabled],
input[type="radio"].disabled,
input[type="checkbox"].disabled,
fieldset[disabled] input[type="radio"],
fieldset[disabled] input[type="checkbox"] {
  cursor: not-allowed;
}
.radio-inline.disabled,
.checkbox-inline.disabled,
fieldset[disabled] .radio-inline,
fieldset[disabled] .checkbox-inline {
  cursor: not-allowed;
}
.radio.disabled label,
.checkbox.disabled label,
fieldset[disabled] .radio label,
fieldset[disabled] .checkbox label {
  cursor: not-allowed;
}
.form-control-static {
  padding-top: 7px;
  padding-bottom: 7px;
  margin-bottom: 0;
  min-height: 31px;
}
.form-control-static.input-lg,
.form-control-static.input-sm {
  padding-left: 0;
  padding-right: 0;
}
.input-sm {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
select.input-sm {
  height: 30px;
  line-height: 30px;
}
textarea.input-sm,
select[multiple].input-sm {
  height: auto;
}
.form-group-sm .form-control {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.form-group-sm select.form-control {
  height: 30px;
  line-height: 30px;
}
.form-group-sm textarea.form-control,
.form-group-sm select[multiple].form-control {
  height: auto;
}
.form-group-sm .form-control-static {
  height: 30px;
  min-height: 30px;
  padding: 6px 10px;
  font-size: 12px;
  line-height: 1.5;
}
.input-lg {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
select.input-lg {
  height: 45px;
  line-height: 45px;
}
textarea.input-lg,
select[multiple].input-lg {
  height: auto;
}
.form-group-lg .form-control {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
.form-group-lg select.form-control {
  height: 45px;
  line-height: 45px;
}
.form-group-lg textarea.form-control,
.form-group-lg select[multiple].form-control {
  height: auto;
}
.form-group-lg .form-control-static {
  height: 45px;
  min-height: 35px;
  padding: 11px 16px;
  font-size: 17px;
  line-height: 1.3333333;
}
.has-feedback {
  position: relative;
}
.has-feedback .form-control {
  padding-right: 40px;
}
.form-control-feedback {
  position: absolute;
  top: 0;
  right: 0;
  z-index: 2;
  display: block;
  width: 32px;
  height: 32px;
  line-height: 32px;
  text-align: center;
  pointer-events: none;
}
.input-lg + .form-control-feedback,
.input-group-lg + .form-control-feedback,
.form-group-lg .form-control + .form-control-feedback {
  width: 45px;
  height: 45px;
  line-height: 45px;
}
.input-sm + .form-control-feedback,
.input-group-sm + .form-control-feedback,
.form-group-sm .form-control + .form-control-feedback {
  width: 30px;
  height: 30px;
  line-height: 30px;
}
.has-success .help-block,
.has-success .control-label,
.has-success .radio,
.has-success .checkbox,
.has-success .radio-inline,
.has-success .checkbox-inline,
.has-success.radio label,
.has-success.checkbox label,
.has-success.radio-inline label,
.has-success.checkbox-inline label {
  color: #3c763d;
}
.has-success .form-control {
  border-color: #3c763d;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-success .form-control:focus {
  border-color: #2b542c;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;
}
.has-success .input-group-addon {
  color: #3c763d;
  border-color: #3c763d;
  background-color: #dff0d8;
}
.has-success .form-control-feedback {
  color: #3c763d;
}
.has-warning .help-block,
.has-warning .control-label,
.has-warning .radio,
.has-warning .checkbox,
.has-warning .radio-inline,
.has-warning .checkbox-inline,
.has-warning.radio label,
.has-warning.checkbox label,
.has-warning.radio-inline label,
.has-warning.checkbox-inline label {
  color: #8a6d3b;
}
.has-warning .form-control {
  border-color: #8a6d3b;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-warning .form-control:focus {
  border-color: #66512c;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;
}
.has-warning .input-group-addon {
  color: #8a6d3b;
  border-color: #8a6d3b;
  background-color: #fcf8e3;
}
.has-warning .form-control-feedback {
  color: #8a6d3b;
}
.has-error .help-block,
.has-error .control-label,
.has-error .radio,
.has-error .checkbox,
.has-error .radio-inline,
.has-error .checkbox-inline,
.has-error.radio label,
.has-error.checkbox label,
.has-error.radio-inline label,
.has-error.checkbox-inline label {
  color: #a94442;
}
.has-error .form-control {
  border-color: #a94442;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-error .form-control:focus {
  border-color: #843534;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;
}
.has-error .input-group-addon {
  color: #a94442;
  border-color: #a94442;
  background-color: #f2dede;
}
.has-error .form-control-feedback {
  color: #a94442;
}
.has-feedback label ~ .form-control-feedback {
  top: 23px;
}
.has-feedback label.sr-only ~ .form-control-feedback {
  top: 0;
}
.help-block {
  display: block;
  margin-top: 5px;
  margin-bottom: 10px;
  color: #404040;
}
@media (min-width: 768px) {
  .form-inline .form-group {
    display: inline-block;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .form-control {
    display: inline-block;
    width: auto;
    vertical-align: middle;
  }
  .form-inline .form-control-static {
    display: inline-block;
  }
  .form-inline .input-group {
    display: inline-table;
    vertical-align: middle;
  }
  .form-inline .input-group .input-group-addon,
  .form-inline .input-group .input-group-btn,
  .form-inline .input-group .form-control {
    width: auto;
  }
  .form-inline .input-group > .form-control {
    width: 100%;
  }
  .form-inline .control-label {
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .radio,
  .form-inline .checkbox {
    display: inline-block;
    margin-top: 0;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .radio label,
  .form-inline .checkbox label {
    padding-left: 0;
  }
  .form-inline .radio input[type="radio"],
  .form-inline .checkbox input[type="checkbox"] {
    position: relative;
    margin-left: 0;
  }
  .form-inline .has-feedback .form-control-feedback {
    top: 0;
  }
}
.form-horizontal .radio,
.form-horizontal .checkbox,
.form-horizontal .radio-inline,
.form-horizontal .checkbox-inline {
  margin-top: 0;
  margin-bottom: 0;
  padding-top: 7px;
}
.form-horizontal .radio,
.form-horizontal .checkbox {
  min-height: 25px;
}
.form-horizontal .form-group {
  margin-left: 0px;
  margin-right: 0px;
}
@media (min-width: 768px) {
  .form-horizontal .control-label {
    text-align: right;
    margin-bottom: 0;
    padding-top: 7px;
  }
}
.form-horizontal .has-feedback .form-control-feedback {
  right: 0px;
}
@media (min-width: 768px) {
  .form-horizontal .form-group-lg .control-label {
    padding-top: 11px;
    font-size: 17px;
  }
}
@media (min-width: 768px) {
  .form-horizontal .form-group-sm .control-label {
    padding-top: 6px;
    font-size: 12px;
  }
}
.btn {
  display: inline-block;
  margin-bottom: 0;
  font-weight: normal;
  text-align: center;
  vertical-align: middle;
  touch-action: manipulation;
  cursor: pointer;
  background-image: none;
  border: 1px solid transparent;
  white-space: nowrap;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  border-radius: 2px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.btn:focus,
.btn:active:focus,
.btn.active:focus,
.btn.focus,
.btn:active.focus,
.btn.active.focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
.btn:hover,
.btn:focus,
.btn.focus {
  color: #333;
  text-decoration: none;
}
.btn:active,
.btn.active {
  outline: 0;
  background-image: none;
  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
}
.btn.disabled,
.btn[disabled],
fieldset[disabled] .btn {
  cursor: not-allowed;
  opacity: 0.65;
  filter: alpha(opacity=65);
  -webkit-box-shadow: none;
  box-shadow: none;
}
a.btn.disabled,
fieldset[disabled] a.btn {
  pointer-events: none;
}
.btn-default {
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
.btn-default:focus,
.btn-default.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
.btn-default:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.btn-default:active,
.btn-default.active,
.open > .dropdown-toggle.btn-default {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.btn-default:active:hover,
.btn-default.active:hover,
.open > .dropdown-toggle.btn-default:hover,
.btn-default:active:focus,
.btn-default.active:focus,
.open > .dropdown-toggle.btn-default:focus,
.btn-default:active.focus,
.btn-default.active.focus,
.open > .dropdown-toggle.btn-default.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
.btn-default:active,
.btn-default.active,
.open > .dropdown-toggle.btn-default {
  background-image: none;
}
.btn-default.disabled:hover,
.btn-default[disabled]:hover,
fieldset[disabled] .btn-default:hover,
.btn-default.disabled:focus,
.btn-default[disabled]:focus,
fieldset[disabled] .btn-default:focus,
.btn-default.disabled.focus,
.btn-default[disabled].focus,
fieldset[disabled] .btn-default.focus {
  background-color: #fff;
  border-color: #ccc;
}
.btn-default .badge {
  color: #fff;
  background-color: #333;
}
.btn-primary {
  color: #fff;
  background-color: #337ab7;
  border-color: #2e6da4;
}
.btn-primary:focus,
.btn-primary.focus {
  color: #fff;
  background-color: #286090;
  border-color: #122b40;
}
.btn-primary:hover {
  color: #fff;
  background-color: #286090;
  border-color: #204d74;
}
.btn-primary:active,
.btn-primary.active,
.open > .dropdown-toggle.btn-primary {
  color: #fff;
  background-color: #286090;
  border-color: #204d74;
}
.btn-primary:active:hover,
.btn-primary.active:hover,
.open > .dropdown-toggle.btn-primary:hover,
.btn-primary:active:focus,
.btn-primary.active:focus,
.open > .dropdown-toggle.btn-primary:focus,
.btn-primary:active.focus,
.btn-primary.active.focus,
.open > .dropdown-toggle.btn-primary.focus {
  color: #fff;
  background-color: #204d74;
  border-color: #122b40;
}
.btn-primary:active,
.btn-primary.active,
.open > .dropdown-toggle.btn-primary {
  background-image: none;
}
.btn-primary.disabled:hover,
.btn-primary[disabled]:hover,
fieldset[disabled] .btn-primary:hover,
.btn-primary.disabled:focus,
.btn-primary[disabled]:focus,
fieldset[disabled] .btn-primary:focus,
.btn-primary.disabled.focus,
.btn-primary[disabled].focus,
fieldset[disabled] .btn-primary.focus {
  background-color: #337ab7;
  border-color: #2e6da4;
}
.btn-primary .badge {
  color: #337ab7;
  background-color: #fff;
}
.btn-success {
  color: #fff;
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.btn-success:focus,
.btn-success.focus {
  color: #fff;
  background-color: #449d44;
  border-color: #255625;
}
.btn-success:hover {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.btn-success:active,
.btn-success.active,
.open > .dropdown-toggle.btn-success {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.btn-success:active:hover,
.btn-success.active:hover,
.open > .dropdown-toggle.btn-success:hover,
.btn-success:active:focus,
.btn-success.active:focus,
.open > .dropdown-toggle.btn-success:focus,
.btn-success:active.focus,
.btn-success.active.focus,
.open > .dropdown-toggle.btn-success.focus {
  color: #fff;
  background-color: #398439;
  border-color: #255625;
}
.btn-success:active,
.btn-success.active,
.open > .dropdown-toggle.btn-success {
  background-image: none;
}
.btn-success.disabled:hover,
.btn-success[disabled]:hover,
fieldset[disabled] .btn-success:hover,
.btn-success.disabled:focus,
.btn-success[disabled]:focus,
fieldset[disabled] .btn-success:focus,
.btn-success.disabled.focus,
.btn-success[disabled].focus,
fieldset[disabled] .btn-success.focus {
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.btn-success .badge {
  color: #5cb85c;
  background-color: #fff;
}
.btn-info {
  color: #fff;
  background-color: #5bc0de;
  border-color: #46b8da;
}
.btn-info:focus,
.btn-info.focus {
  color: #fff;
  background-color: #31b0d5;
  border-color: #1b6d85;
}
.btn-info:hover {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.btn-info:active,
.btn-info.active,
.open > .dropdown-toggle.btn-info {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.btn-info:active:hover,
.btn-info.active:hover,
.open > .dropdown-toggle.btn-info:hover,
.btn-info:active:focus,
.btn-info.active:focus,
.open > .dropdown-toggle.btn-info:focus,
.btn-info:active.focus,
.btn-info.active.focus,
.open > .dropdown-toggle.btn-info.focus {
  color: #fff;
  background-color: #269abc;
  border-color: #1b6d85;
}
.btn-info:active,
.btn-info.active,
.open > .dropdown-toggle.btn-info {
  background-image: none;
}
.btn-info.disabled:hover,
.btn-info[disabled]:hover,
fieldset[disabled] .btn-info:hover,
.btn-info.disabled:focus,
.btn-info[disabled]:focus,
fieldset[disabled] .btn-info:focus,
.btn-info.disabled.focus,
.btn-info[disabled].focus,
fieldset[disabled] .btn-info.focus {
  background-color: #5bc0de;
  border-color: #46b8da;
}
.btn-info .badge {
  color: #5bc0de;
  background-color: #fff;
}
.btn-warning {
  color: #fff;
  background-color: #f0ad4e;
  border-color: #eea236;
}
.btn-warning:focus,
.btn-warning.focus {
  color: #fff;
  background-color: #ec971f;
  border-color: #985f0d;
}
.btn-warning:hover {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.btn-warning:active,
.btn-warning.active,
.open > .dropdown-toggle.btn-warning {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.btn-warning:active:hover,
.btn-warning.active:hover,
.open > .dropdown-toggle.btn-warning:hover,
.btn-warning:active:focus,
.btn-warning.active:focus,
.open > .dropdown-toggle.btn-warning:focus,
.btn-warning:active.focus,
.btn-warning.active.focus,
.open > .dropdown-toggle.btn-warning.focus {
  color: #fff;
  background-color: #d58512;
  border-color: #985f0d;
}
.btn-warning:active,
.btn-warning.active,
.open > .dropdown-toggle.btn-warning {
  background-image: none;
}
.btn-warning.disabled:hover,
.btn-warning[disabled]:hover,
fieldset[disabled] .btn-warning:hover,
.btn-warning.disabled:focus,
.btn-warning[disabled]:focus,
fieldset[disabled] .btn-warning:focus,
.btn-warning.disabled.focus,
.btn-warning[disabled].focus,
fieldset[disabled] .btn-warning.focus {
  background-color: #f0ad4e;
  border-color: #eea236;
}
.btn-warning .badge {
  color: #f0ad4e;
  background-color: #fff;
}
.btn-danger {
  color: #fff;
  background-color: #d9534f;
  border-color: #d43f3a;
}
.btn-danger:focus,
.btn-danger.focus {
  color: #fff;
  background-color: #c9302c;
  border-color: #761c19;
}
.btn-danger:hover {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.btn-danger:active,
.btn-danger.active,
.open > .dropdown-toggle.btn-danger {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.btn-danger:active:hover,
.btn-danger.active:hover,
.open > .dropdown-toggle.btn-danger:hover,
.btn-danger:active:focus,
.btn-danger.active:focus,
.open > .dropdown-toggle.btn-danger:focus,
.btn-danger:active.focus,
.btn-danger.active.focus,
.open > .dropdown-toggle.btn-danger.focus {
  color: #fff;
  background-color: #ac2925;
  border-color: #761c19;
}
.btn-danger:active,
.btn-danger.active,
.open > .dropdown-toggle.btn-danger {
  background-image: none;
}
.btn-danger.disabled:hover,
.btn-danger[disabled]:hover,
fieldset[disabled] .btn-danger:hover,
.btn-danger.disabled:focus,
.btn-danger[disabled]:focus,
fieldset[disabled] .btn-danger:focus,
.btn-danger.disabled.focus,
.btn-danger[disabled].focus,
fieldset[disabled] .btn-danger.focus {
  background-color: #d9534f;
  border-color: #d43f3a;
}
.btn-danger .badge {
  color: #d9534f;
  background-color: #fff;
}
.btn-link {
  color: #337ab7;
  font-weight: normal;
  border-radius: 0;
}
.btn-link,
.btn-link:active,
.btn-link.active,
.btn-link[disabled],
fieldset[disabled] .btn-link {
  background-color: transparent;
  -webkit-box-shadow: none;
  box-shadow: none;
}
.btn-link,
.btn-link:hover,
.btn-link:focus,
.btn-link:active {
  border-color: transparent;
}
.btn-link:hover,
.btn-link:focus {
  color: #23527c;
  text-decoration: underline;
  background-color: transparent;
}
.btn-link[disabled]:hover,
fieldset[disabled] .btn-link:hover,
.btn-link[disabled]:focus,
fieldset[disabled] .btn-link:focus {
  color: #777777;
  text-decoration: none;
}
.btn-lg,
.btn-group-lg > .btn {
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
.btn-sm,
.btn-group-sm > .btn {
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.btn-xs,
.btn-group-xs > .btn {
  padding: 1px 5px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.btn-block {
  display: block;
  width: 100%;
}
.btn-block + .btn-block {
  margin-top: 5px;
}
input[type="submit"].btn-block,
input[type="reset"].btn-block,
input[type="button"].btn-block {
  width: 100%;
}
.fade {
  opacity: 0;
  -webkit-transition: opacity 0.15s linear;
  -o-transition: opacity 0.15s linear;
  transition: opacity 0.15s linear;
}
.fade.in {
  opacity: 1;
}
.collapse {
  display: none;
}
.collapse.in {
  display: block;
}
tr.collapse.in {
  display: table-row;
}
tbody.collapse.in {
  display: table-row-group;
}
.collapsing {
  position: relative;
  height: 0;
  overflow: hidden;
  -webkit-transition-property: height, visibility;
  transition-property: height, visibility;
  -webkit-transition-duration: 0.35s;
  transition-duration: 0.35s;
  -webkit-transition-timing-function: ease;
  transition-timing-function: ease;
}
.caret {
  display: inline-block;
  width: 0;
  height: 0;
  margin-left: 2px;
  vertical-align: middle;
  border-top: 4px dashed;
  border-top: 4px solid \9;
  border-right: 4px solid transparent;
  border-left: 4px solid transparent;
}
.dropup,
.dropdown {
  position: relative;
}
.dropdown-toggle:focus {
  outline: 0;
}
.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 1000;
  display: none;
  float: left;
  min-width: 160px;
  padding: 5px 0;
  margin: 2px 0 0;
  list-style: none;
  font-size: 13px;
  text-align: left;
  background-color: #fff;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.15);
  border-radius: 2px;
  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  background-clip: padding-box;
}
.dropdown-menu.pull-right {
  right: 0;
  left: auto;
}
.dropdown-menu .divider {
  height: 1px;
  margin: 8px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
.dropdown-menu > li > a {
  display: block;
  padding: 3px 20px;
  clear: both;
  font-weight: normal;
  line-height: 1.42857143;
  color: #333333;
  white-space: nowrap;
}
.dropdown-menu > li > a:hover,
.dropdown-menu > li > a:focus {
  text-decoration: none;
  color: #262626;
  background-color: #f5f5f5;
}
.dropdown-menu > .active > a,
.dropdown-menu > .active > a:hover,
.dropdown-menu > .active > a:focus {
  color: #fff;
  text-decoration: none;
  outline: 0;
  background-color: #337ab7;
}
.dropdown-menu > .disabled > a,
.dropdown-menu > .disabled > a:hover,
.dropdown-menu > .disabled > a:focus {
  color: #777777;
}
.dropdown-menu > .disabled > a:hover,
.dropdown-menu > .disabled > a:focus {
  text-decoration: none;
  background-color: transparent;
  background-image: none;
  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
  cursor: not-allowed;
}
.open > .dropdown-menu {
  display: block;
}
.open > a {
  outline: 0;
}
.dropdown-menu-right {
  left: auto;
  right: 0;
}
.dropdown-menu-left {
  left: 0;
  right: auto;
}
.dropdown-header {
  display: block;
  padding: 3px 20px;
  font-size: 12px;
  line-height: 1.42857143;
  color: #777777;
  white-space: nowrap;
}
.dropdown-backdrop {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  z-index: 990;
}
.pull-right > .dropdown-menu {
  right: 0;
  left: auto;
}
.dropup .caret,
.navbar-fixed-bottom .dropdown .caret {
  border-top: 0;
  border-bottom: 4px dashed;
  border-bottom: 4px solid \9;
  content: "";
}
.dropup .dropdown-menu,
.navbar-fixed-bottom .dropdown .dropdown-menu {
  top: auto;
  bottom: 100%;
  margin-bottom: 2px;
}
@media (min-width: 541px) {
  .navbar-right .dropdown-menu {
    left: auto;
    right: 0;
  }
  .navbar-right .dropdown-menu-left {
    left: 0;
    right: auto;
  }
}
.btn-group,
.btn-group-vertical {
  position: relative;
  display: inline-block;
  vertical-align: middle;
}
.btn-group > .btn,
.btn-group-vertical > .btn {
  position: relative;
  float: left;
}
.btn-group > .btn:hover,
.btn-group-vertical > .btn:hover,
.btn-group > .btn:focus,
.btn-group-vertical > .btn:focus,
.btn-group > .btn:active,
.btn-group-vertical > .btn:active,
.btn-group > .btn.active,
.btn-group-vertical > .btn.active {
  z-index: 2;
}
.btn-group .btn + .btn,
.btn-group .btn + .btn-group,
.btn-group .btn-group + .btn,
.btn-group .btn-group + .btn-group {
  margin-left: -1px;
}
.btn-toolbar {
  margin-left: -5px;
}
.btn-toolbar .btn,
.btn-toolbar .btn-group,
.btn-toolbar .input-group {
  float: left;
}
.btn-toolbar > .btn,
.btn-toolbar > .btn-group,
.btn-toolbar > .input-group {
  margin-left: 5px;
}
.btn-group > .btn:not(:first-child):not(:last-child):not(.dropdown-toggle) {
  border-radius: 0;
}
.btn-group > .btn:first-child {
  margin-left: 0;
}
.btn-group > .btn:first-child:not(:last-child):not(.dropdown-toggle) {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.btn-group > .btn:last-child:not(:first-child),
.btn-group > .dropdown-toggle:not(:first-child) {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.btn-group > .btn-group {
  float: left;
}
.btn-group > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.btn-group > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.btn-group .dropdown-toggle:active,
.btn-group.open .dropdown-toggle {
  outline: 0;
}
.btn-group > .btn + .dropdown-toggle {
  padding-left: 8px;
  padding-right: 8px;
}
.btn-group > .btn-lg + .dropdown-toggle {
  padding-left: 12px;
  padding-right: 12px;
}
.btn-group.open .dropdown-toggle {
  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
}
.btn-group.open .dropdown-toggle.btn-link {
  -webkit-box-shadow: none;
  box-shadow: none;
}
.btn .caret {
  margin-left: 0;
}
.btn-lg .caret {
  border-width: 5px 5px 0;
  border-bottom-width: 0;
}
.dropup .btn-lg .caret {
  border-width: 0 5px 5px;
}
.btn-group-vertical > .btn,
.btn-group-vertical > .btn-group,
.btn-group-vertical > .btn-group > .btn {
  display: block;
  float: none;
  width: 100%;
  max-width: 100%;
}
.btn-group-vertical > .btn-group > .btn {
  float: none;
}
.btn-group-vertical > .btn + .btn,
.btn-group-vertical > .btn + .btn-group,
.btn-group-vertical > .btn-group + .btn,
.btn-group-vertical > .btn-group + .btn-group {
  margin-top: -1px;
  margin-left: 0;
}
.btn-group-vertical > .btn:not(:first-child):not(:last-child) {
  border-radius: 0;
}
.btn-group-vertical > .btn:first-child:not(:last-child) {
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group-vertical > .btn:last-child:not(:first-child) {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
  border-bottom-right-radius: 2px;
  border-bottom-left-radius: 2px;
}
.btn-group-vertical > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group-vertical > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.btn-group-justified {
  display: table;
  width: 100%;
  table-layout: fixed;
  border-collapse: separate;
}
.btn-group-justified > .btn,
.btn-group-justified > .btn-group {
  float: none;
  display: table-cell;
  width: 1%;
}
.btn-group-justified > .btn-group .btn {
  width: 100%;
}
.btn-group-justified > .btn-group .dropdown-menu {
  left: auto;
}
[data-toggle="buttons"] > .btn input[type="radio"],
[data-toggle="buttons"] > .btn-group > .btn input[type="radio"],
[data-toggle="buttons"] > .btn input[type="checkbox"],
[data-toggle="buttons"] > .btn-group > .btn input[type="checkbox"] {
  position: absolute;
  clip: rect(0, 0, 0, 0);
  pointer-events: none;
}
.input-group {
  position: relative;
  display: table;
  border-collapse: separate;
}
.input-group[class*="col-"] {
  float: none;
  padding-left: 0;
  padding-right: 0;
}
.input-group .form-control {
  position: relative;
  z-index: 2;
  float: left;
  width: 100%;
  margin-bottom: 0;
}
.input-group .form-control:focus {
  z-index: 3;
}
.input-group-lg > .form-control,
.input-group-lg > .input-group-addon,
.input-group-lg > .input-group-btn > .btn {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
select.input-group-lg > .form-control,
select.input-group-lg > .input-group-addon,
select.input-group-lg > .input-group-btn > .btn {
  height: 45px;
  line-height: 45px;
}
textarea.input-group-lg > .form-control,
textarea.input-group-lg > .input-group-addon,
textarea.input-group-lg > .input-group-btn > .btn,
select[multiple].input-group-lg > .form-control,
select[multiple].input-group-lg > .input-group-addon,
select[multiple].input-group-lg > .input-group-btn > .btn {
  height: auto;
}
.input-group-sm > .form-control,
.input-group-sm > .input-group-addon,
.input-group-sm > .input-group-btn > .btn {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
select.input-group-sm > .form-control,
select.input-group-sm > .input-group-addon,
select.input-group-sm > .input-group-btn > .btn {
  height: 30px;
  line-height: 30px;
}
textarea.input-group-sm > .form-control,
textarea.input-group-sm > .input-group-addon,
textarea.input-group-sm > .input-group-btn > .btn,
select[multiple].input-group-sm > .form-control,
select[multiple].input-group-sm > .input-group-addon,
select[multiple].input-group-sm > .input-group-btn > .btn {
  height: auto;
}
.input-group-addon,
.input-group-btn,
.input-group .form-control {
  display: table-cell;
}
.input-group-addon:not(:first-child):not(:last-child),
.input-group-btn:not(:first-child):not(:last-child),
.input-group .form-control:not(:first-child):not(:last-child) {
  border-radius: 0;
}
.input-group-addon,
.input-group-btn {
  width: 1%;
  white-space: nowrap;
  vertical-align: middle;
}
.input-group-addon {
  padding: 6px 12px;
  font-size: 13px;
  font-weight: normal;
  line-height: 1;
  color: #555555;
  text-align: center;
  background-color: #eeeeee;
  border: 1px solid #ccc;
  border-radius: 2px;
}
.input-group-addon.input-sm {
  padding: 5px 10px;
  font-size: 12px;
  border-radius: 1px;
}
.input-group-addon.input-lg {
  padding: 10px 16px;
  font-size: 17px;
  border-radius: 3px;
}
.input-group-addon input[type="radio"],
.input-group-addon input[type="checkbox"] {
  margin-top: 0;
}
.input-group .form-control:first-child,
.input-group-addon:first-child,
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group > .btn,
.input-group-btn:first-child > .dropdown-toggle,
.input-group-btn:last-child > .btn:not(:last-child):not(.dropdown-toggle),
.input-group-btn:last-child > .btn-group:not(:last-child) > .btn {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.input-group-addon:first-child {
  border-right: 0;
}
.input-group .form-control:last-child,
.input-group-addon:last-child,
.input-group-btn:last-child > .btn,
.input-group-btn:last-child > .btn-group > .btn,
.input-group-btn:last-child > .dropdown-toggle,
.input-group-btn:first-child > .btn:not(:first-child),
.input-group-btn:first-child > .btn-group:not(:first-child) > .btn {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.input-group-addon:last-child {
  border-left: 0;
}
.input-group-btn {
  position: relative;
  font-size: 0;
  white-space: nowrap;
}
.input-group-btn > .btn {
  position: relative;
}
.input-group-btn > .btn + .btn {
  margin-left: -1px;
}
.input-group-btn > .btn:hover,
.input-group-btn > .btn:focus,
.input-group-btn > .btn:active {
  z-index: 2;
}
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group {
  margin-right: -1px;
}
.input-group-btn:last-child > .btn,
.input-group-btn:last-child > .btn-group {
  z-index: 2;
  margin-left: -1px;
}
.nav {
  margin-bottom: 0;
  padding-left: 0;
  list-style: none;
}
.nav > li {
  position: relative;
  display: block;
}
.nav > li > a {
  position: relative;
  display: block;
  padding: 10px 15px;
}
.nav > li > a:hover,
.nav > li > a:focus {
  text-decoration: none;
  background-color: #eeeeee;
}
.nav > li.disabled > a {
  color: #777777;
}
.nav > li.disabled > a:hover,
.nav > li.disabled > a:focus {
  color: #777777;
  text-decoration: none;
  background-color: transparent;
  cursor: not-allowed;
}
.nav .open > a,
.nav .open > a:hover,
.nav .open > a:focus {
  background-color: #eeeeee;
  border-color: #337ab7;
}
.nav .nav-divider {
  height: 1px;
  margin: 8px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
.nav > li > a > img {
  max-width: none;
}
.nav-tabs {
  border-bottom: 1px solid #ddd;
}
.nav-tabs > li {
  float: left;
  margin-bottom: -1px;
}
.nav-tabs > li > a {
  margin-right: 2px;
  line-height: 1.42857143;
  border: 1px solid transparent;
  border-radius: 2px 2px 0 0;
}
.nav-tabs > li > a:hover {
  border-color: #eeeeee #eeeeee #ddd;
}
.nav-tabs > li.active > a,
.nav-tabs > li.active > a:hover,
.nav-tabs > li.active > a:focus {
  color: #555555;
  background-color: #fff;
  border: 1px solid #ddd;
  border-bottom-color: transparent;
  cursor: default;
}
.nav-tabs.nav-justified {
  width: 100%;
  border-bottom: 0;
}
.nav-tabs.nav-justified > li {
  float: none;
}
.nav-tabs.nav-justified > li > a {
  text-align: center;
  margin-bottom: 5px;
}
.nav-tabs.nav-justified > .dropdown .dropdown-menu {
  top: auto;
  left: auto;
}
@media (min-width: 768px) {
  .nav-tabs.nav-justified > li {
    display: table-cell;
    width: 1%;
  }
  .nav-tabs.nav-justified > li > a {
    margin-bottom: 0;
  }
}
.nav-tabs.nav-justified > li > a {
  margin-right: 0;
  border-radius: 2px;
}
.nav-tabs.nav-justified > .active > a,
.nav-tabs.nav-justified > .active > a:hover,
.nav-tabs.nav-justified > .active > a:focus {
  border: 1px solid #ddd;
}
@media (min-width: 768px) {
  .nav-tabs.nav-justified > li > a {
    border-bottom: 1px solid #ddd;
    border-radius: 2px 2px 0 0;
  }
  .nav-tabs.nav-justified > .active > a,
  .nav-tabs.nav-justified > .active > a:hover,
  .nav-tabs.nav-justified > .active > a:focus {
    border-bottom-color: #fff;
  }
}
.nav-pills > li {
  float: left;
}
.nav-pills > li > a {
  border-radius: 2px;
}
.nav-pills > li + li {
  margin-left: 2px;
}
.nav-pills > li.active > a,
.nav-pills > li.active > a:hover,
.nav-pills > li.active > a:focus {
  color: #fff;
  background-color: #337ab7;
}
.nav-stacked > li {
  float: none;
}
.nav-stacked > li + li {
  margin-top: 2px;
  margin-left: 0;
}
.nav-justified {
  width: 100%;
}
.nav-justified > li {
  float: none;
}
.nav-justified > li > a {
  text-align: center;
  margin-bottom: 5px;
}
.nav-justified > .dropdown .dropdown-menu {
  top: auto;
  left: auto;
}
@media (min-width: 768px) {
  .nav-justified > li {
    display: table-cell;
    width: 1%;
  }
  .nav-justified > li > a {
    margin-bottom: 0;
  }
}
.nav-tabs-justified {
  border-bottom: 0;
}
.nav-tabs-justified > li > a {
  margin-right: 0;
  border-radius: 2px;
}
.nav-tabs-justified > .active > a,
.nav-tabs-justified > .active > a:hover,
.nav-tabs-justified > .active > a:focus {
  border: 1px solid #ddd;
}
@media (min-width: 768px) {
  .nav-tabs-justified > li > a {
    border-bottom: 1px solid #ddd;
    border-radius: 2px 2px 0 0;
  }
  .nav-tabs-justified > .active > a,
  .nav-tabs-justified > .active > a:hover,
  .nav-tabs-justified > .active > a:focus {
    border-bottom-color: #fff;
  }
}
.tab-content > .tab-pane {
  display: none;
}
.tab-content > .active {
  display: block;
}
.nav-tabs .dropdown-menu {
  margin-top: -1px;
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.navbar {
  position: relative;
  min-height: 30px;
  margin-bottom: 18px;
  border: 1px solid transparent;
}
@media (min-width: 541px) {
  .navbar {
    border-radius: 2px;
  }
}
@media (min-width: 541px) {
  .navbar-header {
    float: left;
  }
}
.navbar-collapse {
  overflow-x: visible;
  padding-right: 0px;
  padding-left: 0px;
  border-top: 1px solid transparent;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1);
  -webkit-overflow-scrolling: touch;
}
.navbar-collapse.in {
  overflow-y: auto;
}
@media (min-width: 541px) {
  .navbar-collapse {
    width: auto;
    border-top: 0;
    box-shadow: none;
  }
  .navbar-collapse.collapse {
    display: block !important;
    height: auto !important;
    padding-bottom: 0;
    overflow: visible !important;
  }
  .navbar-collapse.in {
    overflow-y: visible;
  }
  .navbar-fixed-top .navbar-collapse,
  .navbar-static-top .navbar-collapse,
  .navbar-fixed-bottom .navbar-collapse {
    padding-left: 0;
    padding-right: 0;
  }
}
.navbar-fixed-top .navbar-collapse,
.navbar-fixed-bottom .navbar-collapse {
  max-height: 340px;
}
@media (max-device-width: 540px) and (orientation: landscape) {
  .navbar-fixed-top .navbar-collapse,
  .navbar-fixed-bottom .navbar-collapse {
    max-height: 200px;
  }
}
.container > .navbar-header,
.container-fluid > .navbar-header,
.container > .navbar-collapse,
.container-fluid > .navbar-collapse {
  margin-right: 0px;
  margin-left: 0px;
}
@media (min-width: 541px) {
  .container > .navbar-header,
  .container-fluid > .navbar-header,
  .container > .navbar-collapse,
  .container-fluid > .navbar-collapse {
    margin-right: 0;
    margin-left: 0;
  }
}
.navbar-static-top {
  z-index: 1000;
  border-width: 0 0 1px;
}
@media (min-width: 541px) {
  .navbar-static-top {
    border-radius: 0;
  }
}
.navbar-fixed-top,
.navbar-fixed-bottom {
  position: fixed;
  right: 0;
  left: 0;
  z-index: 1030;
}
@media (min-width: 541px) {
  .navbar-fixed-top,
  .navbar-fixed-bottom {
    border-radius: 0;
  }
}
.navbar-fixed-top {
  top: 0;
  border-width: 0 0 1px;
}
.navbar-fixed-bottom {
  bottom: 0;
  margin-bottom: 0;
  border-width: 1px 0 0;
}
.navbar-brand {
  float: left;
  padding: 6px 0px;
  font-size: 17px;
  line-height: 18px;
  height: 30px;
}
.navbar-brand:hover,
.navbar-brand:focus {
  text-decoration: none;
}
.navbar-brand > img {
  display: block;
}
@media (min-width: 541px) {
  .navbar > .container .navbar-brand,
  .navbar > .container-fluid .navbar-brand {
    margin-left: 0px;
  }
}
.navbar-toggle {
  position: relative;
  float: right;
  margin-right: 0px;
  padding: 9px 10px;
  margin-top: -2px;
  margin-bottom: -2px;
  background-color: transparent;
  background-image: none;
  border: 1px solid transparent;
  border-radius: 2px;
}
.navbar-toggle:focus {
  outline: 0;
}
.navbar-toggle .icon-bar {
  display: block;
  width: 22px;
  height: 2px;
  border-radius: 1px;
}
.navbar-toggle .icon-bar + .icon-bar {
  margin-top: 4px;
}
@media (min-width: 541px) {
  .navbar-toggle {
    display: none;
  }
}
.navbar-nav {
  margin: 3px 0px;
}
.navbar-nav > li > a {
  padding-top: 10px;
  padding-bottom: 10px;
  line-height: 18px;
}
@media (max-width: 540px) {
  .navbar-nav .open .dropdown-menu {
    position: static;
    float: none;
    width: auto;
    margin-top: 0;
    background-color: transparent;
    border: 0;
    box-shadow: none;
  }
  .navbar-nav .open .dropdown-menu > li > a,
  .navbar-nav .open .dropdown-menu .dropdown-header {
    padding: 5px 15px 5px 25px;
  }
  .navbar-nav .open .dropdown-menu > li > a {
    line-height: 18px;
  }
  .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-nav .open .dropdown-menu > li > a:focus {
    background-image: none;
  }
}
@media (min-width: 541px) {
  .navbar-nav {
    float: left;
    margin: 0;
  }
  .navbar-nav > li {
    float: left;
  }
  .navbar-nav > li > a {
    padding-top: 6px;
    padding-bottom: 6px;
  }
}
.navbar-form {
  margin-left: 0px;
  margin-right: 0px;
  padding: 10px 0px;
  border-top: 1px solid transparent;
  border-bottom: 1px solid transparent;
  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.1);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.1);
  margin-top: -1px;
  margin-bottom: -1px;
}
@media (min-width: 768px) {
  .navbar-form .form-group {
    display: inline-block;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .form-control {
    display: inline-block;
    width: auto;
    vertical-align: middle;
  }
  .navbar-form .form-control-static {
    display: inline-block;
  }
  .navbar-form .input-group {
    display: inline-table;
    vertical-align: middle;
  }
  .navbar-form .input-group .input-group-addon,
  .navbar-form .input-group .input-group-btn,
  .navbar-form .input-group .form-control {
    width: auto;
  }
  .navbar-form .input-group > .form-control {
    width: 100%;
  }
  .navbar-form .control-label {
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .radio,
  .navbar-form .checkbox {
    display: inline-block;
    margin-top: 0;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .radio label,
  .navbar-form .checkbox label {
    padding-left: 0;
  }
  .navbar-form .radio input[type="radio"],
  .navbar-form .checkbox input[type="checkbox"] {
    position: relative;
    margin-left: 0;
  }
  .navbar-form .has-feedback .form-control-feedback {
    top: 0;
  }
}
@media (max-width: 540px) {
  .navbar-form .form-group {
    margin-bottom: 5px;
  }
  .navbar-form .form-group:last-child {
    margin-bottom: 0;
  }
}
@media (min-width: 541px) {
  .navbar-form {
    width: auto;
    border: 0;
    margin-left: 0;
    margin-right: 0;
    padding-top: 0;
    padding-bottom: 0;
    -webkit-box-shadow: none;
    box-shadow: none;
  }
}
.navbar-nav > li > .dropdown-menu {
  margin-top: 0;
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.navbar-fixed-bottom .navbar-nav > li > .dropdown-menu {
  margin-bottom: 0;
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.navbar-btn {
  margin-top: -1px;
  margin-bottom: -1px;
}
.navbar-btn.btn-sm {
  margin-top: 0px;
  margin-bottom: 0px;
}
.navbar-btn.btn-xs {
  margin-top: 4px;
  margin-bottom: 4px;
}
.navbar-text {
  margin-top: 6px;
  margin-bottom: 6px;
}
@media (min-width: 541px) {
  .navbar-text {
    float: left;
    margin-left: 0px;
    margin-right: 0px;
  }
}
@media (min-width: 541px) {
  .navbar-left {
    float: left !important;
    float: left;
  }
  .navbar-right {
    float: right !important;
    float: right;
    margin-right: 0px;
  }
  .navbar-right ~ .navbar-right {
    margin-right: 0;
  }
}
.navbar-default {
  background-color: #f8f8f8;
  border-color: #e7e7e7;
}
.navbar-default .navbar-brand {
  color: #777;
}
.navbar-default .navbar-brand:hover,
.navbar-default .navbar-brand:focus {
  color: #5e5e5e;
  background-color: transparent;
}
.navbar-default .navbar-text {
  color: #777;
}
.navbar-default .navbar-nav > li > a {
  color: #777;
}
.navbar-default .navbar-nav > li > a:hover,
.navbar-default .navbar-nav > li > a:focus {
  color: #333;
  background-color: transparent;
}
.navbar-default .navbar-nav > .active > a,
.navbar-default .navbar-nav > .active > a:hover,
.navbar-default .navbar-nav > .active > a:focus {
  color: #555;
  background-color: #e7e7e7;
}
.navbar-default .navbar-nav > .disabled > a,
.navbar-default .navbar-nav > .disabled > a:hover,
.navbar-default .navbar-nav > .disabled > a:focus {
  color: #ccc;
  background-color: transparent;
}
.navbar-default .navbar-toggle {
  border-color: #ddd;
}
.navbar-default .navbar-toggle:hover,
.navbar-default .navbar-toggle:focus {
  background-color: #ddd;
}
.navbar-default .navbar-toggle .icon-bar {
  background-color: #888;
}
.navbar-default .navbar-collapse,
.navbar-default .navbar-form {
  border-color: #e7e7e7;
}
.navbar-default .navbar-nav > .open > a,
.navbar-default .navbar-nav > .open > a:hover,
.navbar-default .navbar-nav > .open > a:focus {
  background-color: #e7e7e7;
  color: #555;
}
@media (max-width: 540px) {
  .navbar-default .navbar-nav .open .dropdown-menu > li > a {
    color: #777;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #333;
    background-color: transparent;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a,
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #555;
    background-color: #e7e7e7;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a,
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:focus {
    color: #ccc;
    background-color: transparent;
  }
}
.navbar-default .navbar-link {
  color: #777;
}
.navbar-default .navbar-link:hover {
  color: #333;
}
.navbar-default .btn-link {
  color: #777;
}
.navbar-default .btn-link:hover,
.navbar-default .btn-link:focus {
  color: #333;
}
.navbar-default .btn-link[disabled]:hover,
fieldset[disabled] .navbar-default .btn-link:hover,
.navbar-default .btn-link[disabled]:focus,
fieldset[disabled] .navbar-default .btn-link:focus {
  color: #ccc;
}
.navbar-inverse {
  background-color: #222;
  border-color: #080808;
}
.navbar-inverse .navbar-brand {
  color: #9d9d9d;
}
.navbar-inverse .navbar-brand:hover,
.navbar-inverse .navbar-brand:focus {
  color: #fff;
  background-color: transparent;
}
.navbar-inverse .navbar-text {
  color: #9d9d9d;
}
.navbar-inverse .navbar-nav > li > a {
  color: #9d9d9d;
}
.navbar-inverse .navbar-nav > li > a:hover,
.navbar-inverse .navbar-nav > li > a:focus {
  color: #fff;
  background-color: transparent;
}
.navbar-inverse .navbar-nav > .active > a,
.navbar-inverse .navbar-nav > .active > a:hover,
.navbar-inverse .navbar-nav > .active > a:focus {
  color: #fff;
  background-color: #080808;
}
.navbar-inverse .navbar-nav > .disabled > a,
.navbar-inverse .navbar-nav > .disabled > a:hover,
.navbar-inverse .navbar-nav > .disabled > a:focus {
  color: #444;
  background-color: transparent;
}
.navbar-inverse .navbar-toggle {
  border-color: #333;
}
.navbar-inverse .navbar-toggle:hover,
.navbar-inverse .navbar-toggle:focus {
  background-color: #333;
}
.navbar-inverse .navbar-toggle .icon-bar {
  background-color: #fff;
}
.navbar-inverse .navbar-collapse,
.navbar-inverse .navbar-form {
  border-color: #101010;
}
.navbar-inverse .navbar-nav > .open > a,
.navbar-inverse .navbar-nav > .open > a:hover,
.navbar-inverse .navbar-nav > .open > a:focus {
  background-color: #080808;
  color: #fff;
}
@media (max-width: 540px) {
  .navbar-inverse .navbar-nav .open .dropdown-menu > .dropdown-header {
    border-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu .divider {
    background-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a {
    color: #9d9d9d;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #fff;
    background-color: transparent;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #fff;
    background-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a:focus {
    color: #444;
    background-color: transparent;
  }
}
.navbar-inverse .navbar-link {
  color: #9d9d9d;
}
.navbar-inverse .navbar-link:hover {
  color: #fff;
}
.navbar-inverse .btn-link {
  color: #9d9d9d;
}
.navbar-inverse .btn-link:hover,
.navbar-inverse .btn-link:focus {
  color: #fff;
}
.navbar-inverse .btn-link[disabled]:hover,
fieldset[disabled] .navbar-inverse .btn-link:hover,
.navbar-inverse .btn-link[disabled]:focus,
fieldset[disabled] .navbar-inverse .btn-link:focus {
  color: #444;
}
.breadcrumb {
  padding: 8px 15px;
  margin-bottom: 18px;
  list-style: none;
  background-color: #f5f5f5;
  border-radius: 2px;
}
.breadcrumb > li {
  display: inline-block;
}
.breadcrumb > li + li:before {
  content: "/\00a0";
  padding: 0 5px;
  color: #5e5e5e;
}
.breadcrumb > .active {
  color: #777777;
}
.pagination {
  display: inline-block;
  padding-left: 0;
  margin: 18px 0;
  border-radius: 2px;
}
.pagination > li {
  display: inline;
}
.pagination > li > a,
.pagination > li > span {
  position: relative;
  float: left;
  padding: 6px 12px;
  line-height: 1.42857143;
  text-decoration: none;
  color: #337ab7;
  background-color: #fff;
  border: 1px solid #ddd;
  margin-left: -1px;
}
.pagination > li:first-child > a,
.pagination > li:first-child > span {
  margin-left: 0;
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.pagination > li:last-child > a,
.pagination > li:last-child > span {
  border-bottom-right-radius: 2px;
  border-top-right-radius: 2px;
}
.pagination > li > a:hover,
.pagination > li > span:hover,
.pagination > li > a:focus,
.pagination > li > span:focus {
  z-index: 2;
  color: #23527c;
  background-color: #eeeeee;
  border-color: #ddd;
}
.pagination > .active > a,
.pagination > .active > span,
.pagination > .active > a:hover,
.pagination > .active > span:hover,
.pagination > .active > a:focus,
.pagination > .active > span:focus {
  z-index: 3;
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
  cursor: default;
}
.pagination > .disabled > span,
.pagination > .disabled > span:hover,
.pagination > .disabled > span:focus,
.pagination > .disabled > a,
.pagination > .disabled > a:hover,
.pagination > .disabled > a:focus {
  color: #777777;
  background-color: #fff;
  border-color: #ddd;
  cursor: not-allowed;
}
.pagination-lg > li > a,
.pagination-lg > li > span {
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
}
.pagination-lg > li:first-child > a,
.pagination-lg > li:first-child > span {
  border-bottom-left-radius: 3px;
  border-top-left-radius: 3px;
}
.pagination-lg > li:last-child > a,
.pagination-lg > li:last-child > span {
  border-bottom-right-radius: 3px;
  border-top-right-radius: 3px;
}
.pagination-sm > li > a,
.pagination-sm > li > span {
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
}
.pagination-sm > li:first-child > a,
.pagination-sm > li:first-child > span {
  border-bottom-left-radius: 1px;
  border-top-left-radius: 1px;
}
.pagination-sm > li:last-child > a,
.pagination-sm > li:last-child > span {
  border-bottom-right-radius: 1px;
  border-top-right-radius: 1px;
}
.pager {
  padding-left: 0;
  margin: 18px 0;
  list-style: none;
  text-align: center;
}
.pager li {
  display: inline;
}
.pager li > a,
.pager li > span {
  display: inline-block;
  padding: 5px 14px;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 15px;
}
.pager li > a:hover,
.pager li > a:focus {
  text-decoration: none;
  background-color: #eeeeee;
}
.pager .next > a,
.pager .next > span {
  float: right;
}
.pager .previous > a,
.pager .previous > span {
  float: left;
}
.pager .disabled > a,
.pager .disabled > a:hover,
.pager .disabled > a:focus,
.pager .disabled > span {
  color: #777777;
  background-color: #fff;
  cursor: not-allowed;
}
.label {
  display: inline;
  padding: .2em .6em .3em;
  font-size: 75%;
  font-weight: bold;
  line-height: 1;
  color: #fff;
  text-align: center;
  white-space: nowrap;
  vertical-align: baseline;
  border-radius: .25em;
}
a.label:hover,
a.label:focus {
  color: #fff;
  text-decoration: none;
  cursor: pointer;
}
.label:empty {
  display: none;
}
.btn .label {
  position: relative;
  top: -1px;
}
.label-default {
  background-color: #777777;
}
.label-default[href]:hover,
.label-default[href]:focus {
  background-color: #5e5e5e;
}
.label-primary {
  background-color: #337ab7;
}
.label-primary[href]:hover,
.label-primary[href]:focus {
  background-color: #286090;
}
.label-success {
  background-color: #5cb85c;
}
.label-success[href]:hover,
.label-success[href]:focus {
  background-color: #449d44;
}
.label-info {
  background-color: #5bc0de;
}
.label-info[href]:hover,
.label-info[href]:focus {
  background-color: #31b0d5;
}
.label-warning {
  background-color: #f0ad4e;
}
.label-warning[href]:hover,
.label-warning[href]:focus {
  background-color: #ec971f;
}
.label-danger {
  background-color: #d9534f;
}
.label-danger[href]:hover,
.label-danger[href]:focus {
  background-color: #c9302c;
}
.badge {
  display: inline-block;
  min-width: 10px;
  padding: 3px 7px;
  font-size: 12px;
  font-weight: bold;
  color: #fff;
  line-height: 1;
  vertical-align: middle;
  white-space: nowrap;
  text-align: center;
  background-color: #777777;
  border-radius: 10px;
}
.badge:empty {
  display: none;
}
.btn .badge {
  position: relative;
  top: -1px;
}
.btn-xs .badge,
.btn-group-xs > .btn .badge {
  top: 0;
  padding: 1px 5px;
}
a.badge:hover,
a.badge:focus {
  color: #fff;
  text-decoration: none;
  cursor: pointer;
}
.list-group-item.active > .badge,
.nav-pills > .active > a > .badge {
  color: #337ab7;
  background-color: #fff;
}
.list-group-item > .badge {
  float: right;
}
.list-group-item > .badge + .badge {
  margin-right: 5px;
}
.nav-pills > li > a > .badge {
  margin-left: 3px;
}
.jumbotron {
  padding-top: 30px;
  padding-bottom: 30px;
  margin-bottom: 30px;
  color: inherit;
  background-color: #eeeeee;
}
.jumbotron h1,
.jumbotron .h1 {
  color: inherit;
}
.jumbotron p {
  margin-bottom: 15px;
  font-size: 20px;
  font-weight: 200;
}
.jumbotron > hr {
  border-top-color: #d5d5d5;
}
.container .jumbotron,
.container-fluid .jumbotron {
  border-radius: 3px;
  padding-left: 0px;
  padding-right: 0px;
}
.jumbotron .container {
  max-width: 100%;
}
@media screen and (min-width: 768px) {
  .jumbotron {
    padding-top: 48px;
    padding-bottom: 48px;
  }
  .container .jumbotron,
  .container-fluid .jumbotron {
    padding-left: 60px;
    padding-right: 60px;
  }
  .jumbotron h1,
  .jumbotron .h1 {
    font-size: 59px;
  }
}
.thumbnail {
  display: block;
  padding: 4px;
  margin-bottom: 18px;
  line-height: 1.42857143;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 2px;
  -webkit-transition: border 0.2s ease-in-out;
  -o-transition: border 0.2s ease-in-out;
  transition: border 0.2s ease-in-out;
}
.thumbnail > img,
.thumbnail a > img {
  margin-left: auto;
  margin-right: auto;
}
a.thumbnail:hover,
a.thumbnail:focus,
a.thumbnail.active {
  border-color: #337ab7;
}
.thumbnail .caption {
  padding: 9px;
  color: #000;
}
.alert {
  padding: 15px;
  margin-bottom: 18px;
  border: 1px solid transparent;
  border-radius: 2px;
}
.alert h4 {
  margin-top: 0;
  color: inherit;
}
.alert .alert-link {
  font-weight: bold;
}
.alert > p,
.alert > ul {
  margin-bottom: 0;
}
.alert > p + p {
  margin-top: 5px;
}
.alert-dismissable,
.alert-dismissible {
  padding-right: 35px;
}
.alert-dismissable .close,
.alert-dismissible .close {
  position: relative;
  top: -2px;
  right: -21px;
  color: inherit;
}
.alert-success {
  background-color: #dff0d8;
  border-color: #d6e9c6;
  color: #3c763d;
}
.alert-success hr {
  border-top-color: #c9e2b3;
}
.alert-success .alert-link {
  color: #2b542c;
}
.alert-info {
  background-color: #d9edf7;
  border-color: #bce8f1;
  color: #31708f;
}
.alert-info hr {
  border-top-color: #a6e1ec;
}
.alert-info .alert-link {
  color: #245269;
}
.alert-warning {
  background-color: #fcf8e3;
  border-color: #faebcc;
  color: #8a6d3b;
}
.alert-warning hr {
  border-top-color: #f7e1b5;
}
.alert-warning .alert-link {
  color: #66512c;
}
.alert-danger {
  background-color: #f2dede;
  border-color: #ebccd1;
  color: #a94442;
}
.alert-danger hr {
  border-top-color: #e4b9c0;
}
.alert-danger .alert-link {
  color: #843534;
}
@-webkit-keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}
@keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}
.progress {
  overflow: hidden;
  height: 18px;
  margin-bottom: 18px;
  background-color: #f5f5f5;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}
.progress-bar {
  float: left;
  width: 0%;
  height: 100%;
  font-size: 12px;
  line-height: 18px;
  color: #fff;
  text-align: center;
  background-color: #337ab7;
  -webkit-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  -webkit-transition: width 0.6s ease;
  -o-transition: width 0.6s ease;
  transition: width 0.6s ease;
}
.progress-striped .progress-bar,
.progress-bar-striped {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-size: 40px 40px;
}
.progress.active .progress-bar,
.progress-bar.active {
  -webkit-animation: progress-bar-stripes 2s linear infinite;
  -o-animation: progress-bar-stripes 2s linear infinite;
  animation: progress-bar-stripes 2s linear infinite;
}
.progress-bar-success {
  background-color: #5cb85c;
}
.progress-striped .progress-bar-success {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-info {
  background-color: #5bc0de;
}
.progress-striped .progress-bar-info {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-warning {
  background-color: #f0ad4e;
}
.progress-striped .progress-bar-warning {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-danger {
  background-color: #d9534f;
}
.progress-striped .progress-bar-danger {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.media {
  margin-top: 15px;
}
.media:first-child {
  margin-top: 0;
}
.media,
.media-body {
  zoom: 1;
  overflow: hidden;
}
.media-body {
  width: 10000px;
}
.media-object {
  display: block;
}
.media-object.img-thumbnail {
  max-width: none;
}
.media-right,
.media > .pull-right {
  padding-left: 10px;
}
.media-left,
.media > .pull-left {
  padding-right: 10px;
}
.media-left,
.media-right,
.media-body {
  display: table-cell;
  vertical-align: top;
}
.media-middle {
  vertical-align: middle;
}
.media-bottom {
  vertical-align: bottom;
}
.media-heading {
  margin-top: 0;
  margin-bottom: 5px;
}
.media-list {
  padding-left: 0;
  list-style: none;
}
.list-group {
  margin-bottom: 20px;
  padding-left: 0;
}
.list-group-item {
  position: relative;
  display: block;
  padding: 10px 15px;
  margin-bottom: -1px;
  background-color: #fff;
  border: 1px solid #ddd;
}
.list-group-item:first-child {
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
}
.list-group-item:last-child {
  margin-bottom: 0;
  border-bottom-right-radius: 2px;
  border-bottom-left-radius: 2px;
}
a.list-group-item,
button.list-group-item {
  color: #555;
}
a.list-group-item .list-group-item-heading,
button.list-group-item .list-group-item-heading {
  color: #333;
}
a.list-group-item:hover,
button.list-group-item:hover,
a.list-group-item:focus,
button.list-group-item:focus {
  text-decoration: none;
  color: #555;
  background-color: #f5f5f5;
}
button.list-group-item {
  width: 100%;
  text-align: left;
}
.list-group-item.disabled,
.list-group-item.disabled:hover,
.list-group-item.disabled:focus {
  background-color: #eeeeee;
  color: #777777;
  cursor: not-allowed;
}
.list-group-item.disabled .list-group-item-heading,
.list-group-item.disabled:hover .list-group-item-heading,
.list-group-item.disabled:focus .list-group-item-heading {
  color: inherit;
}
.list-group-item.disabled .list-group-item-text,
.list-group-item.disabled:hover .list-group-item-text,
.list-group-item.disabled:focus .list-group-item-text {
  color: #777777;
}
.list-group-item.active,
.list-group-item.active:hover,
.list-group-item.active:focus {
  z-index: 2;
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
}
.list-group-item.active .list-group-item-heading,
.list-group-item.active:hover .list-group-item-heading,
.list-group-item.active:focus .list-group-item-heading,
.list-group-item.active .list-group-item-heading > small,
.list-group-item.active:hover .list-group-item-heading > small,
.list-group-item.active:focus .list-group-item-heading > small,
.list-group-item.active .list-group-item-heading > .small,
.list-group-item.active:hover .list-group-item-heading > .small,
.list-group-item.active:focus .list-group-item-heading > .small {
  color: inherit;
}
.list-group-item.active .list-group-item-text,
.list-group-item.active:hover .list-group-item-text,
.list-group-item.active:focus .list-group-item-text {
  color: #c7ddef;
}
.list-group-item-success {
  color: #3c763d;
  background-color: #dff0d8;
}
a.list-group-item-success,
button.list-group-item-success {
  color: #3c763d;
}
a.list-group-item-success .list-group-item-heading,
button.list-group-item-success .list-group-item-heading {
  color: inherit;
}
a.list-group-item-success:hover,
button.list-group-item-success:hover,
a.list-group-item-success:focus,
button.list-group-item-success:focus {
  color: #3c763d;
  background-color: #d0e9c6;
}
a.list-group-item-success.active,
button.list-group-item-success.active,
a.list-group-item-success.active:hover,
button.list-group-item-success.active:hover,
a.list-group-item-success.active:focus,
button.list-group-item-success.active:focus {
  color: #fff;
  background-color: #3c763d;
  border-color: #3c763d;
}
.list-group-item-info {
  color: #31708f;
  background-color: #d9edf7;
}
a.list-group-item-info,
button.list-group-item-info {
  color: #31708f;
}
a.list-group-item-info .list-group-item-heading,
button.list-group-item-info .list-group-item-heading {
  color: inherit;
}
a.list-group-item-info:hover,
button.list-group-item-info:hover,
a.list-group-item-info:focus,
button.list-group-item-info:focus {
  color: #31708f;
  background-color: #c4e3f3;
}
a.list-group-item-info.active,
button.list-group-item-info.active,
a.list-group-item-info.active:hover,
button.list-group-item-info.active:hover,
a.list-group-item-info.active:focus,
button.list-group-item-info.active:focus {
  color: #fff;
  background-color: #31708f;
  border-color: #31708f;
}
.list-group-item-warning {
  color: #8a6d3b;
  background-color: #fcf8e3;
}
a.list-group-item-warning,
button.list-group-item-warning {
  color: #8a6d3b;
}
a.list-group-item-warning .list-group-item-heading,
button.list-group-item-warning .list-group-item-heading {
  color: inherit;
}
a.list-group-item-warning:hover,
button.list-group-item-warning:hover,
a.list-group-item-warning:focus,
button.list-group-item-warning:focus {
  color: #8a6d3b;
  background-color: #faf2cc;
}
a.list-group-item-warning.active,
button.list-group-item-warning.active,
a.list-group-item-warning.active:hover,
button.list-group-item-warning.active:hover,
a.list-group-item-warning.active:focus,
button.list-group-item-warning.active:focus {
  color: #fff;
  background-color: #8a6d3b;
  border-color: #8a6d3b;
}
.list-group-item-danger {
  color: #a94442;
  background-color: #f2dede;
}
a.list-group-item-danger,
button.list-group-item-danger {
  color: #a94442;
}
a.list-group-item-danger .list-group-item-heading,
button.list-group-item-danger .list-group-item-heading {
  color: inherit;
}
a.list-group-item-danger:hover,
button.list-group-item-danger:hover,
a.list-group-item-danger:focus,
button.list-group-item-danger:focus {
  color: #a94442;
  background-color: #ebcccc;
}
a.list-group-item-danger.active,
button.list-group-item-danger.active,
a.list-group-item-danger.active:hover,
button.list-group-item-danger.active:hover,
a.list-group-item-danger.active:focus,
button.list-group-item-danger.active:focus {
  color: #fff;
  background-color: #a94442;
  border-color: #a94442;
}
.list-group-item-heading {
  margin-top: 0;
  margin-bottom: 5px;
}
.list-group-item-text {
  margin-bottom: 0;
  line-height: 1.3;
}
.panel {
  margin-bottom: 18px;
  background-color: #fff;
  border: 1px solid transparent;
  border-radius: 2px;
  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
}
.panel-body {
  padding: 15px;
}
.panel-heading {
  padding: 10px 15px;
  border-bottom: 1px solid transparent;
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel-heading > .dropdown .dropdown-toggle {
  color: inherit;
}
.panel-title {
  margin-top: 0;
  margin-bottom: 0;
  font-size: 15px;
  color: inherit;
}
.panel-title > a,
.panel-title > small,
.panel-title > .small,
.panel-title > small > a,
.panel-title > .small > a {
  color: inherit;
}
.panel-footer {
  padding: 10px 15px;
  background-color: #f5f5f5;
  border-top: 1px solid #ddd;
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .list-group,
.panel > .panel-collapse > .list-group {
  margin-bottom: 0;
}
.panel > .list-group .list-group-item,
.panel > .panel-collapse > .list-group .list-group-item {
  border-width: 1px 0;
  border-radius: 0;
}
.panel > .list-group:first-child .list-group-item:first-child,
.panel > .panel-collapse > .list-group:first-child .list-group-item:first-child {
  border-top: 0;
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel > .list-group:last-child .list-group-item:last-child,
.panel > .panel-collapse > .list-group:last-child .list-group-item:last-child {
  border-bottom: 0;
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .panel-heading + .panel-collapse > .list-group .list-group-item:first-child {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.panel-heading + .list-group .list-group-item:first-child {
  border-top-width: 0;
}
.list-group + .panel-footer {
  border-top-width: 0;
}
.panel > .table,
.panel > .table-responsive > .table,
.panel > .panel-collapse > .table {
  margin-bottom: 0;
}
.panel > .table caption,
.panel > .table-responsive > .table caption,
.panel > .panel-collapse > .table caption {
  padding-left: 15px;
  padding-right: 15px;
}
.panel > .table:first-child,
.panel > .table-responsive:first-child > .table:first-child {
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child {
  border-top-left-radius: 1px;
  border-top-right-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child td:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child td:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:first-child,
.panel > .table:first-child > thead:first-child > tr:first-child th:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child th:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:first-child {
  border-top-left-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child td:last-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:last-child,
.panel > .table:first-child > tbody:first-child > tr:first-child td:last-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:last-child,
.panel > .table:first-child > thead:first-child > tr:first-child th:last-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:last-child,
.panel > .table:first-child > tbody:first-child > tr:first-child th:last-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:last-child {
  border-top-right-radius: 1px;
}
.panel > .table:last-child,
.panel > .table-responsive:last-child > .table:last-child {
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child {
  border-bottom-left-radius: 1px;
  border-bottom-right-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child td:first-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:first-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child td:first-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:first-child,
.panel > .table:last-child > tbody:last-child > tr:last-child th:first-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:first-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child th:first-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:first-child {
  border-bottom-left-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child td:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child td:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:last-child,
.panel > .table:last-child > tbody:last-child > tr:last-child th:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child th:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:last-child {
  border-bottom-right-radius: 1px;
}
.panel > .panel-body + .table,
.panel > .panel-body + .table-responsive,
.panel > .table + .panel-body,
.panel > .table-responsive + .panel-body {
  border-top: 1px solid #ddd;
}
.panel > .table > tbody:first-child > tr:first-child th,
.panel > .table > tbody:first-child > tr:first-child td {
  border-top: 0;
}
.panel > .table-bordered,
.panel > .table-responsive > .table-bordered {
  border: 0;
}
.panel > .table-bordered > thead > tr > th:first-child,
.panel > .table-responsive > .table-bordered > thead > tr > th:first-child,
.panel > .table-bordered > tbody > tr > th:first-child,
.panel > .table-responsive > .table-bordered > tbody > tr > th:first-child,
.panel > .table-bordered > tfoot > tr > th:first-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > th:first-child,
.panel > .table-bordered > thead > tr > td:first-child,
.panel > .table-responsive > .table-bordered > thead > tr > td:first-child,
.panel > .table-bordered > tbody > tr > td:first-child,
.panel > .table-responsive > .table-bordered > tbody > tr > td:first-child,
.panel > .table-bordered > tfoot > tr > td:first-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > td:first-child {
  border-left: 0;
}
.panel > .table-bordered > thead > tr > th:last-child,
.panel > .table-responsive > .table-bordered > thead > tr > th:last-child,
.panel > .table-bordered > tbody > tr > th:last-child,
.panel > .table-responsive > .table-bordered > tbody > tr > th:last-child,
.panel > .table-bordered > tfoot > tr > th:last-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > th:last-child,
.panel > .table-bordered > thead > tr > td:last-child,
.panel > .table-responsive > .table-bordered > thead > tr > td:last-child,
.panel > .table-bordered > tbody > tr > td:last-child,
.panel > .table-responsive > .table-bordered > tbody > tr > td:last-child,
.panel > .table-bordered > tfoot > tr > td:last-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > td:last-child {
  border-right: 0;
}
.panel > .table-bordered > thead > tr:first-child > td,
.panel > .table-responsive > .table-bordered > thead > tr:first-child > td,
.panel > .table-bordered > tbody > tr:first-child > td,
.panel > .table-responsive > .table-bordered > tbody > tr:first-child > td,
.panel > .table-bordered > thead > tr:first-child > th,
.panel > .table-responsive > .table-bordered > thead > tr:first-child > th,
.panel > .table-bordered > tbody > tr:first-child > th,
.panel > .table-responsive > .table-bordered > tbody > tr:first-child > th {
  border-bottom: 0;
}
.panel > .table-bordered > tbody > tr:last-child > td,
.panel > .table-responsive > .table-bordered > tbody > tr:last-child > td,
.panel > .table-bordered > tfoot > tr:last-child > td,
.panel > .table-responsive > .table-bordered > tfoot > tr:last-child > td,
.panel > .table-bordered > tbody > tr:last-child > th,
.panel > .table-responsive > .table-bordered > tbody > tr:last-child > th,
.panel > .table-bordered > tfoot > tr:last-child > th,
.panel > .table-responsive > .table-bordered > tfoot > tr:last-child > th {
  border-bottom: 0;
}
.panel > .table-responsive {
  border: 0;
  margin-bottom: 0;
}
.panel-group {
  margin-bottom: 18px;
}
.panel-group .panel {
  margin-bottom: 0;
  border-radius: 2px;
}
.panel-group .panel + .panel {
  margin-top: 5px;
}
.panel-group .panel-heading {
  border-bottom: 0;
}
.panel-group .panel-heading + .panel-collapse > .panel-body,
.panel-group .panel-heading + .panel-collapse > .list-group {
  border-top: 1px solid #ddd;
}
.panel-group .panel-footer {
  border-top: 0;
}
.panel-group .panel-footer + .panel-collapse .panel-body {
  border-bottom: 1px solid #ddd;
}
.panel-default {
  border-color: #ddd;
}
.panel-default > .panel-heading {
  color: #333333;
  background-color: #f5f5f5;
  border-color: #ddd;
}
.panel-default > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #ddd;
}
.panel-default > .panel-heading .badge {
  color: #f5f5f5;
  background-color: #333333;
}
.panel-default > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #ddd;
}
.panel-primary {
  border-color: #337ab7;
}
.panel-primary > .panel-heading {
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
}
.panel-primary > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #337ab7;
}
.panel-primary > .panel-heading .badge {
  color: #337ab7;
  background-color: #fff;
}
.panel-primary > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #337ab7;
}
.panel-success {
  border-color: #d6e9c6;
}
.panel-success > .panel-heading {
  color: #3c763d;
  background-color: #dff0d8;
  border-color: #d6e9c6;
}
.panel-success > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #d6e9c6;
}
.panel-success > .panel-heading .badge {
  color: #dff0d8;
  background-color: #3c763d;
}
.panel-success > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #d6e9c6;
}
.panel-info {
  border-color: #bce8f1;
}
.panel-info > .panel-heading {
  color: #31708f;
  background-color: #d9edf7;
  border-color: #bce8f1;
}
.panel-info > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #bce8f1;
}
.panel-info > .panel-heading .badge {
  color: #d9edf7;
  background-color: #31708f;
}
.panel-info > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #bce8f1;
}
.panel-warning {
  border-color: #faebcc;
}
.panel-warning > .panel-heading {
  color: #8a6d3b;
  background-color: #fcf8e3;
  border-color: #faebcc;
}
.panel-warning > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #faebcc;
}
.panel-warning > .panel-heading .badge {
  color: #fcf8e3;
  background-color: #8a6d3b;
}
.panel-warning > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #faebcc;
}
.panel-danger {
  border-color: #ebccd1;
}
.panel-danger > .panel-heading {
  color: #a94442;
  background-color: #f2dede;
  border-color: #ebccd1;
}
.panel-danger > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #ebccd1;
}
.panel-danger > .panel-heading .badge {
  color: #f2dede;
  background-color: #a94442;
}
.panel-danger > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #ebccd1;
}
.embed-responsive {
  position: relative;
  display: block;
  height: 0;
  padding: 0;
  overflow: hidden;
}
.embed-responsive .embed-responsive-item,
.embed-responsive iframe,
.embed-responsive embed,
.embed-responsive object,
.embed-responsive video {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  height: 100%;
  width: 100%;
  border: 0;
}
.embed-responsive-16by9 {
  padding-bottom: 56.25%;
}
.embed-responsive-4by3 {
  padding-bottom: 75%;
}
.well {
  min-height: 20px;
  padding: 19px;
  margin-bottom: 20px;
  background-color: #f5f5f5;
  border: 1px solid #e3e3e3;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
}
.well blockquote {
  border-color: #ddd;
  border-color: rgba(0, 0, 0, 0.15);
}
.well-lg {
  padding: 24px;
  border-radius: 3px;
}
.well-sm {
  padding: 9px;
  border-radius: 1px;
}
.close {
  float: right;
  font-size: 19.5px;
  font-weight: bold;
  line-height: 1;
  color: #000;
  text-shadow: 0 1px 0 #fff;
  opacity: 0.2;
  filter: alpha(opacity=20);
}
.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
  opacity: 0.5;
  filter: alpha(opacity=50);
}
button.close {
  padding: 0;
  cursor: pointer;
  background: transparent;
  border: 0;
  -webkit-appearance: none;
}
.modal-open {
  overflow: hidden;
}
.modal {
  display: none;
  overflow: hidden;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1050;
  -webkit-overflow-scrolling: touch;
  outline: 0;
}
.modal.fade .modal-dialog {
  -webkit-transform: translate(0, -25%);
  -ms-transform: translate(0, -25%);
  -o-transform: translate(0, -25%);
  transform: translate(0, -25%);
  -webkit-transition: -webkit-transform 0.3s ease-out;
  -moz-transition: -moz-transform 0.3s ease-out;
  -o-transition: -o-transform 0.3s ease-out;
  transition: transform 0.3s ease-out;
}
.modal.in .modal-dialog {
  -webkit-transform: translate(0, 0);
  -ms-transform: translate(0, 0);
  -o-transform: translate(0, 0);
  transform: translate(0, 0);
}
.modal-open .modal {
  overflow-x: hidden;
  overflow-y: auto;
}
.modal-dialog {
  position: relative;
  width: auto;
  margin: 10px;
}
.modal-content {
  position: relative;
  background-color: #fff;
  border: 1px solid #999;
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  -webkit-box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
  box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
  background-clip: padding-box;
  outline: 0;
}
.modal-backdrop {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1040;
  background-color: #000;
}
.modal-backdrop.fade {
  opacity: 0;
  filter: alpha(opacity=0);
}
.modal-backdrop.in {
  opacity: 0.5;
  filter: alpha(opacity=50);
}
.modal-header {
  padding: 15px;
  border-bottom: 1px solid #e5e5e5;
}
.modal-header .close {
  margin-top: -2px;
}
.modal-title {
  margin: 0;
  line-height: 1.42857143;
}
.modal-body {
  position: relative;
  padding: 15px;
}
.modal-footer {
  padding: 15px;
  text-align: right;
  border-top: 1px solid #e5e5e5;
}
.modal-footer .btn + .btn {
  margin-left: 5px;
  margin-bottom: 0;
}
.modal-footer .btn-group .btn + .btn {
  margin-left: -1px;
}
.modal-footer .btn-block + .btn-block {
  margin-left: 0;
}
.modal-scrollbar-measure {
  position: absolute;
  top: -9999px;
  width: 50px;
  height: 50px;
  overflow: scroll;
}
@media (min-width: 768px) {
  .modal-dialog {
    width: 600px;
    margin: 30px auto;
  }
  .modal-content {
    -webkit-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
  }
  .modal-sm {
    width: 300px;
  }
}
@media (min-width: 992px) {
  .modal-lg {
    width: 900px;
  }
}
.tooltip {
  position: absolute;
  z-index: 1070;
  display: block;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-style: normal;
  font-weight: normal;
  letter-spacing: normal;
  line-break: auto;
  line-height: 1.42857143;
  text-align: left;
  text-align: start;
  text-decoration: none;
  text-shadow: none;
  text-transform: none;
  white-space: normal;
  word-break: normal;
  word-spacing: normal;
  word-wrap: normal;
  font-size: 12px;
  opacity: 0;
  filter: alpha(opacity=0);
}
.tooltip.in {
  opacity: 0.9;
  filter: alpha(opacity=90);
}
.tooltip.top {
  margin-top: -3px;
  padding: 5px 0;
}
.tooltip.right {
  margin-left: 3px;
  padding: 0 5px;
}
.tooltip.bottom {
  margin-top: 3px;
  padding: 5px 0;
}
.tooltip.left {
  margin-left: -3px;
  padding: 0 5px;
}
.tooltip-inner {
  max-width: 200px;
  padding: 3px 8px;
  color: #fff;
  text-align: center;
  background-color: #000;
  border-radius: 2px;
}
.tooltip-arrow {
  position: absolute;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}
.tooltip.top .tooltip-arrow {
  bottom: 0;
  left: 50%;
  margin-left: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.top-left .tooltip-arrow {
  bottom: 0;
  right: 5px;
  margin-bottom: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.top-right .tooltip-arrow {
  bottom: 0;
  left: 5px;
  margin-bottom: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.right .tooltip-arrow {
  top: 50%;
  left: 0;
  margin-top: -5px;
  border-width: 5px 5px 5px 0;
  border-right-color: #000;
}
.tooltip.left .tooltip-arrow {
  top: 50%;
  right: 0;
  margin-top: -5px;
  border-width: 5px 0 5px 5px;
  border-left-color: #000;
}
.tooltip.bottom .tooltip-arrow {
  top: 0;
  left: 50%;
  margin-left: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.tooltip.bottom-left .tooltip-arrow {
  top: 0;
  right: 5px;
  margin-top: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.tooltip.bottom-right .tooltip-arrow {
  top: 0;
  left: 5px;
  margin-top: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.popover {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1060;
  display: none;
  max-width: 276px;
  padding: 1px;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-style: normal;
  font-weight: normal;
  letter-spacing: normal;
  line-break: auto;
  line-height: 1.42857143;
  text-align: left;
  text-align: start;
  text-decoration: none;
  text-shadow: none;
  text-transform: none;
  white-space: normal;
  word-break: normal;
  word-spacing: normal;
  word-wrap: normal;
  font-size: 13px;
  background-color: #fff;
  background-clip: padding-box;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  -webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
}
.popover.top {
  margin-top: -10px;
}
.popover.right {
  margin-left: 10px;
}
.popover.bottom {
  margin-top: 10px;
}
.popover.left {
  margin-left: -10px;
}
.popover-title {
  margin: 0;
  padding: 8px 14px;
  font-size: 13px;
  background-color: #f7f7f7;
  border-bottom: 1px solid #ebebeb;
  border-radius: 2px 2px 0 0;
}
.popover-content {
  padding: 9px 14px;
}
.popover > .arrow,
.popover > .arrow:after {
  position: absolute;
  display: block;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}
.popover > .arrow {
  border-width: 11px;
}
.popover > .arrow:after {
  border-width: 10px;
  content: "";
}
.popover.top > .arrow {
  left: 50%;
  margin-left: -11px;
  border-bottom-width: 0;
  border-top-color: #999999;
  border-top-color: rgba(0, 0, 0, 0.25);
  bottom: -11px;
}
.popover.top > .arrow:after {
  content: " ";
  bottom: 1px;
  margin-left: -10px;
  border-bottom-width: 0;
  border-top-color: #fff;
}
.popover.right > .arrow {
  top: 50%;
  left: -11px;
  margin-top: -11px;
  border-left-width: 0;
  border-right-color: #999999;
  border-right-color: rgba(0, 0, 0, 0.25);
}
.popover.right > .arrow:after {
  content: " ";
  left: 1px;
  bottom: -10px;
  border-left-width: 0;
  border-right-color: #fff;
}
.popover.bottom > .arrow {
  left: 50%;
  margin-left: -11px;
  border-top-width: 0;
  border-bottom-color: #999999;
  border-bottom-color: rgba(0, 0, 0, 0.25);
  top: -11px;
}
.popover.bottom > .arrow:after {
  content: " ";
  top: 1px;
  margin-left: -10px;
  border-top-width: 0;
  border-bottom-color: #fff;
}
.popover.left > .arrow {
  top: 50%;
  right: -11px;
  margin-top: -11px;
  border-right-width: 0;
  border-left-color: #999999;
  border-left-color: rgba(0, 0, 0, 0.25);
}
.popover.left > .arrow:after {
  content: " ";
  right: 1px;
  border-right-width: 0;
  border-left-color: #fff;
  bottom: -10px;
}
.carousel {
  position: relative;
}
.carousel-inner {
  position: relative;
  overflow: hidden;
  width: 100%;
}
.carousel-inner > .item {
  display: none;
  position: relative;
  -webkit-transition: 0.6s ease-in-out left;
  -o-transition: 0.6s ease-in-out left;
  transition: 0.6s ease-in-out left;
}
.carousel-inner > .item > img,
.carousel-inner > .item > a > img {
  line-height: 1;
}
@media all and (transform-3d), (-webkit-transform-3d) {
  .carousel-inner > .item {
    -webkit-transition: -webkit-transform 0.6s ease-in-out;
    -moz-transition: -moz-transform 0.6s ease-in-out;
    -o-transition: -o-transform 0.6s ease-in-out;
    transition: transform 0.6s ease-in-out;
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000px;
    -moz-perspective: 1000px;
    perspective: 1000px;
  }
  .carousel-inner > .item.next,
  .carousel-inner > .item.active.right {
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
    left: 0;
  }
  .carousel-inner > .item.prev,
  .carousel-inner > .item.active.left {
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
    left: 0;
  }
  .carousel-inner > .item.next.left,
  .carousel-inner > .item.prev.right,
  .carousel-inner > .item.active {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    left: 0;
  }
}
.carousel-inner > .active,
.carousel-inner > .next,
.carousel-inner > .prev {
  display: block;
}
.carousel-inner > .active {
  left: 0;
}
.carousel-inner > .next,
.carousel-inner > .prev {
  position: absolute;
  top: 0;
  width: 100%;
}
.carousel-inner > .next {
  left: 100%;
}
.carousel-inner > .prev {
  left: -100%;
}
.carousel-inner > .next.left,
.carousel-inner > .prev.right {
  left: 0;
}
.carousel-inner > .active.left {
  left: -100%;
}
.carousel-inner > .active.right {
  left: 100%;
}
.carousel-control {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 15%;
  opacity: 0.5;
  filter: alpha(opacity=50);
  font-size: 20px;
  color: #fff;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
  background-color: rgba(0, 0, 0, 0);
}
.carousel-control.left {
  background-image: -webkit-linear-gradient(left, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-image: -o-linear-gradient(left, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#00000000', GradientType=1);
}
.carousel-control.right {
  left: auto;
  right: 0;
  background-image: -webkit-linear-gradient(left, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-image: -o-linear-gradient(left, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#80000000', GradientType=1);
}
.carousel-control:hover,
.carousel-control:focus {
  outline: 0;
  color: #fff;
  text-decoration: none;
  opacity: 0.9;
  filter: alpha(opacity=90);
}
.carousel-control .icon-prev,
.carousel-control .icon-next,
.carousel-control .glyphicon-chevron-left,
.carousel-control .glyphicon-chevron-right {
  position: absolute;
  top: 50%;
  margin-top: -10px;
  z-index: 5;
  display: inline-block;
}
.carousel-control .icon-prev,
.carousel-control .glyphicon-chevron-left {
  left: 50%;
  margin-left: -10px;
}
.carousel-control .icon-next,
.carousel-control .glyphicon-chevron-right {
  right: 50%;
  margin-right: -10px;
}
.carousel-control .icon-prev,
.carousel-control .icon-next {
  width: 20px;
  height: 20px;
  line-height: 1;
  font-family: serif;
}
.carousel-control .icon-prev:before {
  content: '\2039';
}
.carousel-control .icon-next:before {
  content: '\203a';
}
.carousel-indicators {
  position: absolute;
  bottom: 10px;
  left: 50%;
  z-index: 15;
  width: 60%;
  margin-left: -30%;
  padding-left: 0;
  list-style: none;
  text-align: center;
}
.carousel-indicators li {
  display: inline-block;
  width: 10px;
  height: 10px;
  margin: 1px;
  text-indent: -999px;
  border: 1px solid #fff;
  border-radius: 10px;
  cursor: pointer;
  background-color: #000 \9;
  background-color: rgba(0, 0, 0, 0);
}
.carousel-indicators .active {
  margin: 0;
  width: 12px;
  height: 12px;
  background-color: #fff;
}
.carousel-caption {
  position: absolute;
  left: 15%;
  right: 15%;
  bottom: 20px;
  z-index: 10;
  padding-top: 20px;
  padding-bottom: 20px;
  color: #fff;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
}
.carousel-caption .btn {
  text-shadow: none;
}
@media screen and (min-width: 768px) {
  .carousel-control .glyphicon-chevron-left,
  .carousel-control .glyphicon-chevron-right,
  .carousel-control .icon-prev,
  .carousel-control .icon-next {
    width: 30px;
    height: 30px;
    margin-top: -10px;
    font-size: 30px;
  }
  .carousel-control .glyphicon-chevron-left,
  .carousel-control .icon-prev {
    margin-left: -10px;
  }
  .carousel-control .glyphicon-chevron-right,
  .carousel-control .icon-next {
    margin-right: -10px;
  }
  .carousel-caption {
    left: 20%;
    right: 20%;
    padding-bottom: 30px;
  }
  .carousel-indicators {
    bottom: 20px;
  }
}
.clearfix:before,
.clearfix:after,
.dl-horizontal dd:before,
.dl-horizontal dd:after,
.container:before,
.container:after,
.container-fluid:before,
.container-fluid:after,
.row:before,
.row:after,
.form-horizontal .form-group:before,
.form-horizontal .form-group:after,
.btn-toolbar:before,
.btn-toolbar:after,
.btn-group-vertical > .btn-group:before,
.btn-group-vertical > .btn-group:after,
.nav:before,
.nav:after,
.navbar:before,
.navbar:after,
.navbar-header:before,
.navbar-header:after,
.navbar-collapse:before,
.navbar-collapse:after,
.pager:before,
.pager:after,
.panel-body:before,
.panel-body:after,
.modal-header:before,
.modal-header:after,
.modal-footer:before,
.modal-footer:after,
.item_buttons:before,
.item_buttons:after {
  content: " ";
  display: table;
}
.clearfix:after,
.dl-horizontal dd:after,
.container:after,
.container-fluid:after,
.row:after,
.form-horizontal .form-group:after,
.btn-toolbar:after,
.btn-group-vertical > .btn-group:after,
.nav:after,
.navbar:after,
.navbar-header:after,
.navbar-collapse:after,
.pager:after,
.panel-body:after,
.modal-header:after,
.modal-footer:after,
.item_buttons:after {
  clear: both;
}
.center-block {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.pull-right {
  float: right !important;
}
.pull-left {
  float: left !important;
}
.hide {
  display: none !important;
}
.show {
  display: block !important;
}
.invisible {
  visibility: hidden;
}
.text-hide {
  font: 0/0 a;
  color: transparent;
  text-shadow: none;
  background-color: transparent;
  border: 0;
}
.hidden {
  display: none !important;
}
.affix {
  position: fixed;
}
@-ms-viewport {
  width: device-width;
}
.visible-xs,
.visible-sm,
.visible-md,
.visible-lg {
  display: none !important;
}
.visible-xs-block,
.visible-xs-inline,
.visible-xs-inline-block,
.visible-sm-block,
.visible-sm-inline,
.visible-sm-inline-block,
.visible-md-block,
.visible-md-inline,
.visible-md-inline-block,
.visible-lg-block,
.visible-lg-inline,
.visible-lg-inline-block {
  display: none !important;
}
@media (max-width: 767px) {
  .visible-xs {
    display: block !important;
  }
  table.visible-xs {
    display: table !important;
  }
  tr.visible-xs {
    display: table-row !important;
  }
  th.visible-xs,
  td.visible-xs {
    display: table-cell !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-block {
    display: block !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-inline {
    display: inline !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm {
    display: block !important;
  }
  table.visible-sm {
    display: table !important;
  }
  tr.visible-sm {
    display: table-row !important;
  }
  th.visible-sm,
  td.visible-sm {
    display: table-cell !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-block {
    display: block !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-inline {
    display: inline !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md {
    display: block !important;
  }
  table.visible-md {
    display: table !important;
  }
  tr.visible-md {
    display: table-row !important;
  }
  th.visible-md,
  td.visible-md {
    display: table-cell !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-block {
    display: block !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-inline {
    display: inline !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg {
    display: block !important;
  }
  table.visible-lg {
    display: table !important;
  }
  tr.visible-lg {
    display: table-row !important;
  }
  th.visible-lg,
  td.visible-lg {
    display: table-cell !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-block {
    display: block !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-inline {
    display: inline !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-inline-block {
    display: inline-block !important;
  }
}
@media (max-width: 767px) {
  .hidden-xs {
    display: none !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .hidden-sm {
    display: none !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .hidden-md {
    display: none !important;
  }
}
@media (min-width: 1200px) {
  .hidden-lg {
    display: none !important;
  }
}
.visible-print {
  display: none !important;
}
@media print {
  .visible-print {
    display: block !important;
  }
  table.visible-print {
    display: table !important;
  }
  tr.visible-print {
    display: table-row !important;
  }
  th.visible-print,
  td.visible-print {
    display: table-cell !important;
  }
}
.visible-print-block {
  display: none !important;
}
@media print {
  .visible-print-block {
    display: block !important;
  }
}
.visible-print-inline {
  display: none !important;
}
@media print {
  .visible-print-inline {
    display: inline !important;
  }
}
.visible-print-inline-block {
  display: none !important;
}
@media print {
  .visible-print-inline-block {
    display: inline-block !important;
  }
}
@media print {
  .hidden-print {
    display: none !important;
  }
}
/*!
*
* Font Awesome
*
*/
/*!
 *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */
/* FONT PATH
 * -------------------------- */
@font-face {
  font-family: 'FontAwesome';
  src: url('../components/font-awesome/fonts/fontawesome-webfont.eot?v=4.7.0');
  src: url('../components/font-awesome/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'), url('../components/font-awesome/fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'), url('../components/font-awesome/fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'), url('../components/font-awesome/fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'), url('../components/font-awesome/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');
  font-weight: normal;
  font-style: normal;
}
.fa {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
/* makes the font 33% larger relative to the icon container */
.fa-lg {
  font-size: 1.33333333em;
  line-height: 0.75em;
  vertical-align: -15%;
}
.fa-2x {
  font-size: 2em;
}
.fa-3x {
  font-size: 3em;
}
.fa-4x {
  font-size: 4em;
}
.fa-5x {
  font-size: 5em;
}
.fa-fw {
  width: 1.28571429em;
  text-align: center;
}
.fa-ul {
  padding-left: 0;
  margin-left: 2.14285714em;
  list-style-type: none;
}
.fa-ul > li {
  position: relative;
}
.fa-li {
  position: absolute;
  left: -2.14285714em;
  width: 2.14285714em;
  top: 0.14285714em;
  text-align: center;
}
.fa-li.fa-lg {
  left: -1.85714286em;
}
.fa-border {
  padding: .2em .25em .15em;
  border: solid 0.08em #eee;
  border-radius: .1em;
}
.fa-pull-left {
  float: left;
}
.fa-pull-right {
  float: right;
}
.fa.fa-pull-left {
  margin-right: .3em;
}
.fa.fa-pull-right {
  margin-left: .3em;
}
/* Deprecated as of 4.4.0 */
.pull-right {
  float: right;
}
.pull-left {
  float: left;
}
.fa.pull-left {
  margin-right: .3em;
}
.fa.pull-right {
  margin-left: .3em;
}
.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
  animation: fa-spin 2s infinite linear;
}
.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
  animation: fa-spin 1s infinite steps(8);
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
    transform: rotate(359deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
    transform: rotate(359deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  transform: rotate(90deg);
}
.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  transform: rotate(180deg);
}
.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
  -ms-transform: rotate(270deg);
  transform: rotate(270deg);
}
.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
  -ms-transform: scale(-1, 1);
  transform: scale(-1, 1);
}
.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
  -ms-transform: scale(1, -1);
  transform: scale(1, -1);
}
:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical {
  filter: none;
}
.fa-stack {
  position: relative;
  display: inline-block;
  width: 2em;
  height: 2em;
  line-height: 2em;
  vertical-align: middle;
}
.fa-stack-1x,
.fa-stack-2x {
  position: absolute;
  left: 0;
  width: 100%;
  text-align: center;
}
.fa-stack-1x {
  line-height: inherit;
}
.fa-stack-2x {
  font-size: 2em;
}
.fa-inverse {
  color: #fff;
}
/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen
   readers do not read off random characters that represent icons */
.fa-glass:before {
  content: "\f000";
}
.fa-music:before {
  content: "\f001";
}
.fa-search:before {
  content: "\f002";
}
.fa-envelope-o:before {
  content: "\f003";
}
.fa-heart:before {
  content: "\f004";
}
.fa-star:before {
  content: "\f005";
}
.fa-star-o:before {
  content: "\f006";
}
.fa-user:before {
  content: "\f007";
}
.fa-film:before {
  content: "\f008";
}
.fa-th-large:before {
  content: "\f009";
}
.fa-th:before {
  content: "\f00a";
}
.fa-th-list:before {
  content: "\f00b";
}
.fa-check:before {
  content: "\f00c";
}
.fa-remove:before,
.fa-close:before,
.fa-times:before {
  content: "\f00d";
}
.fa-search-plus:before {
  content: "\f00e";
}
.fa-search-minus:before {
  content: "\f010";
}
.fa-power-off:before {
  content: "\f011";
}
.fa-signal:before {
  content: "\f012";
}
.fa-gear:before,
.fa-cog:before {
  content: "\f013";
}
.fa-trash-o:before {
  content: "\f014";
}
.fa-home:before {
  content: "\f015";
}
.fa-file-o:before {
  content: "\f016";
}
.fa-clock-o:before {
  content: "\f017";
}
.fa-road:before {
  content: "\f018";
}
.fa-download:before {
  content: "\f019";
}
.fa-arrow-circle-o-down:before {
  content: "\f01a";
}
.fa-arrow-circle-o-up:before {
  content: "\f01b";
}
.fa-inbox:before {
  content: "\f01c";
}
.fa-play-circle-o:before {
  content: "\f01d";
}
.fa-rotate-right:before,
.fa-repeat:before {
  content: "\f01e";
}
.fa-refresh:before {
  content: "\f021";
}
.fa-list-alt:before {
  content: "\f022";
}
.fa-lock:before {
  content: "\f023";
}
.fa-flag:before {
  content: "\f024";
}
.fa-headphones:before {
  content: "\f025";
}
.fa-volume-off:before {
  content: "\f026";
}
.fa-volume-down:before {
  content: "\f027";
}
.fa-volume-up:before {
  content: "\f028";
}
.fa-qrcode:before {
  content: "\f029";
}
.fa-barcode:before {
  content: "\f02a";
}
.fa-tag:before {
  content: "\f02b";
}
.fa-tags:before {
  content: "\f02c";
}
.fa-book:before {
  content: "\f02d";
}
.fa-bookmark:before {
  content: "\f02e";
}
.fa-print:before {
  content: "\f02f";
}
.fa-camera:before {
  content: "\f030";
}
.fa-font:before {
  content: "\f031";
}
.fa-bold:before {
  content: "\f032";
}
.fa-italic:before {
  content: "\f033";
}
.fa-text-height:before {
  content: "\f034";
}
.fa-text-width:before {
  content: "\f035";
}
.fa-align-left:before {
  content: "\f036";
}
.fa-align-center:before {
  content: "\f037";
}
.fa-align-right:before {
  content: "\f038";
}
.fa-align-justify:before {
  content: "\f039";
}
.fa-list:before {
  content: "\f03a";
}
.fa-dedent:before,
.fa-outdent:before {
  content: "\f03b";
}
.fa-indent:before {
  content: "\f03c";
}
.fa-video-camera:before {
  content: "\f03d";
}
.fa-photo:before,
.fa-image:before,
.fa-picture-o:before {
  content: "\f03e";
}
.fa-pencil:before {
  content: "\f040";
}
.fa-map-marker:before {
  content: "\f041";
}
.fa-adjust:before {
  content: "\f042";
}
.fa-tint:before {
  content: "\f043";
}
.fa-edit:before,
.fa-pencil-square-o:before {
  content: "\f044";
}
.fa-share-square-o:before {
  content: "\f045";
}
.fa-check-square-o:before {
  content: "\f046";
}
.fa-arrows:before {
  content: "\f047";
}
.fa-step-backward:before {
  content: "\f048";
}
.fa-fast-backward:before {
  content: "\f049";
}
.fa-backward:before {
  content: "\f04a";
}
.fa-play:before {
  content: "\f04b";
}
.fa-pause:before {
  content: "\f04c";
}
.fa-stop:before {
  content: "\f04d";
}
.fa-forward:before {
  content: "\f04e";
}
.fa-fast-forward:before {
  content: "\f050";
}
.fa-step-forward:before {
  content: "\f051";
}
.fa-eject:before {
  content: "\f052";
}
.fa-chevron-left:before {
  content: "\f053";
}
.fa-chevron-right:before {
  content: "\f054";
}
.fa-plus-circle:before {
  content: "\f055";
}
.fa-minus-circle:before {
  content: "\f056";
}
.fa-times-circle:before {
  content: "\f057";
}
.fa-check-circle:before {
  content: "\f058";
}
.fa-question-circle:before {
  content: "\f059";
}
.fa-info-circle:before {
  content: "\f05a";
}
.fa-crosshairs:before {
  content: "\f05b";
}
.fa-times-circle-o:before {
  content: "\f05c";
}
.fa-check-circle-o:before {
  content: "\f05d";
}
.fa-ban:before {
  content: "\f05e";
}
.fa-arrow-left:before {
  content: "\f060";
}
.fa-arrow-right:before {
  content: "\f061";
}
.fa-arrow-up:before {
  content: "\f062";
}
.fa-arrow-down:before {
  content: "\f063";
}
.fa-mail-forward:before,
.fa-share:before {
  content: "\f064";
}
.fa-expand:before {
  content: "\f065";
}
.fa-compress:before {
  content: "\f066";
}
.fa-plus:before {
  content: "\f067";
}
.fa-minus:before {
  content: "\f068";
}
.fa-asterisk:before {
  content: "\f069";
}
.fa-exclamation-circle:before {
  content: "\f06a";
}
.fa-gift:before {
  content: "\f06b";
}
.fa-leaf:before {
  content: "\f06c";
}
.fa-fire:before {
  content: "\f06d";
}
.fa-eye:before {
  content: "\f06e";
}
.fa-eye-slash:before {
  content: "\f070";
}
.fa-warning:before,
.fa-exclamation-triangle:before {
  content: "\f071";
}
.fa-plane:before {
  content: "\f072";
}
.fa-calendar:before {
  content: "\f073";
}
.fa-random:before {
  content: "\f074";
}
.fa-comment:before {
  content: "\f075";
}
.fa-magnet:before {
  content: "\f076";
}
.fa-chevron-up:before {
  content: "\f077";
}
.fa-chevron-down:before {
  content: "\f078";
}
.fa-retweet:before {
  content: "\f079";
}
.fa-shopping-cart:before {
  content: "\f07a";
}
.fa-folder:before {
  content: "\f07b";
}
.fa-folder-open:before {
  content: "\f07c";
}
.fa-arrows-v:before {
  content: "\f07d";
}
.fa-arrows-h:before {
  content: "\f07e";
}
.fa-bar-chart-o:before,
.fa-bar-chart:before {
  content: "\f080";
}
.fa-twitter-square:before {
  content: "\f081";
}
.fa-facebook-square:before {
  content: "\f082";
}
.fa-camera-retro:before {
  content: "\f083";
}
.fa-key:before {
  content: "\f084";
}
.fa-gears:before,
.fa-cogs:before {
  content: "\f085";
}
.fa-comments:before {
  content: "\f086";
}
.fa-thumbs-o-up:before {
  content: "\f087";
}
.fa-thumbs-o-down:before {
  content: "\f088";
}
.fa-star-half:before {
  content: "\f089";
}
.fa-heart-o:before {
  content: "\f08a";
}
.fa-sign-out:before {
  content: "\f08b";
}
.fa-linkedin-square:before {
  content: "\f08c";
}
.fa-thumb-tack:before {
  content: "\f08d";
}
.fa-external-link:before {
  content: "\f08e";
}
.fa-sign-in:before {
  content: "\f090";
}
.fa-trophy:before {
  content: "\f091";
}
.fa-github-square:before {
  content: "\f092";
}
.fa-upload:before {
  content: "\f093";
}
.fa-lemon-o:before {
  content: "\f094";
}
.fa-phone:before {
  content: "\f095";
}
.fa-square-o:before {
  content: "\f096";
}
.fa-bookmark-o:before {
  content: "\f097";
}
.fa-phone-square:before {
  content: "\f098";
}
.fa-twitter:before {
  content: "\f099";
}
.fa-facebook-f:before,
.fa-facebook:before {
  content: "\f09a";
}
.fa-github:before {
  content: "\f09b";
}
.fa-unlock:before {
  content: "\f09c";
}
.fa-credit-card:before {
  content: "\f09d";
}
.fa-feed:before,
.fa-rss:before {
  content: "\f09e";
}
.fa-hdd-o:before {
  content: "\f0a0";
}
.fa-bullhorn:before {
  content: "\f0a1";
}
.fa-bell:before {
  content: "\f0f3";
}
.fa-certificate:before {
  content: "\f0a3";
}
.fa-hand-o-right:before {
  content: "\f0a4";
}
.fa-hand-o-left:before {
  content: "\f0a5";
}
.fa-hand-o-up:before {
  content: "\f0a6";
}
.fa-hand-o-down:before {
  content: "\f0a7";
}
.fa-arrow-circle-left:before {
  content: "\f0a8";
}
.fa-arrow-circle-right:before {
  content: "\f0a9";
}
.fa-arrow-circle-up:before {
  content: "\f0aa";
}
.fa-arrow-circle-down:before {
  content: "\f0ab";
}
.fa-globe:before {
  content: "\f0ac";
}
.fa-wrench:before {
  content: "\f0ad";
}
.fa-tasks:before {
  content: "\f0ae";
}
.fa-filter:before {
  content: "\f0b0";
}
.fa-briefcase:before {
  content: "\f0b1";
}
.fa-arrows-alt:before {
  content: "\f0b2";
}
.fa-group:before,
.fa-users:before {
  content: "\f0c0";
}
.fa-chain:before,
.fa-link:before {
  content: "\f0c1";
}
.fa-cloud:before {
  content: "\f0c2";
}
.fa-flask:before {
  content: "\f0c3";
}
.fa-cut:before,
.fa-scissors:before {
  content: "\f0c4";
}
.fa-copy:before,
.fa-files-o:before {
  content: "\f0c5";
}
.fa-paperclip:before {
  content: "\f0c6";
}
.fa-save:before,
.fa-floppy-o:before {
  content: "\f0c7";
}
.fa-square:before {
  content: "\f0c8";
}
.fa-navicon:before,
.fa-reorder:before,
.fa-bars:before {
  content: "\f0c9";
}
.fa-list-ul:before {
  content: "\f0ca";
}
.fa-list-ol:before {
  content: "\f0cb";
}
.fa-strikethrough:before {
  content: "\f0cc";
}
.fa-underline:before {
  content: "\f0cd";
}
.fa-table:before {
  content: "\f0ce";
}
.fa-magic:before {
  content: "\f0d0";
}
.fa-truck:before {
  content: "\f0d1";
}
.fa-pinterest:before {
  content: "\f0d2";
}
.fa-pinterest-square:before {
  content: "\f0d3";
}
.fa-google-plus-square:before {
  content: "\f0d4";
}
.fa-google-plus:before {
  content: "\f0d5";
}
.fa-money:before {
  content: "\f0d6";
}
.fa-caret-down:before {
  content: "\f0d7";
}
.fa-caret-up:before {
  content: "\f0d8";
}
.fa-caret-left:before {
  content: "\f0d9";
}
.fa-caret-right:before {
  content: "\f0da";
}
.fa-columns:before {
  content: "\f0db";
}
.fa-unsorted:before,
.fa-sort:before {
  content: "\f0dc";
}
.fa-sort-down:before,
.fa-sort-desc:before {
  content: "\f0dd";
}
.fa-sort-up:before,
.fa-sort-asc:before {
  content: "\f0de";
}
.fa-envelope:before {
  content: "\f0e0";
}
.fa-linkedin:before {
  content: "\f0e1";
}
.fa-rotate-left:before,
.fa-undo:before {
  content: "\f0e2";
}
.fa-legal:before,
.fa-gavel:before {
  content: "\f0e3";
}
.fa-dashboard:before,
.fa-tachometer:before {
  content: "\f0e4";
}
.fa-comment-o:before {
  content: "\f0e5";
}
.fa-comments-o:before {
  content: "\f0e6";
}
.fa-flash:before,
.fa-bolt:before {
  content: "\f0e7";
}
.fa-sitemap:before {
  content: "\f0e8";
}
.fa-umbrella:before {
  content: "\f0e9";
}
.fa-paste:before,
.fa-clipboard:before {
  content: "\f0ea";
}
.fa-lightbulb-o:before {
  content: "\f0eb";
}
.fa-exchange:before {
  content: "\f0ec";
}
.fa-cloud-download:before {
  content: "\f0ed";
}
.fa-cloud-upload:before {
  content: "\f0ee";
}
.fa-user-md:before {
  content: "\f0f0";
}
.fa-stethoscope:before {
  content: "\f0f1";
}
.fa-suitcase:before {
  content: "\f0f2";
}
.fa-bell-o:before {
  content: "\f0a2";
}
.fa-coffee:before {
  content: "\f0f4";
}
.fa-cutlery:before {
  content: "\f0f5";
}
.fa-file-text-o:before {
  content: "\f0f6";
}
.fa-building-o:before {
  content: "\f0f7";
}
.fa-hospital-o:before {
  content: "\f0f8";
}
.fa-ambulance:before {
  content: "\f0f9";
}
.fa-medkit:before {
  content: "\f0fa";
}
.fa-fighter-jet:before {
  content: "\f0fb";
}
.fa-beer:before {
  content: "\f0fc";
}
.fa-h-square:before {
  content: "\f0fd";
}
.fa-plus-square:before {
  content: "\f0fe";
}
.fa-angle-double-left:before {
  content: "\f100";
}
.fa-angle-double-right:before {
  content: "\f101";
}
.fa-angle-double-up:before {
  content: "\f102";
}
.fa-angle-double-down:before {
  content: "\f103";
}
.fa-angle-left:before {
  content: "\f104";
}
.fa-angle-right:before {
  content: "\f105";
}
.fa-angle-up:before {
  content: "\f106";
}
.fa-angle-down:before {
  content: "\f107";
}
.fa-desktop:before {
  content: "\f108";
}
.fa-laptop:before {
  content: "\f109";
}
.fa-tablet:before {
  content: "\f10a";
}
.fa-mobile-phone:before,
.fa-mobile:before {
  content: "\f10b";
}
.fa-circle-o:before {
  content: "\f10c";
}
.fa-quote-left:before {
  content: "\f10d";
}
.fa-quote-right:before {
  content: "\f10e";
}
.fa-spinner:before {
  content: "\f110";
}
.fa-circle:before {
  content: "\f111";
}
.fa-mail-reply:before,
.fa-reply:before {
  content: "\f112";
}
.fa-github-alt:before {
  content: "\f113";
}
.fa-folder-o:before {
  content: "\f114";
}
.fa-folder-open-o:before {
  content: "\f115";
}
.fa-smile-o:before {
  content: "\f118";
}
.fa-frown-o:before {
  content: "\f119";
}
.fa-meh-o:before {
  content: "\f11a";
}
.fa-gamepad:before {
  content: "\f11b";
}
.fa-keyboard-o:before {
  content: "\f11c";
}
.fa-flag-o:before {
  content: "\f11d";
}
.fa-flag-checkered:before {
  content: "\f11e";
}
.fa-terminal:before {
  content: "\f120";
}
.fa-code:before {
  content: "\f121";
}
.fa-mail-reply-all:before,
.fa-reply-all:before {
  content: "\f122";
}
.fa-star-half-empty:before,
.fa-star-half-full:before,
.fa-star-half-o:before {
  content: "\f123";
}
.fa-location-arrow:before {
  content: "\f124";
}
.fa-crop:before {
  content: "\f125";
}
.fa-code-fork:before {
  content: "\f126";
}
.fa-unlink:before,
.fa-chain-broken:before {
  content: "\f127";
}
.fa-question:before {
  content: "\f128";
}
.fa-info:before {
  content: "\f129";
}
.fa-exclamation:before {
  content: "\f12a";
}
.fa-superscript:before {
  content: "\f12b";
}
.fa-subscript:before {
  content: "\f12c";
}
.fa-eraser:before {
  content: "\f12d";
}
.fa-puzzle-piece:before {
  content: "\f12e";
}
.fa-microphone:before {
  content: "\f130";
}
.fa-microphone-slash:before {
  content: "\f131";
}
.fa-shield:before {
  content: "\f132";
}
.fa-calendar-o:before {
  content: "\f133";
}
.fa-fire-extinguisher:before {
  content: "\f134";
}
.fa-rocket:before {
  content: "\f135";
}
.fa-maxcdn:before {
  content: "\f136";
}
.fa-chevron-circle-left:before {
  content: "\f137";
}
.fa-chevron-circle-right:before {
  content: "\f138";
}
.fa-chevron-circle-up:before {
  content: "\f139";
}
.fa-chevron-circle-down:before {
  content: "\f13a";
}
.fa-html5:before {
  content: "\f13b";
}
.fa-css3:before {
  content: "\f13c";
}
.fa-anchor:before {
  content: "\f13d";
}
.fa-unlock-alt:before {
  content: "\f13e";
}
.fa-bullseye:before {
  content: "\f140";
}
.fa-ellipsis-h:before {
  content: "\f141";
}
.fa-ellipsis-v:before {
  content: "\f142";
}
.fa-rss-square:before {
  content: "\f143";
}
.fa-play-circle:before {
  content: "\f144";
}
.fa-ticket:before {
  content: "\f145";
}
.fa-minus-square:before {
  content: "\f146";
}
.fa-minus-square-o:before {
  content: "\f147";
}
.fa-level-up:before {
  content: "\f148";
}
.fa-level-down:before {
  content: "\f149";
}
.fa-check-square:before {
  content: "\f14a";
}
.fa-pencil-square:before {
  content: "\f14b";
}
.fa-external-link-square:before {
  content: "\f14c";
}
.fa-share-square:before {
  content: "\f14d";
}
.fa-compass:before {
  content: "\f14e";
}
.fa-toggle-down:before,
.fa-caret-square-o-down:before {
  content: "\f150";
}
.fa-toggle-up:before,
.fa-caret-square-o-up:before {
  content: "\f151";
}
.fa-toggle-right:before,
.fa-caret-square-o-right:before {
  content: "\f152";
}
.fa-euro:before,
.fa-eur:before {
  content: "\f153";
}
.fa-gbp:before {
  content: "\f154";
}
.fa-dollar:before,
.fa-usd:before {
  content: "\f155";
}
.fa-rupee:before,
.fa-inr:before {
  content: "\f156";
}
.fa-cny:before,
.fa-rmb:before,
.fa-yen:before,
.fa-jpy:before {
  content: "\f157";
}
.fa-ruble:before,
.fa-rouble:before,
.fa-rub:before {
  content: "\f158";
}
.fa-won:before,
.fa-krw:before {
  content: "\f159";
}
.fa-bitcoin:before,
.fa-btc:before {
  content: "\f15a";
}
.fa-file:before {
  content: "\f15b";
}
.fa-file-text:before {
  content: "\f15c";
}
.fa-sort-alpha-asc:before {
  content: "\f15d";
}
.fa-sort-alpha-desc:before {
  content: "\f15e";
}
.fa-sort-amount-asc:before {
  content: "\f160";
}
.fa-sort-amount-desc:before {
  content: "\f161";
}
.fa-sort-numeric-asc:before {
  content: "\f162";
}
.fa-sort-numeric-desc:before {
  content: "\f163";
}
.fa-thumbs-up:before {
  content: "\f164";
}
.fa-thumbs-down:before {
  content: "\f165";
}
.fa-youtube-square:before {
  content: "\f166";
}
.fa-youtube:before {
  content: "\f167";
}
.fa-xing:before {
  content: "\f168";
}
.fa-xing-square:before {
  content: "\f169";
}
.fa-youtube-play:before {
  content: "\f16a";
}
.fa-dropbox:before {
  content: "\f16b";
}
.fa-stack-overflow:before {
  content: "\f16c";
}
.fa-instagram:before {
  content: "\f16d";
}
.fa-flickr:before {
  content: "\f16e";
}
.fa-adn:before {
  content: "\f170";
}
.fa-bitbucket:before {
  content: "\f171";
}
.fa-bitbucket-square:before {
  content: "\f172";
}
.fa-tumblr:before {
  content: "\f173";
}
.fa-tumblr-square:before {
  content: "\f174";
}
.fa-long-arrow-down:before {
  content: "\f175";
}
.fa-long-arrow-up:before {
  content: "\f176";
}
.fa-long-arrow-left:before {
  content: "\f177";
}
.fa-long-arrow-right:before {
  content: "\f178";
}
.fa-apple:before {
  content: "\f179";
}
.fa-windows:before {
  content: "\f17a";
}
.fa-android:before {
  content: "\f17b";
}
.fa-linux:before {
  content: "\f17c";
}
.fa-dribbble:before {
  content: "\f17d";
}
.fa-skype:before {
  content: "\f17e";
}
.fa-foursquare:before {
  content: "\f180";
}
.fa-trello:before {
  content: "\f181";
}
.fa-female:before {
  content: "\f182";
}
.fa-male:before {
  content: "\f183";
}
.fa-gittip:before,
.fa-gratipay:before {
  content: "\f184";
}
.fa-sun-o:before {
  content: "\f185";
}
.fa-moon-o:before {
  content: "\f186";
}
.fa-archive:before {
  content: "\f187";
}
.fa-bug:before {
  content: "\f188";
}
.fa-vk:before {
  content: "\f189";
}
.fa-weibo:before {
  content: "\f18a";
}
.fa-renren:before {
  content: "\f18b";
}
.fa-pagelines:before {
  content: "\f18c";
}
.fa-stack-exchange:before {
  content: "\f18d";
}
.fa-arrow-circle-o-right:before {
  content: "\f18e";
}
.fa-arrow-circle-o-left:before {
  content: "\f190";
}
.fa-toggle-left:before,
.fa-caret-square-o-left:before {
  content: "\f191";
}
.fa-dot-circle-o:before {
  content: "\f192";
}
.fa-wheelchair:before {
  content: "\f193";
}
.fa-vimeo-square:before {
  content: "\f194";
}
.fa-turkish-lira:before,
.fa-try:before {
  content: "\f195";
}
.fa-plus-square-o:before {
  content: "\f196";
}
.fa-space-shuttle:before {
  content: "\f197";
}
.fa-slack:before {
  content: "\f198";
}
.fa-envelope-square:before {
  content: "\f199";
}
.fa-wordpress:before {
  content: "\f19a";
}
.fa-openid:before {
  content: "\f19b";
}
.fa-institution:before,
.fa-bank:before,
.fa-university:before {
  content: "\f19c";
}
.fa-mortar-board:before,
.fa-graduation-cap:before {
  content: "\f19d";
}
.fa-yahoo:before {
  content: "\f19e";
}
.fa-google:before {
  content: "\f1a0";
}
.fa-reddit:before {
  content: "\f1a1";
}
.fa-reddit-square:before {
  content: "\f1a2";
}
.fa-stumbleupon-circle:before {
  content: "\f1a3";
}
.fa-stumbleupon:before {
  content: "\f1a4";
}
.fa-delicious:before {
  content: "\f1a5";
}
.fa-digg:before {
  content: "\f1a6";
}
.fa-pied-piper-pp:before {
  content: "\f1a7";
}
.fa-pied-piper-alt:before {
  content: "\f1a8";
}
.fa-drupal:before {
  content: "\f1a9";
}
.fa-joomla:before {
  content: "\f1aa";
}
.fa-language:before {
  content: "\f1ab";
}
.fa-fax:before {
  content: "\f1ac";
}
.fa-building:before {
  content: "\f1ad";
}
.fa-child:before {
  content: "\f1ae";
}
.fa-paw:before {
  content: "\f1b0";
}
.fa-spoon:before {
  content: "\f1b1";
}
.fa-cube:before {
  content: "\f1b2";
}
.fa-cubes:before {
  content: "\f1b3";
}
.fa-behance:before {
  content: "\f1b4";
}
.fa-behance-square:before {
  content: "\f1b5";
}
.fa-steam:before {
  content: "\f1b6";
}
.fa-steam-square:before {
  content: "\f1b7";
}
.fa-recycle:before {
  content: "\f1b8";
}
.fa-automobile:before,
.fa-car:before {
  content: "\f1b9";
}
.fa-cab:before,
.fa-taxi:before {
  content: "\f1ba";
}
.fa-tree:before {
  content: "\f1bb";
}
.fa-spotify:before {
  content: "\f1bc";
}
.fa-deviantart:before {
  content: "\f1bd";
}
.fa-soundcloud:before {
  content: "\f1be";
}
.fa-database:before {
  content: "\f1c0";
}
.fa-file-pdf-o:before {
  content: "\f1c1";
}
.fa-file-word-o:before {
  content: "\f1c2";
}
.fa-file-excel-o:before {
  content: "\f1c3";
}
.fa-file-powerpoint-o:before {
  content: "\f1c4";
}
.fa-file-photo-o:before,
.fa-file-picture-o:before,
.fa-file-image-o:before {
  content: "\f1c5";
}
.fa-file-zip-o:before,
.fa-file-archive-o:before {
  content: "\f1c6";
}
.fa-file-sound-o:before,
.fa-file-audio-o:before {
  content: "\f1c7";
}
.fa-file-movie-o:before,
.fa-file-video-o:before {
  content: "\f1c8";
}
.fa-file-code-o:before {
  content: "\f1c9";
}
.fa-vine:before {
  content: "\f1ca";
}
.fa-codepen:before {
  content: "\f1cb";
}
.fa-jsfiddle:before {
  content: "\f1cc";
}
.fa-life-bouy:before,
.fa-life-buoy:before,
.fa-life-saver:before,
.fa-support:before,
.fa-life-ring:before {
  content: "\f1cd";
}
.fa-circle-o-notch:before {
  content: "\f1ce";
}
.fa-ra:before,
.fa-resistance:before,
.fa-rebel:before {
  content: "\f1d0";
}
.fa-ge:before,
.fa-empire:before {
  content: "\f1d1";
}
.fa-git-square:before {
  content: "\f1d2";
}
.fa-git:before {
  content: "\f1d3";
}
.fa-y-combinator-square:before,
.fa-yc-square:before,
.fa-hacker-news:before {
  content: "\f1d4";
}
.fa-tencent-weibo:before {
  content: "\f1d5";
}
.fa-qq:before {
  content: "\f1d6";
}
.fa-wechat:before,
.fa-weixin:before {
  content: "\f1d7";
}
.fa-send:before,
.fa-paper-plane:before {
  content: "\f1d8";
}
.fa-send-o:before,
.fa-paper-plane-o:before {
  content: "\f1d9";
}
.fa-history:before {
  content: "\f1da";
}
.fa-circle-thin:before {
  content: "\f1db";
}
.fa-header:before {
  content: "\f1dc";
}
.fa-paragraph:before {
  content: "\f1dd";
}
.fa-sliders:before {
  content: "\f1de";
}
.fa-share-alt:before {
  content: "\f1e0";
}
.fa-share-alt-square:before {
  content: "\f1e1";
}
.fa-bomb:before {
  content: "\f1e2";
}
.fa-soccer-ball-o:before,
.fa-futbol-o:before {
  content: "\f1e3";
}
.fa-tty:before {
  content: "\f1e4";
}
.fa-binoculars:before {
  content: "\f1e5";
}
.fa-plug:before {
  content: "\f1e6";
}
.fa-slideshare:before {
  content: "\f1e7";
}
.fa-twitch:before {
  content: "\f1e8";
}
.fa-yelp:before {
  content: "\f1e9";
}
.fa-newspaper-o:before {
  content: "\f1ea";
}
.fa-wifi:before {
  content: "\f1eb";
}
.fa-calculator:before {
  content: "\f1ec";
}
.fa-paypal:before {
  content: "\f1ed";
}
.fa-google-wallet:before {
  content: "\f1ee";
}
.fa-cc-visa:before {
  content: "\f1f0";
}
.fa-cc-mastercard:before {
  content: "\f1f1";
}
.fa-cc-discover:before {
  content: "\f1f2";
}
.fa-cc-amex:before {
  content: "\f1f3";
}
.fa-cc-paypal:before {
  content: "\f1f4";
}
.fa-cc-stripe:before {
  content: "\f1f5";
}
.fa-bell-slash:before {
  content: "\f1f6";
}
.fa-bell-slash-o:before {
  content: "\f1f7";
}
.fa-trash:before {
  content: "\f1f8";
}
.fa-copyright:before {
  content: "\f1f9";
}
.fa-at:before {
  content: "\f1fa";
}
.fa-eyedropper:before {
  content: "\f1fb";
}
.fa-paint-brush:before {
  content: "\f1fc";
}
.fa-birthday-cake:before {
  content: "\f1fd";
}
.fa-area-chart:before {
  content: "\f1fe";
}
.fa-pie-chart:before {
  content: "\f200";
}
.fa-line-chart:before {
  content: "\f201";
}
.fa-lastfm:before {
  content: "\f202";
}
.fa-lastfm-square:before {
  content: "\f203";
}
.fa-toggle-off:before {
  content: "\f204";
}
.fa-toggle-on:before {
  content: "\f205";
}
.fa-bicycle:before {
  content: "\f206";
}
.fa-bus:before {
  content: "\f207";
}
.fa-ioxhost:before {
  content: "\f208";
}
.fa-angellist:before {
  content: "\f209";
}
.fa-cc:before {
  content: "\f20a";
}
.fa-shekel:before,
.fa-sheqel:before,
.fa-ils:before {
  content: "\f20b";
}
.fa-meanpath:before {
  content: "\f20c";
}
.fa-buysellads:before {
  content: "\f20d";
}
.fa-connectdevelop:before {
  content: "\f20e";
}
.fa-dashcube:before {
  content: "\f210";
}
.fa-forumbee:before {
  content: "\f211";
}
.fa-leanpub:before {
  content: "\f212";
}
.fa-sellsy:before {
  content: "\f213";
}
.fa-shirtsinbulk:before {
  content: "\f214";
}
.fa-simplybuilt:before {
  content: "\f215";
}
.fa-skyatlas:before {
  content: "\f216";
}
.fa-cart-plus:before {
  content: "\f217";
}
.fa-cart-arrow-down:before {
  content: "\f218";
}
.fa-diamond:before {
  content: "\f219";
}
.fa-ship:before {
  content: "\f21a";
}
.fa-user-secret:before {
  content: "\f21b";
}
.fa-motorcycle:before {
  content: "\f21c";
}
.fa-street-view:before {
  content: "\f21d";
}
.fa-heartbeat:before {
  content: "\f21e";
}
.fa-venus:before {
  content: "\f221";
}
.fa-mars:before {
  content: "\f222";
}
.fa-mercury:before {
  content: "\f223";
}
.fa-intersex:before,
.fa-transgender:before {
  content: "\f224";
}
.fa-transgender-alt:before {
  content: "\f225";
}
.fa-venus-double:before {
  content: "\f226";
}
.fa-mars-double:before {
  content: "\f227";
}
.fa-venus-mars:before {
  content: "\f228";
}
.fa-mars-stroke:before {
  content: "\f229";
}
.fa-mars-stroke-v:before {
  content: "\f22a";
}
.fa-mars-stroke-h:before {
  content: "\f22b";
}
.fa-neuter:before {
  content: "\f22c";
}
.fa-genderless:before {
  content: "\f22d";
}
.fa-facebook-official:before {
  content: "\f230";
}
.fa-pinterest-p:before {
  content: "\f231";
}
.fa-whatsapp:before {
  content: "\f232";
}
.fa-server:before {
  content: "\f233";
}
.fa-user-plus:before {
  content: "\f234";
}
.fa-user-times:before {
  content: "\f235";
}
.fa-hotel:before,
.fa-bed:before {
  content: "\f236";
}
.fa-viacoin:before {
  content: "\f237";
}
.fa-train:before {
  content: "\f238";
}
.fa-subway:before {
  content: "\f239";
}
.fa-medium:before {
  content: "\f23a";
}
.fa-yc:before,
.fa-y-combinator:before {
  content: "\f23b";
}
.fa-optin-monster:before {
  content: "\f23c";
}
.fa-opencart:before {
  content: "\f23d";
}
.fa-expeditedssl:before {
  content: "\f23e";
}
.fa-battery-4:before,
.fa-battery:before,
.fa-battery-full:before {
  content: "\f240";
}
.fa-battery-3:before,
.fa-battery-three-quarters:before {
  content: "\f241";
}
.fa-battery-2:before,
.fa-battery-half:before {
  content: "\f242";
}
.fa-battery-1:before,
.fa-battery-quarter:before {
  content: "\f243";
}
.fa-battery-0:before,
.fa-battery-empty:before {
  content: "\f244";
}
.fa-mouse-pointer:before {
  content: "\f245";
}
.fa-i-cursor:before {
  content: "\f246";
}
.fa-object-group:before {
  content: "\f247";
}
.fa-object-ungroup:before {
  content: "\f248";
}
.fa-sticky-note:before {
  content: "\f249";
}
.fa-sticky-note-o:before {
  content: "\f24a";
}
.fa-cc-jcb:before {
  content: "\f24b";
}
.fa-cc-diners-club:before {
  content: "\f24c";
}
.fa-clone:before {
  content: "\f24d";
}
.fa-balance-scale:before {
  content: "\f24e";
}
.fa-hourglass-o:before {
  content: "\f250";
}
.fa-hourglass-1:before,
.fa-hourglass-start:before {
  content: "\f251";
}
.fa-hourglass-2:before,
.fa-hourglass-half:before {
  content: "\f252";
}
.fa-hourglass-3:before,
.fa-hourglass-end:before {
  content: "\f253";
}
.fa-hourglass:before {
  content: "\f254";
}
.fa-hand-grab-o:before,
.fa-hand-rock-o:before {
  content: "\f255";
}
.fa-hand-stop-o:before,
.fa-hand-paper-o:before {
  content: "\f256";
}
.fa-hand-scissors-o:before {
  content: "\f257";
}
.fa-hand-lizard-o:before {
  content: "\f258";
}
.fa-hand-spock-o:before {
  content: "\f259";
}
.fa-hand-pointer-o:before {
  content: "\f25a";
}
.fa-hand-peace-o:before {
  content: "\f25b";
}
.fa-trademark:before {
  content: "\f25c";
}
.fa-registered:before {
  content: "\f25d";
}
.fa-creative-commons:before {
  content: "\f25e";
}
.fa-gg:before {
  content: "\f260";
}
.fa-gg-circle:before {
  content: "\f261";
}
.fa-tripadvisor:before {
  content: "\f262";
}
.fa-odnoklassniki:before {
  content: "\f263";
}
.fa-odnoklassniki-square:before {
  content: "\f264";
}
.fa-get-pocket:before {
  content: "\f265";
}
.fa-wikipedia-w:before {
  content: "\f266";
}
.fa-safari:before {
  content: "\f267";
}
.fa-chrome:before {
  content: "\f268";
}
.fa-firefox:before {
  content: "\f269";
}
.fa-opera:before {
  content: "\f26a";
}
.fa-internet-explorer:before {
  content: "\f26b";
}
.fa-tv:before,
.fa-television:before {
  content: "\f26c";
}
.fa-contao:before {
  content: "\f26d";
}
.fa-500px:before {
  content: "\f26e";
}
.fa-amazon:before {
  content: "\f270";
}
.fa-calendar-plus-o:before {
  content: "\f271";
}
.fa-calendar-minus-o:before {
  content: "\f272";
}
.fa-calendar-times-o:before {
  content: "\f273";
}
.fa-calendar-check-o:before {
  content: "\f274";
}
.fa-industry:before {
  content: "\f275";
}
.fa-map-pin:before {
  content: "\f276";
}
.fa-map-signs:before {
  content: "\f277";
}
.fa-map-o:before {
  content: "\f278";
}
.fa-map:before {
  content: "\f279";
}
.fa-commenting:before {
  content: "\f27a";
}
.fa-commenting-o:before {
  content: "\f27b";
}
.fa-houzz:before {
  content: "\f27c";
}
.fa-vimeo:before {
  content: "\f27d";
}
.fa-black-tie:before {
  content: "\f27e";
}
.fa-fonticons:before {
  content: "\f280";
}
.fa-reddit-alien:before {
  content: "\f281";
}
.fa-edge:before {
  content: "\f282";
}
.fa-credit-card-alt:before {
  content: "\f283";
}
.fa-codiepie:before {
  content: "\f284";
}
.fa-modx:before {
  content: "\f285";
}
.fa-fort-awesome:before {
  content: "\f286";
}
.fa-usb:before {
  content: "\f287";
}
.fa-product-hunt:before {
  content: "\f288";
}
.fa-mixcloud:before {
  content: "\f289";
}
.fa-scribd:before {
  content: "\f28a";
}
.fa-pause-circle:before {
  content: "\f28b";
}
.fa-pause-circle-o:before {
  content: "\f28c";
}
.fa-stop-circle:before {
  content: "\f28d";
}
.fa-stop-circle-o:before {
  content: "\f28e";
}
.fa-shopping-bag:before {
  content: "\f290";
}
.fa-shopping-basket:before {
  content: "\f291";
}
.fa-hashtag:before {
  content: "\f292";
}
.fa-bluetooth:before {
  content: "\f293";
}
.fa-bluetooth-b:before {
  content: "\f294";
}
.fa-percent:before {
  content: "\f295";
}
.fa-gitlab:before {
  content: "\f296";
}
.fa-wpbeginner:before {
  content: "\f297";
}
.fa-wpforms:before {
  content: "\f298";
}
.fa-envira:before {
  content: "\f299";
}
.fa-universal-access:before {
  content: "\f29a";
}
.fa-wheelchair-alt:before {
  content: "\f29b";
}
.fa-question-circle-o:before {
  content: "\f29c";
}
.fa-blind:before {
  content: "\f29d";
}
.fa-audio-description:before {
  content: "\f29e";
}
.fa-volume-control-phone:before {
  content: "\f2a0";
}
.fa-braille:before {
  content: "\f2a1";
}
.fa-assistive-listening-systems:before {
  content: "\f2a2";
}
.fa-asl-interpreting:before,
.fa-american-sign-language-interpreting:before {
  content: "\f2a3";
}
.fa-deafness:before,
.fa-hard-of-hearing:before,
.fa-deaf:before {
  content: "\f2a4";
}
.fa-glide:before {
  content: "\f2a5";
}
.fa-glide-g:before {
  content: "\f2a6";
}
.fa-signing:before,
.fa-sign-language:before {
  content: "\f2a7";
}
.fa-low-vision:before {
  content: "\f2a8";
}
.fa-viadeo:before {
  content: "\f2a9";
}
.fa-viadeo-square:before {
  content: "\f2aa";
}
.fa-snapchat:before {
  content: "\f2ab";
}
.fa-snapchat-ghost:before {
  content: "\f2ac";
}
.fa-snapchat-square:before {
  content: "\f2ad";
}
.fa-pied-piper:before {
  content: "\f2ae";
}
.fa-first-order:before {
  content: "\f2b0";
}
.fa-yoast:before {
  content: "\f2b1";
}
.fa-themeisle:before {
  content: "\f2b2";
}
.fa-google-plus-circle:before,
.fa-google-plus-official:before {
  content: "\f2b3";
}
.fa-fa:before,
.fa-font-awesome:before {
  content: "\f2b4";
}
.fa-handshake-o:before {
  content: "\f2b5";
}
.fa-envelope-open:before {
  content: "\f2b6";
}
.fa-envelope-open-o:before {
  content: "\f2b7";
}
.fa-linode:before {
  content: "\f2b8";
}
.fa-address-book:before {
  content: "\f2b9";
}
.fa-address-book-o:before {
  content: "\f2ba";
}
.fa-vcard:before,
.fa-address-card:before {
  content: "\f2bb";
}
.fa-vcard-o:before,
.fa-address-card-o:before {
  content: "\f2bc";
}
.fa-user-circle:before {
  content: "\f2bd";
}
.fa-user-circle-o:before {
  content: "\f2be";
}
.fa-user-o:before {
  content: "\f2c0";
}
.fa-id-badge:before {
  content: "\f2c1";
}
.fa-drivers-license:before,
.fa-id-card:before {
  content: "\f2c2";
}
.fa-drivers-license-o:before,
.fa-id-card-o:before {
  content: "\f2c3";
}
.fa-quora:before {
  content: "\f2c4";
}
.fa-free-code-camp:before {
  content: "\f2c5";
}
.fa-telegram:before {
  content: "\f2c6";
}
.fa-thermometer-4:before,
.fa-thermometer:before,
.fa-thermometer-full:before {
  content: "\f2c7";
}
.fa-thermometer-3:before,
.fa-thermometer-three-quarters:before {
  content: "\f2c8";
}
.fa-thermometer-2:before,
.fa-thermometer-half:before {
  content: "\f2c9";
}
.fa-thermometer-1:before,
.fa-thermometer-quarter:before {
  content: "\f2ca";
}
.fa-thermometer-0:before,
.fa-thermometer-empty:before {
  content: "\f2cb";
}
.fa-shower:before {
  content: "\f2cc";
}
.fa-bathtub:before,
.fa-s15:before,
.fa-bath:before {
  content: "\f2cd";
}
.fa-podcast:before {
  content: "\f2ce";
}
.fa-window-maximize:before {
  content: "\f2d0";
}
.fa-window-minimize:before {
  content: "\f2d1";
}
.fa-window-restore:before {
  content: "\f2d2";
}
.fa-times-rectangle:before,
.fa-window-close:before {
  content: "\f2d3";
}
.fa-times-rectangle-o:before,
.fa-window-close-o:before {
  content: "\f2d4";
}
.fa-bandcamp:before {
  content: "\f2d5";
}
.fa-grav:before {
  content: "\f2d6";
}
.fa-etsy:before {
  content: "\f2d7";
}
.fa-imdb:before {
  content: "\f2d8";
}
.fa-ravelry:before {
  content: "\f2d9";
}
.fa-eercast:before {
  content: "\f2da";
}
.fa-microchip:before {
  content: "\f2db";
}
.fa-snowflake-o:before {
  content: "\f2dc";
}
.fa-superpowers:before {
  content: "\f2dd";
}
.fa-wpexplorer:before {
  content: "\f2de";
}
.fa-meetup:before {
  content: "\f2e0";
}
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
}
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
}
/*!
*
* IPython base
*
*/
.modal.fade .modal-dialog {
  -webkit-transform: translate(0, 0);
  -ms-transform: translate(0, 0);
  -o-transform: translate(0, 0);
  transform: translate(0, 0);
}
code {
  color: #000;
}
pre {
  font-size: inherit;
  line-height: inherit;
}
label {
  font-weight: normal;
}
/* Make the page background atleast 100% the height of the view port */
/* Make the page itself atleast 70% the height of the view port */
.border-box-sizing {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
.corner-all {
  border-radius: 2px;
}
.no-padding {
  padding: 0px;
}
/* Flexible box model classes */
/* Taken from Alex Russell http://infrequently.org/2009/08/css-3-progress/ */
/* This file is a compatability layer.  It allows the usage of flexible box 
model layouts accross multiple browsers, including older browsers.  The newest,
universal implementation of the flexible box model is used when available (see
`Modern browsers` comments below).  Browsers that are known to implement this 
new spec completely include:

    Firefox 28.0+
    Chrome 29.0+
    Internet Explorer 11+ 
    Opera 17.0+

Browsers not listed, including Safari, are supported via the styling under the
`Old browsers` comments below.
*/
.hbox {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
.hbox > * {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
}
.vbox {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
.vbox > * {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
}
.hbox.reverse,
.vbox.reverse,
.reverse {
  /* Old browsers */
  -webkit-box-direction: reverse;
  -moz-box-direction: reverse;
  box-direction: reverse;
  /* Modern browsers */
  flex-direction: row-reverse;
}
.hbox.box-flex0,
.vbox.box-flex0,
.box-flex0 {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
  width: auto;
}
.hbox.box-flex1,
.vbox.box-flex1,
.box-flex1 {
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
.hbox.box-flex,
.vbox.box-flex,
.box-flex {
  /* Old browsers */
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
.hbox.box-flex2,
.vbox.box-flex2,
.box-flex2 {
  /* Old browsers */
  -webkit-box-flex: 2;
  -moz-box-flex: 2;
  box-flex: 2;
  /* Modern browsers */
  flex: 2;
}
.box-group1 {
  /*  Deprecated */
  -webkit-box-flex-group: 1;
  -moz-box-flex-group: 1;
  box-flex-group: 1;
}
.box-group2 {
  /* Deprecated */
  -webkit-box-flex-group: 2;
  -moz-box-flex-group: 2;
  box-flex-group: 2;
}
.hbox.start,
.vbox.start,
.start {
  /* Old browsers */
  -webkit-box-pack: start;
  -moz-box-pack: start;
  box-pack: start;
  /* Modern browsers */
  justify-content: flex-start;
}
.hbox.end,
.vbox.end,
.end {
  /* Old browsers */
  -webkit-box-pack: end;
  -moz-box-pack: end;
  box-pack: end;
  /* Modern browsers */
  justify-content: flex-end;
}
.hbox.center,
.vbox.center,
.center {
  /* Old browsers */
  -webkit-box-pack: center;
  -moz-box-pack: center;
  box-pack: center;
  /* Modern browsers */
  justify-content: center;
}
.hbox.baseline,
.vbox.baseline,
.baseline {
  /* Old browsers */
  -webkit-box-pack: baseline;
  -moz-box-pack: baseline;
  box-pack: baseline;
  /* Modern browsers */
  justify-content: baseline;
}
.hbox.stretch,
.vbox.stretch,
.stretch {
  /* Old browsers */
  -webkit-box-pack: stretch;
  -moz-box-pack: stretch;
  box-pack: stretch;
  /* Modern browsers */
  justify-content: stretch;
}
.hbox.align-start,
.vbox.align-start,
.align-start {
  /* Old browsers */
  -webkit-box-align: start;
  -moz-box-align: start;
  box-align: start;
  /* Modern browsers */
  align-items: flex-start;
}
.hbox.align-end,
.vbox.align-end,
.align-end {
  /* Old browsers */
  -webkit-box-align: end;
  -moz-box-align: end;
  box-align: end;
  /* Modern browsers */
  align-items: flex-end;
}
.hbox.align-center,
.vbox.align-center,
.align-center {
  /* Old browsers */
  -webkit-box-align: center;
  -moz-box-align: center;
  box-align: center;
  /* Modern browsers */
  align-items: center;
}
.hbox.align-baseline,
.vbox.align-baseline,
.align-baseline {
  /* Old browsers */
  -webkit-box-align: baseline;
  -moz-box-align: baseline;
  box-align: baseline;
  /* Modern browsers */
  align-items: baseline;
}
.hbox.align-stretch,
.vbox.align-stretch,
.align-stretch {
  /* Old browsers */
  -webkit-box-align: stretch;
  -moz-box-align: stretch;
  box-align: stretch;
  /* Modern browsers */
  align-items: stretch;
}
div.error {
  margin: 2em;
  text-align: center;
}
div.error > h1 {
  font-size: 500%;
  line-height: normal;
}
div.error > p {
  font-size: 200%;
  line-height: normal;
}
div.traceback-wrapper {
  text-align: left;
  max-width: 800px;
  margin: auto;
}
div.traceback-wrapper pre.traceback {
  max-height: 600px;
  overflow: auto;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
body {
  background-color: #fff;
  /* This makes sure that the body covers the entire window and needs to
       be in a different element than the display: box in wrapper below */
  position: absolute;
  left: 0px;
  right: 0px;
  top: 0px;
  bottom: 0px;
  overflow: visible;
}
body > #header {
  /* Initially hidden to prevent FLOUC */
  display: none;
  background-color: #fff;
  /* Display over codemirror */
  position: relative;
  z-index: 100;
}
body > #header #header-container {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  padding: 5px;
  padding-bottom: 5px;
  padding-top: 5px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
body > #header .header-bar {
  width: 100%;
  height: 1px;
  background: #e7e7e7;
  margin-bottom: -1px;
}
@media print {
  body > #header {
    display: none !important;
  }
}
#header-spacer {
  width: 100%;
  visibility: hidden;
}
@media print {
  #header-spacer {
    display: none;
  }
}
#ipython_notebook {
  padding-left: 0px;
  padding-top: 1px;
  padding-bottom: 1px;
}
[dir="rtl"] #ipython_notebook {
  margin-right: 10px;
  margin-left: 0;
}
[dir="rtl"] #ipython_notebook.pull-left {
  float: right !important;
  float: right;
}
.flex-spacer {
  flex: 1;
}
#noscript {
  width: auto;
  padding-top: 16px;
  padding-bottom: 16px;
  text-align: center;
  font-size: 22px;
  color: red;
  font-weight: bold;
}
#ipython_notebook img {
  height: 28px;
}
#site {
  width: 100%;
  display: none;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  overflow: auto;
}
@media print {
  #site {
    height: auto !important;
  }
}
/* Smaller buttons */
.ui-button .ui-button-text {
  padding: 0.2em 0.8em;
  font-size: 77%;
}
input.ui-button {
  padding: 0.3em 0.9em;
}
span#kernel_logo_widget {
  margin: 0 10px;
}
span#login_widget {
  float: right;
}
[dir="rtl"] span#login_widget {
  float: left;
}
span#login_widget > .button,
#logout {
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
span#login_widget > .button:focus,
#logout:focus,
span#login_widget > .button.focus,
#logout.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
span#login_widget > .button:hover,
#logout:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
span#login_widget > .button:active,
#logout:active,
span#login_widget > .button.active,
#logout.active,
.open > .dropdown-togglespan#login_widget > .button,
.open > .dropdown-toggle#logout {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
span#login_widget > .button:active:hover,
#logout:active:hover,
span#login_widget > .button.active:hover,
#logout.active:hover,
.open > .dropdown-togglespan#login_widget > .button:hover,
.open > .dropdown-toggle#logout:hover,
span#login_widget > .button:active:focus,
#logout:active:focus,
span#login_widget > .button.active:focus,
#logout.active:focus,
.open > .dropdown-togglespan#login_widget > .button:focus,
.open > .dropdown-toggle#logout:focus,
span#login_widget > .button:active.focus,
#logout:active.focus,
span#login_widget > .button.active.focus,
#logout.active.focus,
.open > .dropdown-togglespan#login_widget > .button.focus,
.open > .dropdown-toggle#logout.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
span#login_widget > .button:active,
#logout:active,
span#login_widget > .button.active,
#logout.active,
.open > .dropdown-togglespan#login_widget > .button,
.open > .dropdown-toggle#logout {
  background-image: none;
}
span#login_widget > .button.disabled:hover,
#logout.disabled:hover,
span#login_widget > .button[disabled]:hover,
#logout[disabled]:hover,
fieldset[disabled] span#login_widget > .button:hover,
fieldset[disabled] #logout:hover,
span#login_widget > .button.disabled:focus,
#logout.disabled:focus,
span#login_widget > .button[disabled]:focus,
#logout[disabled]:focus,
fieldset[disabled] span#login_widget > .button:focus,
fieldset[disabled] #logout:focus,
span#login_widget > .button.disabled.focus,
#logout.disabled.focus,
span#login_widget > .button[disabled].focus,
#logout[disabled].focus,
fieldset[disabled] span#login_widget > .button.focus,
fieldset[disabled] #logout.focus {
  background-color: #fff;
  border-color: #ccc;
}
span#login_widget > .button .badge,
#logout .badge {
  color: #fff;
  background-color: #333;
}
.nav-header {
  text-transform: none;
}
#header > span {
  margin-top: 10px;
}
.modal_stretch .modal-dialog {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  min-height: 80vh;
}
.modal_stretch .modal-dialog .modal-body {
  max-height: calc(100vh - 200px);
  overflow: auto;
  flex: 1;
}
.modal-header {
  cursor: move;
}
@media (min-width: 768px) {
  .modal .modal-dialog {
    width: 700px;
  }
}
@media (min-width: 768px) {
  select.form-control {
    margin-left: 12px;
    margin-right: 12px;
  }
}
/*!
*
* IPython auth
*
*/
.center-nav {
  display: inline-block;
  margin-bottom: -4px;
}
[dir="rtl"] .center-nav form.pull-left {
  float: right !important;
  float: right;
}
[dir="rtl"] .center-nav .navbar-text {
  float: right;
}
[dir="rtl"] .navbar-inner {
  text-align: right;
}
[dir="rtl"] div.text-left {
  text-align: right;
}
/*!
*
* IPython tree view
*
*/
/* We need an invisible input field on top of the sentense*/
/* "Drag file onto the list ..." */
.alternate_upload {
  background-color: none;
  display: inline;
}
.alternate_upload.form {
  padding: 0;
  margin: 0;
}
.alternate_upload input.fileinput {
  position: absolute;
  display: block;
  width: 100%;
  height: 100%;
  overflow: hidden;
  cursor: pointer;
  opacity: 0;
  z-index: 2;
}
.alternate_upload .btn-xs > input.fileinput {
  margin: -1px -5px;
}
.alternate_upload .btn-upload {
  position: relative;
  height: 22px;
}
::-webkit-file-upload-button {
  cursor: pointer;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
ul#tabs {
  margin-bottom: 4px;
}
ul#tabs a {
  padding-top: 6px;
  padding-bottom: 4px;
}
[dir="rtl"] ul#tabs.nav-tabs > li {
  float: right;
}
[dir="rtl"] ul#tabs.nav.nav-tabs {
  padding-right: 0;
}
ul.breadcrumb a:focus,
ul.breadcrumb a:hover {
  text-decoration: none;
}
ul.breadcrumb i.icon-home {
  font-size: 16px;
  margin-right: 4px;
}
ul.breadcrumb span {
  color: #5e5e5e;
}
.list_toolbar {
  padding: 4px 0 4px 0;
  vertical-align: middle;
}
.list_toolbar .tree-buttons {
  padding-top: 1px;
}
[dir="rtl"] .list_toolbar .tree-buttons .pull-right {
  float: left !important;
  float: left;
}
[dir="rtl"] .list_toolbar .col-sm-4,
[dir="rtl"] .list_toolbar .col-sm-8 {
  float: right;
}
.dynamic-buttons {
  padding-top: 3px;
  display: inline-block;
}
.list_toolbar [class*="span"] {
  min-height: 24px;
}
.list_header {
  font-weight: bold;
  background-color: #EEE;
}
.list_placeholder {
  font-weight: bold;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
}
.list_container {
  margin-top: 4px;
  margin-bottom: 20px;
  border: 1px solid #ddd;
  border-radius: 2px;
}
.list_container > div {
  border-bottom: 1px solid #ddd;
}
.list_container > div:hover .list-item {
  background-color: red;
}
.list_container > div:last-child {
  border: none;
}
.list_item:hover .list_item {
  background-color: #ddd;
}
.list_item a {
  text-decoration: none;
}
.list_item:hover {
  background-color: #fafafa;
}
.list_header > div,
.list_item > div {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
  line-height: 22px;
}
.list_header > div input,
.list_item > div input {
  margin-right: 7px;
  margin-left: 14px;
  vertical-align: text-bottom;
  line-height: 22px;
  position: relative;
  top: -1px;
}
.list_header > div .item_link,
.list_item > div .item_link {
  margin-left: -1px;
  vertical-align: baseline;
  line-height: 22px;
}
[dir="rtl"] .list_item > div input {
  margin-right: 0;
}
.new-file input[type=checkbox] {
  visibility: hidden;
}
.item_name {
  line-height: 22px;
  height: 24px;
}
.item_icon {
  font-size: 14px;
  color: #5e5e5e;
  margin-right: 7px;
  margin-left: 7px;
  line-height: 22px;
  vertical-align: baseline;
}
.item_modified {
  margin-right: 7px;
  margin-left: 7px;
}
[dir="rtl"] .item_modified.pull-right {
  float: left !important;
  float: left;
}
.item_buttons {
  line-height: 1em;
  margin-left: -5px;
}
.item_buttons .btn,
.item_buttons .btn-group,
.item_buttons .input-group {
  float: left;
}
.item_buttons > .btn,
.item_buttons > .btn-group,
.item_buttons > .input-group {
  margin-left: 5px;
}
.item_buttons .btn {
  min-width: 13ex;
}
.item_buttons .running-indicator {
  padding-top: 4px;
  color: #5cb85c;
}
.item_buttons .kernel-name {
  padding-top: 4px;
  color: #5bc0de;
  margin-right: 7px;
  float: left;
}
[dir="rtl"] .item_buttons.pull-right {
  float: left !important;
  float: left;
}
[dir="rtl"] .item_buttons .kernel-name {
  margin-left: 7px;
  float: right;
}
.toolbar_info {
  height: 24px;
  line-height: 24px;
}
.list_item input:not([type=checkbox]) {
  padding-top: 3px;
  padding-bottom: 3px;
  height: 22px;
  line-height: 14px;
  margin: 0px;
}
.highlight_text {
  color: blue;
}
#project_name {
  display: inline-block;
  padding-left: 7px;
  margin-left: -2px;
}
#project_name > .breadcrumb {
  padding: 0px;
  margin-bottom: 0px;
  background-color: transparent;
  font-weight: bold;
}
.sort_button {
  display: inline-block;
  padding-left: 7px;
}
[dir="rtl"] .sort_button.pull-right {
  float: left !important;
  float: left;
}
#tree-selector {
  padding-right: 0px;
}
#button-select-all {
  min-width: 50px;
}
[dir="rtl"] #button-select-all.btn {
  float: right ;
}
#select-all {
  margin-left: 7px;
  margin-right: 2px;
  margin-top: 2px;
  height: 16px;
}
[dir="rtl"] #select-all.pull-left {
  float: right !important;
  float: right;
}
.menu_icon {
  margin-right: 2px;
}
.tab-content .row {
  margin-left: 0px;
  margin-right: 0px;
}
.folder_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f114";
}
.folder_icon:before.fa-pull-left {
  margin-right: .3em;
}
.folder_icon:before.fa-pull-right {
  margin-left: .3em;
}
.folder_icon:before.pull-left {
  margin-right: .3em;
}
.folder_icon:before.pull-right {
  margin-left: .3em;
}
.notebook_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f02d";
  position: relative;
  top: -1px;
}
.notebook_icon:before.fa-pull-left {
  margin-right: .3em;
}
.notebook_icon:before.fa-pull-right {
  margin-left: .3em;
}
.notebook_icon:before.pull-left {
  margin-right: .3em;
}
.notebook_icon:before.pull-right {
  margin-left: .3em;
}
.running_notebook_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f02d";
  position: relative;
  top: -1px;
  color: #5cb85c;
}
.running_notebook_icon:before.fa-pull-left {
  margin-right: .3em;
}
.running_notebook_icon:before.fa-pull-right {
  margin-left: .3em;
}
.running_notebook_icon:before.pull-left {
  margin-right: .3em;
}
.running_notebook_icon:before.pull-right {
  margin-left: .3em;
}
.file_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f016";
  position: relative;
  top: -2px;
}
.file_icon:before.fa-pull-left {
  margin-right: .3em;
}
.file_icon:before.fa-pull-right {
  margin-left: .3em;
}
.file_icon:before.pull-left {
  margin-right: .3em;
}
.file_icon:before.pull-right {
  margin-left: .3em;
}
#notebook_toolbar .pull-right {
  padding-top: 0px;
  margin-right: -1px;
}
ul#new-menu {
  left: auto;
  right: 0;
}
#new-menu .dropdown-header {
  font-size: 10px;
  border-bottom: 1px solid #e5e5e5;
  padding: 0 0 3px;
  margin: -3px 20px 0;
}
.kernel-menu-icon {
  padding-right: 12px;
  width: 24px;
  content: "\f096";
}
.kernel-menu-icon:before {
  content: "\f096";
}
.kernel-menu-icon-current:before {
  content: "\f00c";
}
#tab_content {
  padding-top: 20px;
}
#running .panel-group .panel {
  margin-top: 3px;
  margin-bottom: 1em;
}
#running .panel-group .panel .panel-heading {
  background-color: #EEE;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
  line-height: 22px;
}
#running .panel-group .panel .panel-heading a:focus,
#running .panel-group .panel .panel-heading a:hover {
  text-decoration: none;
}
#running .panel-group .panel .panel-body {
  padding: 0px;
}
#running .panel-group .panel .panel-body .list_container {
  margin-top: 0px;
  margin-bottom: 0px;
  border: 0px;
  border-radius: 0px;
}
#running .panel-group .panel .panel-body .list_container .list_item {
  border-bottom: 1px solid #ddd;
}
#running .panel-group .panel .panel-body .list_container .list_item:last-child {
  border-bottom: 0px;
}
.delete-button {
  display: none;
}
.duplicate-button {
  display: none;
}
.rename-button {
  display: none;
}
.move-button {
  display: none;
}
.download-button {
  display: none;
}
.shutdown-button {
  display: none;
}
.dynamic-instructions {
  display: inline-block;
  padding-top: 4px;
}
/*!
*
* IPython text editor webapp
*
*/
.selected-keymap i.fa {
  padding: 0px 5px;
}
.selected-keymap i.fa:before {
  content: "\f00c";
}
#mode-menu {
  overflow: auto;
  max-height: 20em;
}
.edit_app #header {
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
.edit_app #menubar .navbar {
  /* Use a negative 1 bottom margin, so the border overlaps the border of the
    header */
  margin-bottom: -1px;
}
.dirty-indicator {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator.fa-pull-left {
  margin-right: .3em;
}
.dirty-indicator.fa-pull-right {
  margin-left: .3em;
}
.dirty-indicator.pull-left {
  margin-right: .3em;
}
.dirty-indicator.pull-right {
  margin-left: .3em;
}
.dirty-indicator-dirty {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator-dirty.fa-pull-left {
  margin-right: .3em;
}
.dirty-indicator-dirty.fa-pull-right {
  margin-left: .3em;
}
.dirty-indicator-dirty.pull-left {
  margin-right: .3em;
}
.dirty-indicator-dirty.pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator-clean.fa-pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean.fa-pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean.pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean.pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f00c";
}
.dirty-indicator-clean:before.fa-pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean:before.fa-pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean:before.pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean:before.pull-right {
  margin-left: .3em;
}
#filename {
  font-size: 16pt;
  display: table;
  padding: 0px 5px;
}
#current-mode {
  padding-left: 5px;
  padding-right: 5px;
}
#texteditor-backdrop {
  padding-top: 20px;
  padding-bottom: 20px;
}
@media not print {
  #texteditor-backdrop {
    background-color: #EEE;
  }
}
@media print {
  #texteditor-backdrop #texteditor-container .CodeMirror-gutter,
  #texteditor-backdrop #texteditor-container .CodeMirror-gutters {
    background-color: #fff;
  }
}
@media not print {
  #texteditor-backdrop #texteditor-container .CodeMirror-gutter,
  #texteditor-backdrop #texteditor-container .CodeMirror-gutters {
    background-color: #fff;
  }
}
@media not print {
  #texteditor-backdrop #texteditor-container {
    padding: 0px;
    background-color: #fff;
    -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
    box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  }
}
.CodeMirror-dialog {
  background-color: #fff;
}
/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI escape sequences */
/* The color values are a mix of
   http://www.xcolors.net/dl/baskerville-ivorylight and
   http://www.xcolors.net/dl/euphrasia */
.ansi-black-fg {
  color: #3E424D;
}
.ansi-black-bg {
  background-color: #3E424D;
}
.ansi-black-intense-fg {
  color: #282C36;
}
.ansi-black-intense-bg {
  background-color: #282C36;
}
.ansi-red-fg {
  color: #E75C58;
}
.ansi-red-bg {
  background-color: #E75C58;
}
.ansi-red-intense-fg {
  color: #B22B31;
}
.ansi-red-intense-bg {
  background-color: #B22B31;
}
.ansi-green-fg {
  color: #00A250;
}
.ansi-green-bg {
  background-color: #00A250;
}
.ansi-green-intense-fg {
  color: #007427;
}
.ansi-green-intense-bg {
  background-color: #007427;
}
.ansi-yellow-fg {
  color: #DDB62B;
}
.ansi-yellow-bg {
  background-color: #DDB62B;
}
.ansi-yellow-intense-fg {
  color: #B27D12;
}
.ansi-yellow-intense-bg {
  background-color: #B27D12;
}
.ansi-blue-fg {
  color: #208FFB;
}
.ansi-blue-bg {
  background-color: #208FFB;
}
.ansi-blue-intense-fg {
  color: #0065CA;
}
.ansi-blue-intense-bg {
  background-color: #0065CA;
}
.ansi-magenta-fg {
  color: #D160C4;
}
.ansi-magenta-bg {
  background-color: #D160C4;
}
.ansi-magenta-intense-fg {
  color: #A03196;
}
.ansi-magenta-intense-bg {
  background-color: #A03196;
}
.ansi-cyan-fg {
  color: #60C6C8;
}
.ansi-cyan-bg {
  background-color: #60C6C8;
}
.ansi-cyan-intense-fg {
  color: #258F8F;
}
.ansi-cyan-intense-bg {
  background-color: #258F8F;
}
.ansi-white-fg {
  color: #C5C1B4;
}
.ansi-white-bg {
  background-color: #C5C1B4;
}
.ansi-white-intense-fg {
  color: #A1A6B2;
}
.ansi-white-intense-bg {
  background-color: #A1A6B2;
}
.ansi-default-inverse-fg {
  color: #FFFFFF;
}
.ansi-default-inverse-bg {
  background-color: #000000;
}
.ansi-bold {
  font-weight: bold;
}
.ansi-underline {
  text-decoration: underline;
}
/* The following styles are deprecated an will be removed in a future version */
.ansibold {
  font-weight: bold;
}
.ansi-inverse {
  outline: 0.5px dotted;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  position: relative;
  overflow: visible;
}
div.cell:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: transparent;
}
div.cell.jupyter-soft-selected {
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected,
div.cell.selected.jupyter-soft-selected {
  border-color: #ababab;
}
div.cell.selected:before,
div.cell.selected.jupyter-soft-selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #42A5F5;
}
@media print {
  div.cell.selected,
  div.cell.selected.jupyter-soft-selected {
    border-color: transparent;
  }
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
}
.edit_mode div.cell.selected:before {
  position: absolute;
  display: block;
  top: -1px;
  left: -1px;
  width: 5px;
  height: calc(100% +  2px);
  content: '';
  background: #66BB6A;
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  /* Note that this should set vertical padding only, since CodeMirror assumes
       that horizontal padding will be set on CodeMirror pre */
  padding: 0.4em 0;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only,
    use .CodeMirror-lines for vertical */
  padding: 0 0.4em;
  border: 0;
  border-radius: 0;
}
.CodeMirror-cursor {
  border-left: 1.4px solid black;
}
@media screen and (min-width: 2138px) and (max-width: 4319px) {
  .CodeMirror-cursor {
    border-left: 2px solid black;
  }
}
@media screen and (min-width: 4320px) {
  .CodeMirror-cursor {
    border-left: 4px solid black;
  }
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area .rendered_html table {
  margin-left: 0;
  margin-right: 0;
}
div.output_area .rendered_html img {
  margin-left: 0;
  margin-right: 0;
}
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
div.output_area .mglyph > img {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 1px 0 1px 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}
.rendered_html em {
  font-style: italic;
}
.rendered_html strong {
  font-weight: bold;
}
.rendered_html u {
  text-decoration: underline;
}
.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}
.rendered_html h1 {
  font-size: 185.7%;
  margin: 1.08em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h2 {
  font-size: 157.1%;
  margin: 1.27em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h3 {
  font-size: 128.6%;
  margin: 1.55em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h4 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h5 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
  font-style: italic;
}
.rendered_html h6 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
  font-style: italic;
}
.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul:not(.list-inline),
.rendered_html ol:not(.list-inline) {
  padding-left: 2em;
}
.rendered_html ul {
  list-style: disc;
}
.rendered_html ul ul {
  list-style: square;
  margin-top: 0;
}
.rendered_html ul ul ul {
  list-style: circle;
}
.rendered_html ol {
  list-style: decimal;
}
.rendered_html ol ol {
  list-style: upper-alpha;
  margin-top: 0;
}
.rendered_html ol ol ol {
  list-style: lower-alpha;
}
.rendered_html ol ol ol ol {
  list-style: lower-roman;
}
.rendered_html ol ol ol ol ol {
  list-style: decimal;
}
.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}
.rendered_html hr {
  color: black;
  background-color: black;
}
.rendered_html pre {
  margin: 1em 2em;
  padding: 0px;
  background-color: #fff;
}
.rendered_html code {
  background-color: #eff0f1;
}
.rendered_html p code {
  padding: 1px 5px;
}
.rendered_html pre code {
  background-color: #fff;
}
.rendered_html pre,
.rendered_html code {
  border: 0;
  color: #000;
  font-size: 100%;
}
.rendered_html blockquote {
  margin: 1em 2em;
}
.rendered_html table {
  margin-left: auto;
  margin-right: auto;
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.rendered_html tr,
.rendered_html th,
.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.rendered_html th {
  font-weight: bold;
}
.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
.rendered_html * + table {
  margin-top: 1em;
}
.rendered_html p {
  text-align: left;
}
.rendered_html * + p {
  margin-top: 1em;
}
.rendered_html img {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,
.rendered_html svg {
  max-width: 100%;
  height: auto;
}
.rendered_html img.unconfined,
.rendered_html svg.unconfined {
  max-width: none;
}
.rendered_html .alert {
  margin-bottom: initial;
}
.rendered_html * + .alert {
  margin-top: 1em;
}
[dir="rtl"] .rendered_html p {
  text-align: right;
}
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered .rendered_html {
  overflow-x: auto;
  overflow-y: hidden;
}
.text_cell.rendered .rendered_html tr,
.text_cell.rendered .rendered_html th,
.text_cell.rendered .rendered_html td {
  max-width: none;
}
.text_cell.unrendered .text_cell_render {
  display: none;
}
.text_cell .dropzone .input_area {
  border: 2px dashed #bababa;
  margin: -1px;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
/*!
*
* IPython notebook webapp
*
*/
@media (max-width: 767px) {
  .notebook_app {
    padding-left: 0px;
    padding-right: 0px;
  }
}
#ipython-main-app {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  height: 100%;
}
div#notebook_panel {
  margin: 0px;
  padding: 0px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  height: 100%;
}
div#notebook {
  font-size: 14px;
  line-height: 20px;
  overflow-y: hidden;
  overflow-x: auto;
  width: 100%;
  /* This spaces the page away from the edge of the notebook area */
  padding-top: 20px;
  margin: 0px;
  outline: none;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  min-height: 100%;
}
@media not print {
  #notebook-container {
    padding: 15px;
    background-color: #fff;
    min-height: 0;
    -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
    box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  }
}
@media print {
  #notebook-container {
    width: 100%;
  }
}
div.ui-widget-content {
  border: 1px solid #ababab;
  outline: none;
}
pre.dialog {
  background-color: #f7f7f7;
  border: 1px solid #ddd;
  border-radius: 2px;
  padding: 0.4em;
  padding-left: 2em;
}
p.dialog {
  padding: 0.2em;
}
/* Word-wrap output correctly.  This is the CSS3 spelling, though Firefox seems
   to not honor it correctly.  Webkit browsers (Chrome, rekonq, Safari) do.
 */
pre,
code,
kbd,
samp {
  white-space: pre-wrap;
}
#fonttest {
  font-family: monospace;
}
p {
  margin-bottom: 0;
}
.end_space {
  min-height: 100px;
  transition: height .2s ease;
}
.notebook_app > #header {
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
@media not print {
  .notebook_app {
    background-color: #EEE;
  }
}
kbd {
  border-style: solid;
  border-width: 1px;
  box-shadow: none;
  margin: 2px;
  padding-left: 2px;
  padding-right: 2px;
  padding-top: 1px;
  padding-bottom: 1px;
}
.jupyter-keybindings {
  padding: 1px;
  line-height: 24px;
  border-bottom: 1px solid gray;
}
.jupyter-keybindings input {
  margin: 0;
  padding: 0;
  border: none;
}
.jupyter-keybindings i {
  padding: 6px;
}
.well code {
  background-color: #ffffff;
  border-color: #ababab;
  border-width: 1px;
  border-style: solid;
  padding: 2px;
  padding-top: 1px;
  padding-bottom: 1px;
}
/* CSS for the cell toolbar */
.celltoolbar {
  border: thin solid #CFCFCF;
  border-bottom: none;
  background: #EEE;
  border-radius: 2px 2px 0px 0px;
  width: 100%;
  height: 29px;
  padding-right: 4px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-pack: end;
  -moz-box-pack: end;
  box-pack: end;
  /* Modern browsers */
  justify-content: flex-end;
  display: -webkit-flex;
}
@media print {
  .celltoolbar {
    display: none;
  }
}
.ctb_hideshow {
  display: none;
  vertical-align: bottom;
}
/* ctb_show is added to the ctb_hideshow div to show the cell toolbar.
   Cell toolbars are only shown when the ctb_global_show class is also set.
*/
.ctb_global_show .ctb_show.ctb_hideshow {
  display: block;
}
.ctb_global_show .ctb_show + .input_area,
.ctb_global_show .ctb_show + div.text_cell_input,
.ctb_global_show .ctb_show ~ div.text_cell_render {
  border-top-right-radius: 0px;
  border-top-left-radius: 0px;
}
.ctb_global_show .ctb_show ~ div.text_cell_render {
  border: 1px solid #cfcfcf;
}
.celltoolbar {
  font-size: 87%;
  padding-top: 3px;
}
.celltoolbar select {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
  width: inherit;
  font-size: inherit;
  height: 22px;
  padding: 0px;
  display: inline-block;
}
.celltoolbar select:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.celltoolbar select::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.celltoolbar select:-ms-input-placeholder {
  color: #999;
}
.celltoolbar select::-webkit-input-placeholder {
  color: #999;
}
.celltoolbar select::-ms-expand {
  border: 0;
  background-color: transparent;
}
.celltoolbar select[disabled],
.celltoolbar select[readonly],
fieldset[disabled] .celltoolbar select {
  background-color: #eeeeee;
  opacity: 1;
}
.celltoolbar select[disabled],
fieldset[disabled] .celltoolbar select {
  cursor: not-allowed;
}
textarea.celltoolbar select {
  height: auto;
}
select.celltoolbar select {
  height: 30px;
  line-height: 30px;
}
textarea.celltoolbar select,
select[multiple].celltoolbar select {
  height: auto;
}
.celltoolbar label {
  margin-left: 5px;
  margin-right: 5px;
}
.tags_button_container {
  width: 100%;
  display: flex;
}
.tag-container {
  display: flex;
  flex-direction: row;
  flex-grow: 1;
  overflow: hidden;
  position: relative;
}
.tag-container > * {
  margin: 0 4px;
}
.remove-tag-btn {
  margin-left: 4px;
}
.tags-input {
  display: flex;
}
.cell-tag:last-child:after {
  content: "";
  position: absolute;
  right: 0;
  width: 40px;
  height: 100%;
  /* Fade to background color of cell toolbar */
  background: linear-gradient(to right, rgba(0, 0, 0, 0), #EEE);
}
.tags-input > * {
  margin-left: 4px;
}
.cell-tag,
.tags-input input,
.tags-input button {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
  box-shadow: none;
  width: inherit;
  font-size: inherit;
  height: 22px;
  line-height: 22px;
  padding: 0px 4px;
  display: inline-block;
}
.cell-tag:focus,
.tags-input input:focus,
.tags-input button:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.cell-tag::-moz-placeholder,
.tags-input input::-moz-placeholder,
.tags-input button::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.cell-tag:-ms-input-placeholder,
.tags-input input:-ms-input-placeholder,
.tags-input button:-ms-input-placeholder {
  color: #999;
}
.cell-tag::-webkit-input-placeholder,
.tags-input input::-webkit-input-placeholder,
.tags-input button::-webkit-input-placeholder {
  color: #999;
}
.cell-tag::-ms-expand,
.tags-input input::-ms-expand,
.tags-input button::-ms-expand {
  border: 0;
  background-color: transparent;
}
.cell-tag[disabled],
.tags-input input[disabled],
.tags-input button[disabled],
.cell-tag[readonly],
.tags-input input[readonly],
.tags-input button[readonly],
fieldset[disabled] .cell-tag,
fieldset[disabled] .tags-input input,
fieldset[disabled] .tags-input button {
  background-color: #eeeeee;
  opacity: 1;
}
.cell-tag[disabled],
.tags-input input[disabled],
.tags-input button[disabled],
fieldset[disabled] .cell-tag,
fieldset[disabled] .tags-input input,
fieldset[disabled] .tags-input button {
  cursor: not-allowed;
}
textarea.cell-tag,
textarea.tags-input input,
textarea.tags-input button {
  height: auto;
}
select.cell-tag,
select.tags-input input,
select.tags-input button {
  height: 30px;
  line-height: 30px;
}
textarea.cell-tag,
textarea.tags-input input,
textarea.tags-input button,
select[multiple].cell-tag,
select[multiple].tags-input input,
select[multiple].tags-input button {
  height: auto;
}
.cell-tag,
.tags-input button {
  padding: 0px 4px;
}
.cell-tag {
  background-color: #fff;
  white-space: nowrap;
}
.tags-input input[type=text]:focus {
  outline: none;
  box-shadow: none;
  border-color: #ccc;
}
.completions {
  position: absolute;
  z-index: 110;
  overflow: hidden;
  border: 1px solid #ababab;
  border-radius: 2px;
  -webkit-box-shadow: 0px 6px 10px -1px #adadad;
  box-shadow: 0px 6px 10px -1px #adadad;
  line-height: 1;
}
.completions select {
  background: white;
  outline: none;
  border: none;
  padding: 0px;
  margin: 0px;
  overflow: auto;
  font-family: monospace;
  font-size: 110%;
  color: #000;
  width: auto;
}
.completions select option.context {
  color: #286090;
}
#kernel_logo_widget .current_kernel_logo {
  display: none;
  margin-top: -1px;
  margin-bottom: -1px;
  width: 32px;
  height: 32px;
}
[dir="rtl"] #kernel_logo_widget {
  float: left !important;
  float: left;
}
.modal .modal-body .move-path {
  display: flex;
  flex-direction: row;
  justify-content: space;
  align-items: center;
}
.modal .modal-body .move-path .server-root {
  padding-right: 20px;
}
.modal .modal-body .move-path .path-input {
  flex: 1;
}
#menubar {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  margin-top: 1px;
}
#menubar .navbar {
  border-top: 1px;
  border-radius: 0px 0px 2px 2px;
  margin-bottom: 0px;
}
#menubar .navbar-toggle {
  float: left;
  padding-top: 7px;
  padding-bottom: 7px;
  border: none;
}
#menubar .navbar-collapse {
  clear: left;
}
[dir="rtl"] #menubar .navbar-toggle {
  float: right;
}
[dir="rtl"] #menubar .navbar-collapse {
  clear: right;
}
[dir="rtl"] #menubar .navbar-nav {
  float: right;
}
[dir="rtl"] #menubar .nav {
  padding-right: 0px;
}
[dir="rtl"] #menubar .navbar-nav > li {
  float: right;
}
[dir="rtl"] #menubar .navbar-right {
  float: left !important;
}
[dir="rtl"] ul.dropdown-menu {
  text-align: right;
  left: auto;
}
[dir="rtl"] ul#new-menu.dropdown-menu {
  right: auto;
  left: 0;
}
.nav-wrapper {
  border-bottom: 1px solid #e7e7e7;
}
i.menu-icon {
  padding-top: 4px;
}
[dir="rtl"] i.menu-icon.pull-right {
  float: left !important;
  float: left;
}
ul#help_menu li a {
  overflow: hidden;
  padding-right: 2.2em;
}
ul#help_menu li a i {
  margin-right: -1.2em;
}
[dir="rtl"] ul#help_menu li a {
  padding-left: 2.2em;
}
[dir="rtl"] ul#help_menu li a i {
  margin-right: 0;
  margin-left: -1.2em;
}
[dir="rtl"] ul#help_menu li a i.pull-right {
  float: left !important;
  float: left;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu > .dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
}
[dir="rtl"] .dropdown-submenu > .dropdown-menu {
  right: 100%;
  margin-right: -1px;
}
.dropdown-submenu:hover > .dropdown-menu {
  display: block;
}
.dropdown-submenu > a:after {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: block;
  content: "\f0da";
  float: right;
  color: #333333;
  margin-top: 2px;
  margin-right: -10px;
}
.dropdown-submenu > a:after.fa-pull-left {
  margin-right: .3em;
}
.dropdown-submenu > a:after.fa-pull-right {
  margin-left: .3em;
}
.dropdown-submenu > a:after.pull-left {
  margin-right: .3em;
}
.dropdown-submenu > a:after.pull-right {
  margin-left: .3em;
}
[dir="rtl"] .dropdown-submenu > a:after {
  float: left;
  content: "\f0d9";
  margin-right: 0;
  margin-left: -10px;
}
.dropdown-submenu:hover > a:after {
  color: #262626;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left > .dropdown-menu {
  left: -100%;
  margin-left: 10px;
}
#notification_area {
  float: right !important;
  float: right;
  z-index: 10;
}
[dir="rtl"] #notification_area {
  float: left !important;
  float: left;
}
.indicator_area {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
}
[dir="rtl"] .indicator_area {
  float: left !important;
  float: left;
}
#kernel_indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
  border-left: 1px solid;
}
#kernel_indicator .kernel_indicator_name {
  padding-left: 5px;
  padding-right: 5px;
}
[dir="rtl"] #kernel_indicator {
  float: left !important;
  float: left;
  border-left: 0;
  border-right: 1px solid;
}
#modal_indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
}
[dir="rtl"] #modal_indicator {
  float: left !important;
  float: left;
}
#readonly-indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
  margin-top: 2px;
  margin-bottom: 0px;
  margin-left: 0px;
  margin-right: 0px;
  display: none;
}
.modal_indicator:before {
  width: 1.28571429em;
  text-align: center;
}
.edit_mode .modal_indicator:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f040";
}
.edit_mode .modal_indicator:before.fa-pull-left {
  margin-right: .3em;
}
.edit_mode .modal_indicator:before.fa-pull-right {
  margin-left: .3em;
}
.edit_mode .modal_indicator:before.pull-left {
  margin-right: .3em;
}
.edit_mode .modal_indicator:before.pull-right {
  margin-left: .3em;
}
.command_mode .modal_indicator:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: ' ';
}
.command_mode .modal_indicator:before.fa-pull-left {
  margin-right: .3em;
}
.command_mode .modal_indicator:before.fa-pull-right {
  margin-left: .3em;
}
.command_mode .modal_indicator:before.pull-left {
  margin-right: .3em;
}
.command_mode .modal_indicator:before.pull-right {
  margin-left: .3em;
}
.kernel_idle_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f10c";
}
.kernel_idle_icon:before.fa-pull-left {
  margin-right: .3em;
}
.kernel_idle_icon:before.fa-pull-right {
  margin-left: .3em;
}
.kernel_idle_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_idle_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_busy_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f111";
}
.kernel_busy_icon:before.fa-pull-left {
  margin-right: .3em;
}
.kernel_busy_icon:before.fa-pull-right {
  margin-left: .3em;
}
.kernel_busy_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_busy_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_dead_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f1e2";
}
.kernel_dead_icon:before.fa-pull-left {
  margin-right: .3em;
}
.kernel_dead_icon:before.fa-pull-right {
  margin-left: .3em;
}
.kernel_dead_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_dead_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_disconnected_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f127";
}
.kernel_disconnected_icon:before.fa-pull-left {
  margin-right: .3em;
}
.kernel_disconnected_icon:before.fa-pull-right {
  margin-left: .3em;
}
.kernel_disconnected_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_disconnected_icon:before.pull-right {
  margin-left: .3em;
}
.notification_widget {
  color: #777;
  z-index: 10;
  background: rgba(240, 240, 240, 0.5);
  margin-right: 4px;
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
.notification_widget:focus,
.notification_widget.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
.notification_widget:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.notification_widget:active,
.notification_widget.active,
.open > .dropdown-toggle.notification_widget {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.notification_widget:active:hover,
.notification_widget.active:hover,
.open > .dropdown-toggle.notification_widget:hover,
.notification_widget:active:focus,
.notification_widget.active:focus,
.open > .dropdown-toggle.notification_widget:focus,
.notification_widget:active.focus,
.notification_widget.active.focus,
.open > .dropdown-toggle.notification_widget.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
.notification_widget:active,
.notification_widget.active,
.open > .dropdown-toggle.notification_widget {
  background-image: none;
}
.notification_widget.disabled:hover,
.notification_widget[disabled]:hover,
fieldset[disabled] .notification_widget:hover,
.notification_widget.disabled:focus,
.notification_widget[disabled]:focus,
fieldset[disabled] .notification_widget:focus,
.notification_widget.disabled.focus,
.notification_widget[disabled].focus,
fieldset[disabled] .notification_widget.focus {
  background-color: #fff;
  border-color: #ccc;
}
.notification_widget .badge {
  color: #fff;
  background-color: #333;
}
.notification_widget.warning {
  color: #fff;
  background-color: #f0ad4e;
  border-color: #eea236;
}
.notification_widget.warning:focus,
.notification_widget.warning.focus {
  color: #fff;
  background-color: #ec971f;
  border-color: #985f0d;
}
.notification_widget.warning:hover {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.notification_widget.warning:active,
.notification_widget.warning.active,
.open > .dropdown-toggle.notification_widget.warning {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.notification_widget.warning:active:hover,
.notification_widget.warning.active:hover,
.open > .dropdown-toggle.notification_widget.warning:hover,
.notification_widget.warning:active:focus,
.notification_widget.warning.active:focus,
.open > .dropdown-toggle.notification_widget.warning:focus,
.notification_widget.warning:active.focus,
.notification_widget.warning.active.focus,
.open > .dropdown-toggle.notification_widget.warning.focus {
  color: #fff;
  background-color: #d58512;
  border-color: #985f0d;
}
.notification_widget.warning:active,
.notification_widget.warning.active,
.open > .dropdown-toggle.notification_widget.warning {
  background-image: none;
}
.notification_widget.warning.disabled:hover,
.notification_widget.warning[disabled]:hover,
fieldset[disabled] .notification_widget.warning:hover,
.notification_widget.warning.disabled:focus,
.notification_widget.warning[disabled]:focus,
fieldset[disabled] .notification_widget.warning:focus,
.notification_widget.warning.disabled.focus,
.notification_widget.warning[disabled].focus,
fieldset[disabled] .notification_widget.warning.focus {
  background-color: #f0ad4e;
  border-color: #eea236;
}
.notification_widget.warning .badge {
  color: #f0ad4e;
  background-color: #fff;
}
.notification_widget.success {
  color: #fff;
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.notification_widget.success:focus,
.notification_widget.success.focus {
  color: #fff;
  background-color: #449d44;
  border-color: #255625;
}
.notification_widget.success:hover {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.notification_widget.success:active,
.notification_widget.success.active,
.open > .dropdown-toggle.notification_widget.success {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.notification_widget.success:active:hover,
.notification_widget.success.active:hover,
.open > .dropdown-toggle.notification_widget.success:hover,
.notification_widget.success:active:focus,
.notification_widget.success.active:focus,
.open > .dropdown-toggle.notification_widget.success:focus,
.notification_widget.success:active.focus,
.notification_widget.success.active.focus,
.open > .dropdown-toggle.notification_widget.success.focus {
  color: #fff;
  background-color: #398439;
  border-color: #255625;
}
.notification_widget.success:active,
.notification_widget.success.active,
.open > .dropdown-toggle.notification_widget.success {
  background-image: none;
}
.notification_widget.success.disabled:hover,
.notification_widget.success[disabled]:hover,
fieldset[disabled] .notification_widget.success:hover,
.notification_widget.success.disabled:focus,
.notification_widget.success[disabled]:focus,
fieldset[disabled] .notification_widget.success:focus,
.notification_widget.success.disabled.focus,
.notification_widget.success[disabled].focus,
fieldset[disabled] .notification_widget.success.focus {
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.notification_widget.success .badge {
  color: #5cb85c;
  background-color: #fff;
}
.notification_widget.info {
  color: #fff;
  background-color: #5bc0de;
  border-color: #46b8da;
}
.notification_widget.info:focus,
.notification_widget.info.focus {
  color: #fff;
  background-color: #31b0d5;
  border-color: #1b6d85;
}
.notification_widget.info:hover {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.notification_widget.info:active,
.notification_widget.info.active,
.open > .dropdown-toggle.notification_widget.info {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.notification_widget.info:active:hover,
.notification_widget.info.active:hover,
.open > .dropdown-toggle.notification_widget.info:hover,
.notification_widget.info:active:focus,
.notification_widget.info.active:focus,
.open > .dropdown-toggle.notification_widget.info:focus,
.notification_widget.info:active.focus,
.notification_widget.info.active.focus,
.open > .dropdown-toggle.notification_widget.info.focus {
  color: #fff;
  background-color: #269abc;
  border-color: #1b6d85;
}
.notification_widget.info:active,
.notification_widget.info.active,
.open > .dropdown-toggle.notification_widget.info {
  background-image: none;
}
.notification_widget.info.disabled:hover,
.notification_widget.info[disabled]:hover,
fieldset[disabled] .notification_widget.info:hover,
.notification_widget.info.disabled:focus,
.notification_widget.info[disabled]:focus,
fieldset[disabled] .notification_widget.info:focus,
.notification_widget.info.disabled.focus,
.notification_widget.info[disabled].focus,
fieldset[disabled] .notification_widget.info.focus {
  background-color: #5bc0de;
  border-color: #46b8da;
}
.notification_widget.info .badge {
  color: #5bc0de;
  background-color: #fff;
}
.notification_widget.danger {
  color: #fff;
  background-color: #d9534f;
  border-color: #d43f3a;
}
.notification_widget.danger:focus,
.notification_widget.danger.focus {
  color: #fff;
  background-color: #c9302c;
  border-color: #761c19;
}
.notification_widget.danger:hover {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.notification_widget.danger:active,
.notification_widget.danger.active,
.open > .dropdown-toggle.notification_widget.danger {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.notification_widget.danger:active:hover,
.notification_widget.danger.active:hover,
.open > .dropdown-toggle.notification_widget.danger:hover,
.notification_widget.danger:active:focus,
.notification_widget.danger.active:focus,
.open > .dropdown-toggle.notification_widget.danger:focus,
.notification_widget.danger:active.focus,
.notification_widget.danger.active.focus,
.open > .dropdown-toggle.notification_widget.danger.focus {
  color: #fff;
  background-color: #ac2925;
  border-color: #761c19;
}
.notification_widget.danger:active,
.notification_widget.danger.active,
.open > .dropdown-toggle.notification_widget.danger {
  background-image: none;
}
.notification_widget.danger.disabled:hover,
.notification_widget.danger[disabled]:hover,
fieldset[disabled] .notification_widget.danger:hover,
.notification_widget.danger.disabled:focus,
.notification_widget.danger[disabled]:focus,
fieldset[disabled] .notification_widget.danger:focus,
.notification_widget.danger.disabled.focus,
.notification_widget.danger[disabled].focus,
fieldset[disabled] .notification_widget.danger.focus {
  background-color: #d9534f;
  border-color: #d43f3a;
}
.notification_widget.danger .badge {
  color: #d9534f;
  background-color: #fff;
}
div#pager {
  background-color: #fff;
  font-size: 14px;
  line-height: 20px;
  overflow: hidden;
  display: none;
  position: fixed;
  bottom: 0px;
  width: 100%;
  max-height: 50%;
  padding-top: 8px;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  /* Display over codemirror */
  z-index: 100;
  /* Hack which prevents jquery ui resizable from changing top. */
  top: auto !important;
}
div#pager pre {
  line-height: 1.21429em;
  color: #000;
  background-color: #f7f7f7;
  padding: 0.4em;
}
div#pager #pager-button-area {
  position: absolute;
  top: 8px;
  right: 20px;
}
div#pager #pager-contents {
  position: relative;
  overflow: auto;
  width: 100%;
  height: 100%;
}
div#pager #pager-contents #pager-container {
  position: relative;
  padding: 15px 0px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
div#pager .ui-resizable-handle {
  top: 0px;
  height: 8px;
  background: #f7f7f7;
  border-top: 1px solid #cfcfcf;
  border-bottom: 1px solid #cfcfcf;
  /* This injects handle bars (a short, wide = symbol) for 
        the resize handle. */
}
div#pager .ui-resizable-handle::after {
  content: '';
  top: 2px;
  left: 50%;
  height: 3px;
  width: 30px;
  margin-left: -15px;
  position: absolute;
  border-top: 1px solid #cfcfcf;
}
.quickhelp {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
  line-height: 1.8em;
}
.shortcut_key {
  display: inline-block;
  width: 21ex;
  text-align: right;
  font-family: monospace;
}
.shortcut_descr {
  display: inline-block;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
span.save_widget {
  height: 30px;
  margin-top: 4px;
  display: flex;
  justify-content: flex-start;
  align-items: baseline;
  width: 50%;
  flex: 1;
}
span.save_widget span.filename {
  height: 100%;
  line-height: 1em;
  margin-left: 16px;
  border: none;
  font-size: 146.5%;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  border-radius: 2px;
}
span.save_widget span.filename:hover {
  background-color: #e6e6e6;
}
[dir="rtl"] span.save_widget.pull-left {
  float: right !important;
  float: right;
}
[dir="rtl"] span.save_widget span.filename {
  margin-left: 0;
  margin-right: 16px;
}
span.checkpoint_status,
span.autosave_status {
  font-size: small;
  white-space: nowrap;
  padding: 0 5px;
}
@media (max-width: 767px) {
  span.save_widget {
    font-size: small;
    padding: 0 0 0 5px;
  }
  span.checkpoint_status,
  span.autosave_status {
    display: none;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  span.checkpoint_status {
    display: none;
  }
  span.autosave_status {
    font-size: x-small;
  }
}
.toolbar {
  padding: 0px;
  margin-left: -5px;
  margin-top: 2px;
  margin-bottom: 5px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
.toolbar select,
.toolbar label {
  width: auto;
  vertical-align: middle;
  margin-right: 2px;
  margin-bottom: 0px;
  display: inline;
  font-size: 92%;
  margin-left: 0.3em;
  margin-right: 0.3em;
  padding: 0px;
  padding-top: 3px;
}
.toolbar .btn {
  padding: 2px 8px;
}
.toolbar .btn-group {
  margin-top: 0px;
  margin-left: 5px;
}
.toolbar-btn-label {
  margin-left: 6px;
}
#maintoolbar {
  margin-bottom: -3px;
  margin-top: -8px;
  border: 0px;
  min-height: 27px;
  margin-left: 0px;
  padding-top: 11px;
  padding-bottom: 3px;
}
#maintoolbar .navbar-text {
  float: none;
  vertical-align: middle;
  text-align: right;
  margin-left: 5px;
  margin-right: 0px;
  margin-top: 0px;
}
.select-xs {
  height: 24px;
}
[dir="rtl"] .btn-group > .btn,
.btn-group-vertical > .btn {
  float: right;
}
.pulse,
.dropdown-menu > li > a.pulse,
li.pulse > a.dropdown-toggle,
li.pulse.open > a.dropdown-toggle {
  background-color: #F37626;
  color: white;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
/** WARNING IF YOU ARE EDITTING THIS FILE, if this is a .css file, It has a lot
 * of chance of beeing generated from the ../less/[samename].less file, you can
 * try to get back the less file by reverting somme commit in history
 **/
/*
 * We'll try to get something pretty, so we
 * have some strange css to have the scroll bar on
 * the left with fix button on the top right of the tooltip
 */
@-moz-keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@-webkit-keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@-moz-keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@-webkit-keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/*properties of tooltip after "expand"*/
.bigtooltip {
  overflow: auto;
  height: 200px;
  -webkit-transition-property: height;
  -webkit-transition-duration: 500ms;
  -moz-transition-property: height;
  -moz-transition-duration: 500ms;
  transition-property: height;
  transition-duration: 500ms;
}
/*properties of tooltip before "expand"*/
.smalltooltip {
  -webkit-transition-property: height;
  -webkit-transition-duration: 500ms;
  -moz-transition-property: height;
  -moz-transition-duration: 500ms;
  transition-property: height;
  transition-duration: 500ms;
  text-overflow: ellipsis;
  overflow: hidden;
  height: 80px;
}
.tooltipbuttons {
  position: absolute;
  padding-right: 15px;
  top: 0px;
  right: 0px;
}
.tooltiptext {
  /*avoid the button to overlap on some docstring*/
  padding-right: 30px;
}
.ipython_tooltip {
  max-width: 700px;
  /*fade-in animation when inserted*/
  -webkit-animation: fadeOut 400ms;
  -moz-animation: fadeOut 400ms;
  animation: fadeOut 400ms;
  -webkit-animation: fadeIn 400ms;
  -moz-animation: fadeIn 400ms;
  animation: fadeIn 400ms;
  vertical-align: middle;
  background-color: #f7f7f7;
  overflow: visible;
  border: #ababab 1px solid;
  outline: none;
  padding: 3px;
  margin: 0px;
  padding-left: 7px;
  font-family: monospace;
  min-height: 50px;
  -moz-box-shadow: 0px 6px 10px -1px #adadad;
  -webkit-box-shadow: 0px 6px 10px -1px #adadad;
  box-shadow: 0px 6px 10px -1px #adadad;
  border-radius: 2px;
  position: absolute;
  z-index: 1000;
}
.ipython_tooltip a {
  float: right;
}
.ipython_tooltip .tooltiptext pre {
  border: 0;
  border-radius: 0;
  font-size: 100%;
  background-color: #f7f7f7;
}
.pretooltiparrow {
  left: 0px;
  margin: 0px;
  top: -16px;
  width: 40px;
  height: 16px;
  overflow: hidden;
  position: absolute;
}
.pretooltiparrow:before {
  background-color: #f7f7f7;
  border: 1px #ababab solid;
  z-index: 11;
  content: "";
  position: absolute;
  left: 15px;
  top: 10px;
  width: 25px;
  height: 25px;
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  -o-transform: rotate(45deg);
}
ul.typeahead-list i {
  margin-left: -10px;
  width: 18px;
}
[dir="rtl"] ul.typeahead-list i {
  margin-left: 0;
  margin-right: -10px;
}
ul.typeahead-list {
  max-height: 80vh;
  overflow: auto;
}
ul.typeahead-list > li > a {
  /** Firefox bug **/
  /* see https://github.com/jupyter/notebook/issues/559 */
  white-space: normal;
}
ul.typeahead-list  > li > a.pull-right {
  float: left !important;
  float: left;
}
[dir="rtl"] .typeahead-list {
  text-align: right;
}
.cmd-palette .modal-body {
  padding: 7px;
}
.cmd-palette form {
  background: white;
}
.cmd-palette input {
  outline: none;
}
.no-shortcut {
  min-width: 20px;
  color: transparent;
}
[dir="rtl"] .no-shortcut.pull-right {
  float: left !important;
  float: left;
}
[dir="rtl"] .command-shortcut.pull-right {
  float: left !important;
  float: left;
}
.command-shortcut:before {
  content: "(command mode)";
  padding-right: 3px;
  color: #777777;
}
.edit-shortcut:before {
  content: "(edit)";
  padding-right: 3px;
  color: #777777;
}
[dir="rtl"] .edit-shortcut.pull-right {
  float: left !important;
  float: left;
}
#find-and-replace #replace-preview .match,
#find-and-replace #replace-preview .insert {
  background-color: #BBDEFB;
  border-color: #90CAF9;
  border-style: solid;
  border-width: 1px;
  border-radius: 0px;
}
[dir="ltr"] #find-and-replace .input-group-btn + .form-control {
  border-left: none;
}
[dir="rtl"] #find-and-replace .input-group-btn + .form-control {
  border-right: none;
}
#find-and-replace #replace-preview .replace .match {
  background-color: #FFCDD2;
  border-color: #EF9A9A;
  border-radius: 0px;
}
#find-and-replace #replace-preview .replace .insert {
  background-color: #C8E6C9;
  border-color: #A5D6A7;
  border-radius: 0px;
}
#find-and-replace #replace-preview {
  max-height: 60vh;
  overflow: auto;
}
#find-and-replace #replace-preview pre {
  padding: 5px 10px;
}
.terminal-app {
  background: #EEE;
}
.terminal-app #header {
  background: #fff;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
.terminal-app .terminal {
  width: 100%;
  float: left;
  font-family: monospace;
  color: white;
  background: black;
  padding: 0.4em;
  border-radius: 2px;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.4);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.4);
}
.terminal-app .terminal,
.terminal-app .terminal dummy-screen {
  line-height: 1em;
  font-size: 14px;
}
.terminal-app .terminal .xterm-rows {
  padding: 10px;
}
.terminal-app .terminal-cursor {
  color: black;
  background: white;
}
.terminal-app #terminado-container {
  margin-top: 20px;
}
/*# sourceMappingURL=style.min.css.map */
    </style>
<style type="text/css">
    .highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>


<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
body {
  overflow: visible;
  padding: 8px;
}

div#notebook {
  overflow: visible;
  border-top: none;
}@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  } 
  div.output_wrapper { 
    display: block;
    page-break-inside: avoid; 
  }
  div.output { 
    display: block;
    page-break-inside: avoid; 
  }
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="What-this-notebook-is-about">What this notebook is about<a class="anchor-link" href="#What-this-notebook-is-about">&#182;</a></h2><p>Till now I've only been performing the individual and whole audio horseshoe bat call analyses separately in their respective folders. This notebook is a common point to ask the relevant questions - and execute the analysis all in one place itself.</p>
<h3 id="Pre-processed-datasets">Pre-processed datasets<a class="anchor-link" href="#Pre-processed-datasets">&#182;</a></h3><ul>
<li><p>Individual call analysis : Single horseshoe bat calls which were segmented into iFM, tFM and CF. Each segment was then further measured for various parameters. This is a wide M_calls X  N_measurements dataset.</p>
</li>
<li><p>Whole audio analysis : Every synchronised audio file was split into smaller windows of 50 ms length. Each non silent audio window was measured for various parameters. This is a long (M_measurements X N_windows) X O_identifiers dataset. Here both observed and virtual audio files were analysed.</p>
</li>
</ul>
<h3 id="Table-of-Contents-:-analysis-approaches">Table of Contents : analysis approaches<a class="anchor-link" href="#Table-of-Contents-:-analysis-approaches">&#182;</a></h3><ol>
<li><p><a href="#indcallanalysis">Individual Call Analysis</a> : This analysis focusses on comparing the differences between measurements made on individual call components. Single non-overlapped calls were extracted from audio recordings with various group sizes and analysed.</p>
<ol>
<li><p><a href="#combinegeq2bats">Can we combine calls with $\geq$2 bats into a 'multi-bat' class?</a></p>
</li>
<li><p><a href="#assignendtime">Assigning annotation end time to each call</a></p>
</li>
<li><p><a href="#indcalldeltamedian">Estimating parameter differences between single and multi-bat calls</a></p>
</li>
<li><p><a href="#temporalrarefaction">Estimating difference between single and multi - with reduced pseudo-replication</a>
An issue with field based observational studies with unmarked animals is that the same individuals 
may contribut disproportionately to a dataset. Here I try to reduce the extent of pseudo-replication
by creating subsampled datasets with annotations chosen to be separated by a minimum time interval. 
I repeat the subsampling exercise at multiple time intervals and can thus infer which differences
between single and multiple bat calls are likely due to pseudo-replication. True effects are likely
to be present across all time-intervals, while apparent effects driven by pseudo-replication are likely
to appear more in datasets with lower time-intervals between annotations.</p>
<p>Similar approaches have been tried out in eg. Hijmans 2012 with species distribution models.</p>
</li>
</ol>
</li>
</ol>
<h4 id="References">References<a class="anchor-link" href="#References">&#182;</a></h4><ol>
<li>Hijman, R,J., Cross-validation of species distribution models: removing spatial sorting bias and calibration with a null model, Ecology, 93(3), 2012, pp. 679–688</li>
</ol>
<p>&nbsp;</p>
<ol>
<li><p><a href="#wholeaudioanalysis">Whole Audio Analysis</a>: This analysis focusses on comparing the broad differences between various measurements made on 50ms audio windows taken from recordings across group sizes. 
&nbsp;</p>
<ol>
<li><a href="#dominantfreqs">Comparing dominant frequencies</a></li>
<li><a href="#receivedlevel">Received level comparisons</a></li>
</ol>
</li>
</ol>
<ol>
<li><a href="#dutycycleanalysis">Duty cycle analysis</a> : This analysis centres around comparing the duty cycle, or fraction of time occupied by echolocation calls in audio recorded under various group sizes. </li>
</ol>
<h4 id="Table-of-Contents">Table of Contents<a class="anchor-link" href="#Table-of-Contents">&#182;</a></h4><ol>
<li><a href="#1.0">Do bats alter their CF frequencies across group size?</a><ul>
<li><a href="#1.1">1.1</a>: individual call analysis</li>
<li><a href="#1.2">1.2</a>: whole audio analysis</li>
</ul>
</li>
</ol>
<ol>
<li><p><a href="#2.0">Do bats alter their FM end frequencies across group size?</a></p>
<ul>
<li><a href="#2.1">2.1</a>: individual call analysis</li>
<li><a href="#2.2">2.2</a>: whole audio analysis</li>
</ul>
</li>
<li><p><a href="#3.0">Do call received levels vary across group size?</a></p>
<ul>
<li><a href="#3.1">3.1</a> : individual call analysis</li>
<li><a href="#3.2">3.2</a> : whole audio analysis</li>
</ul>
</li>
</ol>
<p>In our data we only measured the <em>received levels</em>. Received levels are a result of 1) bat-mic distance and 2) actual source level. Quantifying differences in received levels will help to identify if there are any changes in either parameter across group size.</p>
<ol>
<li><p><a href="#4.0">Other comparisons</a>
These analysis are performed only with individual call analysis</p>
<ul>
<li><a href="#4.1">4.1</a> tFM duration : this parameter is known to vary with group size and in the presence of artificial noise playbacks as shown in Fawcett et al. 2015 and Lu et al. 2020. The tFM duration contributes to object ranging, and is thus expected to change as the surroundings become more challenging. </li>
<li><a href="#4.2">4.2</a> iFM duration </li>
<li><a href="#4.3">4.3</a> CF duration</li>
<li><a href="#4.4">4.4</a> whole call duration</li>
<li><a href="#4.5">4.5</a> tFM-CF relative intensities : The tFM-CF relative intensity within a call is know to increase in calls emitted during target approach (Tian &amp; Schnitzler 1997) and also noise playbacks (Lu et al. 2020). </li>
<li><a href="#4.6">4.6</a> tFM 'bandwidth' : this measure describes the difference between the CF peak frequency and the -10 dB lower frequency of the tFM. </li>
</ul>
</li>
</ol>
<h4 id="Author-:-Thejasvi-Beleyur">Author : Thejasvi Beleyur<a class="anchor-link" href="#Author-:-Thejasvi-Beleyur">&#182;</a></h4><h4 id="Original-date-of-notebook-creation:-2020-09-28">Original date of notebook creation: 2020-09-28<a class="anchor-link" href="#Original-date-of-notebook-creation:-2020-09-28">&#182;</a></h4><h4 id="References">References<a class="anchor-link" href="#References">&#182;</a></h4><ul>
<li>Fawcett, K., Jacobs, D. S., Surlykke, A., &amp; Ratcliffe, J. M. (2015). Echolocation in the bat, <em>Rhinolophus capensis</em>: the influence of clutter, conspecifics and prey on call design and intensity. Biology Open, 4(6), 693-701.</li>
<li>Lu, M., Zhang, G., &amp; Luo, J. (2020). Echolocating bats exhibit differential amplitude compensation for noise interference at a sub-call level. Journal of Experimental Biology.</li>
<li>Tian, B., &amp; Schnitzler, H. U. (1997). Echolocation signals of the greater horseshoe bat (<em>Rhinolophus ferrumequinum</em>) in transfer flight and during landing. The Journal of the Acoustical Society of America, 101(4), 2347-2364.</li>
</ul>
<h4 id="A-note-on-the-processed-data-arising-from-this-notebook.">A note on the processed data arising from this notebook.<a class="anchor-link" href="#A-note-on-the-processed-data-arising-from-this-notebook.">&#182;</a></h4><p>All datasets have been saved in the JSON format to allow computer language-independent access.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Processed-data-generating-notebooks">Processed data generating notebooks<a class="anchor-link" href="#Processed-data-generating-notebooks">&#182;</a></h3><p>These notebooks were used to generate the final datasets analysed in this notebook. The steps preceding the final datasets in each of these notebookes are in turn handled by other notebooks mentioned in them.</p>
<ul>
<li><p>Individual call analysis notebook: <code>../individual_call_analysis/analysis/Analysing call properties.ipynb</code></p>
</li>
<li><p>Split-measure notebook: <code>../annotation_audio_analysis/analysis/split-measuring_observed_and_virtual_audio_files.ipynb</code></p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">82319</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">sys</span> 
<span class="kn">from</span> <span class="nn">zipfile</span> <span class="kn">import</span> <span class="n">ZipFile</span>

<span class="n">ind_call_folder</span> <span class="o">=</span>  <span class="s1">&#39;../individual_call_analysis/analysis/&#39;</span>
<span class="n">annot_audio_folder</span> <span class="o">=</span> <span class="s1">&#39;../annotation_audio_analysis/analysis/&#39;</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ind_call_folder</span><span class="p">)</span>
<span class="c1">#sys.path.append(annot_audio_folder)</span>


<span class="kn">import</span> <span class="nn">dabest</span>
<span class="kn">from</span> <span class="nn">dask.distributed</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">wait</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">gridspec</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">82319</span><span class="p">)</span> <span class="c1"># set to your favourite number and run. Ensures replication across devices and sessions</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">dask.dataframe</span> <span class="k">as</span> <span class="nn">dd</span>
<span class="kn">import</span> <span class="nn">matplotlib.gridspec</span> <span class="k">as</span> <span class="nn">gridspec</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">tqdm</span>

<span class="kn">from</span> <span class="nn">joblib</span> <span class="kn">import</span> <span class="n">Parallel</span><span class="p">,</span> <span class="n">delayed</span>


<span class="n">dB</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">X</span><span class="p">:</span> <span class="mi">20</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">X</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">format_and_clean</span> 
<span class="kn">from</span> <span class="nn">format_and_clean</span> <span class="kn">import</span> <span class="n">ind_call_format</span> <span class="k">as</span> <span class="n">icf</span>

<span class="kn">import</span> <span class="nn">reduce_pseudorep</span>
<span class="kn">from</span> <span class="nn">reduce_pseudorep</span> <span class="kn">import</span> <span class="n">annots_by_time</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">video_annotations_folder</span> <span class="o">=</span> <span class="s1">&#39;../whole_data_analysis/annotations/corrected_HBC_video_annotations_Aditya/&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> notebook
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id='indcallanalysis'></a></p>
<h2 id="Individual-Call-Analysis">Individual Call Analysis<a class="anchor-link" href="#Individual-Call-Analysis">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># load the individual call analysis dataset </span>
<span class="n">ind_call</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../individual_call_analysis/analysis/one_call_per_row_2020-11-29.csv&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">ind_call</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="n">ind_call</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>(232, 43)
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[10]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Unnamed: 0</th>
      <th>ifm_start</th>
      <th>ifm_peak_freq_resolution</th>
      <th>ifm_terminal_frequency</th>
      <th>ifm_duration</th>
      <th>ifm_peak_frequency</th>
      <th>ifm_rms</th>
      <th>ifm_stop</th>
      <th>ifm_peak_amplitude</th>
      <th>ifm_region_id</th>
      <th>...</th>
      <th>duration</th>
      <th>peak_freq_resolution</th>
      <th>ifm-cf_dbratio</th>
      <th>tfm-cf_dbratio</th>
      <th>ifm-peak_db</th>
      <th>tfm-peak_db</th>
      <th>tfm_dbrms</th>
      <th>ifm_dbrms</th>
      <th>cf_dbrms</th>
      <th>cf-peak_db</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0.000000</td>
      <td>1282.051282</td>
      <td>93830.334190</td>
      <td>0.001556</td>
      <td>103470.437018</td>
      <td>0.125976</td>
      <td>0.001556</td>
      <td>0.259338</td>
      <td>fm1</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-2.728592</td>
      <td>-8.944769</td>
      <td>-11.722664</td>
      <td>-19.137227</td>
      <td>-24.210411</td>
      <td>-17.994234</td>
      <td>-15.265642</td>
      <td>-7.820871</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>0.001620</td>
      <td>4629.629630</td>
      <td>102803.738318</td>
      <td>0.000428</td>
      <td>107476.635514</td>
      <td>0.009964</td>
      <td>0.002048</td>
      <td>0.019897</td>
      <td>fm1</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-17.153700</td>
      <td>-8.104120</td>
      <td>-34.024047</td>
      <td>-24.375695</td>
      <td>-30.981963</td>
      <td>-40.031544</td>
      <td>-22.877843</td>
      <td>-16.902226</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-4.509058</td>
      <td>NaN</td>
      <td>-27.361657</td>
      <td>-36.384210</td>
      <td>NaN</td>
      <td>-31.875153</td>
      <td>-25.664328</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>0.000668</td>
      <td>1141.552511</td>
      <td>95756.880734</td>
      <td>0.001744</td>
      <td>103211.009174</td>
      <td>0.149708</td>
      <td>0.002412</td>
      <td>0.263123</td>
      <td>fm1</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-5.089907</td>
      <td>-3.693966</td>
      <td>-11.596838</td>
      <td>-10.423536</td>
      <td>-15.099166</td>
      <td>-16.495107</td>
      <td>-11.405201</td>
      <td>-7.085234</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>0.000048</td>
      <td>1677.852349</td>
      <td>99326.599327</td>
      <td>0.001188</td>
      <td>106060.606061</td>
      <td>0.011683</td>
      <td>0.001236</td>
      <td>0.022827</td>
      <td>fm1</td>
      <td>...</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>-6.331958</td>
      <td>-8.414054</td>
      <td>-27.190138</td>
      <td>-30.413860</td>
      <td>-37.558917</td>
      <td>-35.476821</td>
      <td>-29.144863</td>
      <td>-22.965609</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 43 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># observed individual calls by group size</span>
<span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;num_bats&#39;</span><span class="p">],</span> <span class="n">return_counts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[11]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(array([1, 2, 3, 4]), array([180,  43,   7,   2]))</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There is a large difference between number of calls observed from a group size of 1 (288 calls), and those for group sizes &gt; 1 (53, 12 and 2 calls for group sizes of 2,3 and 4 bats respectively).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Does-it-make-sense-to-combine-3-&amp;-4-group-size-calls-with-2-bats?">Does it make sense to combine 3 &amp; 4 group size calls with 2 bats?<a class="anchor-link" href="#Does-it-make-sense-to-combine-3-&amp;-4-group-size-calls-with-2-bats?">&#182;</a></h3><p>Let's test this by actual plots and statistical tests comparing the two across all measured parameters.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">multibat_indcall</span> <span class="o">=</span> <span class="n">ind_call</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ifm_rms&#39;</span><span class="p">,</span><span class="s1">&#39;tfm_rms&#39;</span><span class="p">,</span><span class="s1">&#39;cf_rms&#39;</span><span class="p">]:</span>
    <span class="n">multibat_indcall</span><span class="p">[</span><span class="n">col</span><span class="o">+</span><span class="s1">&#39;db&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dB</span><span class="p">(</span><span class="n">multibat_indcall</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>

<span class="n">multibat_indcall</span><span class="p">[</span><span class="s1">&#39;ifm_bw&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;cf_peak_frequency&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;ifm_terminal_frequency&#39;</span><span class="p">]</span>
<span class="n">multibat_indcall</span><span class="p">[</span><span class="s1">&#39;tfm_bw&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;cf_peak_frequency&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;tfm_terminal_frequency&#39;</span><span class="p">]</span>

<span class="c1"># scale down the measurement units so they look pretty on the graphs</span>
<span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ifm_bw&#39;</span><span class="p">,</span> <span class="s1">&#39;tfm_bw&#39;</span><span class="p">,</span> <span class="s1">&#39;cf_peak_frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;tfm_terminal_frequency&#39;</span><span class="p">,</span><span class="s1">&#39;ifm_terminal_frequency&#39;</span><span class="p">]:</span>
    <span class="n">multibat_indcall</span><span class="p">[</span><span class="n">each</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">0.001</span>

<span class="n">multibat_indcall</span><span class="p">[</span><span class="s1">&#39;cf_duration&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">3</span>
<span class="n">multibat_indcall</span><span class="p">[</span><span class="s1">&#39;tfm_duration&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">3</span>
<span class="n">multibat_indcall</span><span class="p">[</span><span class="s1">&#39;ifm_duration&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">3</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fig2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span><span class="n">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">spec2</span> <span class="o">=</span> <span class="n">gridspec</span><span class="o">.</span><span class="n">GridSpec</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">figure</span><span class="o">=</span><span class="n">fig2</span><span class="p">)</span>
<span class="n">f2_ax1</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">f2_ax2</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">f2_ax3</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

<span class="n">f2_ax5</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">f2_ax6</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">f2_ax7</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

<span class="n">f2_ax9</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="n">f2_ax10</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">f2_ax11</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>

<span class="n">f2_ax14</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">f2_ax15</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>


<span class="n">f2_ax18</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">f2_ax19</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>

<span class="n">f2_ax20</span> <span class="o">=</span> <span class="n">fig2</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="n">spec2</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>

<span class="n">point_size</span> <span class="o">=</span> <span class="mf">2.5</span>

<span class="c1"># Temporal</span>
<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;cf_duration&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;tfm_duration&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax3</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;ifm_duration&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>

<span class="c1"># Spectral</span>
<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax5</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;cf_peak_frequency&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax6</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;tfm_terminal_frequency&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="mi">111</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax7</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;ifm_terminal_frequency&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="mi">111</span><span class="p">)</span>
<span class="c1"># Received level</span>

<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax9</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;cf_rmsdb&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax10</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;tfm_rmsdb&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax11</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;ifm_rmsdb&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>

<span class="c1"># derived parameters</span>
<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax14</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;tfm-cf_dbratio&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">24</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax15</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;ifm-cf_dbratio&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">24</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax18</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;tfm_bw&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;tFM&#39;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">f2_ax18</span><span class="o">.</span><span class="n">transAxes</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax19</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">swarmplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;ifm_bw&#39;</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">multibat_indcall</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="n">point_size</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;iFM&#39;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">f2_ax19</span><span class="o">.</span><span class="n">transAxes</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">sca</span><span class="p">(</span><span class="n">f2_ax20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;CF&#39;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">f2_ax20</span><span class="o">.</span><span class="n">transAxes</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





<div id="10c372ef-030b-4ac2-a2b0-087fd0956483"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#10c372ef-030b-4ac2-a2b0-087fd0956483');
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    // Apply a ponyfill if ResizeObserver is not implemented by browser.
    if (this.ResizeObserver === undefined) {
        if (window.ResizeObserver !== undefined) {
            this.ResizeObserver = window.ResizeObserver;
        } else {
            var obs = _JSXTOOLS_RESIZE_OBSERVER({});
            this.ResizeObserver = obs.ResizeObserver;
        }
    }

    this.resizeObserverInstance = new this.ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    this.resizeObserverInstance.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};

///////////////// REMAINING CONTENT GENERATED BY embed_js.py /////////////////
// prettier-ignore
var _JSXTOOLS_RESIZE_OBSERVER=function(A){var t,i=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakMap,o=new Set;function s(e){if(!(this instanceof s))throw new TypeError("Constructor requires 'new' operator");i.set(this,e)}function h(){throw new TypeError("Function is not a constructor")}function c(e,t,i,n){e=0 in arguments?Number(arguments[0]):0,t=1 in arguments?Number(arguments[1]):0,i=2 in arguments?Number(arguments[2]):0,n=3 in arguments?Number(arguments[3]):0,this.right=(this.x=this.left=e)+(this.width=i),this.bottom=(this.y=this.top=t)+(this.height=n),Object.freeze(this)}function d(){t=requestAnimationFrame(d);var s=new WeakMap,p=new Set;o.forEach((function(t){r.get(t).forEach((function(i){var r=t instanceof window.SVGElement,o=a.get(t),d=r?0:parseFloat(o.paddingTop),f=r?0:parseFloat(o.paddingRight),l=r?0:parseFloat(o.paddingBottom),u=r?0:parseFloat(o.paddingLeft),g=r?0:parseFloat(o.borderTopWidth),m=r?0:parseFloat(o.borderRightWidth),w=r?0:parseFloat(o.borderBottomWidth),b=u+f,F=d+l,v=(r?0:parseFloat(o.borderLeftWidth))+m,W=g+w,y=r?0:t.offsetHeight-W-t.clientHeight,E=r?0:t.offsetWidth-v-t.clientWidth,R=b+v,z=F+W,M=r?t.width:parseFloat(o.width)-R-E,O=r?t.height:parseFloat(o.height)-z-y;if(n.has(t)){var k=n.get(t);if(k[0]===M&&k[1]===O)return}n.set(t,[M,O]);var S=Object.create(h.prototype);S.target=t,S.contentRect=new c(u,d,M,O),s.has(i)||(s.set(i,[]),p.add(i)),s.get(i).push(S)}))})),p.forEach((function(e){i.get(e).call(e,s.get(e),e)}))}return s.prototype.observe=function(i){if(i instanceof window.Element){r.has(i)||(r.set(i,new Set),o.add(i),a.set(i,window.getComputedStyle(i)));var n=r.get(i);n.has(this)||n.add(this),cancelAnimationFrame(t),t=requestAnimationFrame(d)}},s.prototype.unobserve=function(i){if(i instanceof window.Element&&r.has(i)){var n=r.get(i);n.has(this)&&(n.delete(this),n.size||(r.delete(i),o.delete(i))),n.size||r.delete(i),o.size||cancelAnimationFrame(t)}},A.DOMRectReadOnly=c,A.ResizeObserver=s,A.ResizeObserverEntry=h,A}; // eslint-disable-line
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.on(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );
    fig.resizeObserverInstance.unobserve(fig.canvas_div);

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    if (event.target !== this) {
        // Ignore bubbled events from children.
        return;
    }
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAMgCAYAAADbcAZoAAAJyElEQVR4nO3BMQEAAADCoPVPbQ0PoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHg0FWkAAc80gKEAAAAASUVORK5CYII=" width="800">
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 35.6% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 11.6% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 28.9% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 5.6% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 13.3% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 14.4% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 10.0% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 22.8% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 17.8% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 8.9% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 22.2% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 12.8% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/categorical.py:1296: UserWarning: 7.2% of the points cannot be placed; you may want to decrease the size of the markers or use stripplot.
  warnings.warn(msg, UserWarning)
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[13]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Text(0.4, -0.5, &#39;CF&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The measured properties of individual calls from recordings with &gt;2 is very similar to 2 bats - and so I'm now deciding to lump them together.</p>
<p><em>For a better formatted plot - please see the accompanying manuscript 'Generating summary data and plots for manuscript.ipynb'</em></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The only parameter that does in fact seem to be different across single and multi ($\geq$2 bats) bats is the CF duration. Let's take a look at the difference in the median values.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id='combinegeq2bats'></a></p>
<h3 id="Can-we-combine-calls-with-$\geq$2-bats-into-a-'multi-bat'-class?">Can we combine calls with $\geq$2 bats into a 'multi-bat' class?<a class="anchor-link" href="#Can-we-combine-calls-with-$\geq$2-bats-into-a-'multi-bat'-class?">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's load the multipanel plot created in the <code>./generating_summary_data_and_plots_for_manuscript.ipynb</code> notebook</p>
<p><img src="./measurements_and_derivedparams_multipanel.png" alt="image loading"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The great similarity in call parameters observed in group sizes of 2 and more allow use to combine them into a 'multi' bat class. This will help us increase the sample size in the multi-bat class, as without it each group size by itself would have a rather low sample size.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ind_call</span> <span class="o">=</span> <span class="n">ind_call</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ifm_rms&#39;</span><span class="p">,</span><span class="s1">&#39;tfm_rms&#39;</span><span class="p">,</span><span class="s1">&#39;cf_rms&#39;</span><span class="p">]:</span>
    <span class="n">ind_call</span><span class="p">[</span><span class="n">col</span><span class="o">+</span><span class="s1">&#39;db&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dB</span><span class="p">(</span><span class="n">ind_call</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>

<span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;ifm_bw&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;cf_peak_frequency&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;ifm_terminal_frequency&#39;</span><span class="p">]</span>
<span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;tfm_bw&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;cf_peak_frequency&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;tfm_terminal_frequency&#39;</span><span class="p">]</span>

<span class="c1"># scale down the measurement units so they look pretty on the graphs</span>
<span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ifm_bw&#39;</span><span class="p">,</span> <span class="s1">&#39;tfm_bw&#39;</span><span class="p">,</span> <span class="s1">&#39;cf_peak_frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;tfm_terminal_frequency&#39;</span><span class="p">,</span><span class="s1">&#39;ifm_terminal_frequency&#39;</span><span class="p">]:</span>
    <span class="n">ind_call</span><span class="p">[</span><span class="n">each</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">0.001</span>

<span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;cf_duration&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">3</span>
<span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;tfm_duration&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">3</span>
<span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;ifm_duration&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">3</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id='assignendtime'></a></p>
<h3 id="Assigning-annotation-end-time">Assigning annotation end time<a class="anchor-link" href="#Assigning-annotation-end-time">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;annot_end_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">icf</span><span class="o">.</span><span class="n">get_end_time_from_annotation_id</span><span class="p">(</span><span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;video_annot_id&#39;</span><span class="p">],</span> <span class="n">video_annotations_folder</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;posix_end_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;annot_end_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">icf</span><span class="o">.</span><span class="n">convert_annotation_time_to_posix</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">unique_timestamps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;posix_end_time&#39;</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">first_night</span> <span class="o">=</span> <span class="n">ind_call</span><span class="p">[</span><span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;posix_end_time&#39;</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">500000</span><span class="o">+</span><span class="mf">1.534</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="p">][</span><span class="s1">&#39;posix_end_time&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">first_night</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">first_night</span><span class="o">.</span><span class="n">size</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">first_night</span><span class="o">.</span><span class="n">size</span><span class="p">),</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





<div id="f98455e3-ce07-47d4-94c5-8ab3d86060ac"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#f98455e3-ce07-47d4-94c5-8ab3d86060ac');
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    // Apply a ponyfill if ResizeObserver is not implemented by browser.
    if (this.ResizeObserver === undefined) {
        if (window.ResizeObserver !== undefined) {
            this.ResizeObserver = window.ResizeObserver;
        } else {
            var obs = _JSXTOOLS_RESIZE_OBSERVER({});
            this.ResizeObserver = obs.ResizeObserver;
        }
    }

    this.resizeObserverInstance = new this.ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    this.resizeObserverInstance.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};

///////////////// REMAINING CONTENT GENERATED BY embed_js.py /////////////////
// prettier-ignore
var _JSXTOOLS_RESIZE_OBSERVER=function(A){var t,i=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakMap,o=new Set;function s(e){if(!(this instanceof s))throw new TypeError("Constructor requires 'new' operator");i.set(this,e)}function h(){throw new TypeError("Function is not a constructor")}function c(e,t,i,n){e=0 in arguments?Number(arguments[0]):0,t=1 in arguments?Number(arguments[1]):0,i=2 in arguments?Number(arguments[2]):0,n=3 in arguments?Number(arguments[3]):0,this.right=(this.x=this.left=e)+(this.width=i),this.bottom=(this.y=this.top=t)+(this.height=n),Object.freeze(this)}function d(){t=requestAnimationFrame(d);var s=new WeakMap,p=new Set;o.forEach((function(t){r.get(t).forEach((function(i){var r=t instanceof window.SVGElement,o=a.get(t),d=r?0:parseFloat(o.paddingTop),f=r?0:parseFloat(o.paddingRight),l=r?0:parseFloat(o.paddingBottom),u=r?0:parseFloat(o.paddingLeft),g=r?0:parseFloat(o.borderTopWidth),m=r?0:parseFloat(o.borderRightWidth),w=r?0:parseFloat(o.borderBottomWidth),b=u+f,F=d+l,v=(r?0:parseFloat(o.borderLeftWidth))+m,W=g+w,y=r?0:t.offsetHeight-W-t.clientHeight,E=r?0:t.offsetWidth-v-t.clientWidth,R=b+v,z=F+W,M=r?t.width:parseFloat(o.width)-R-E,O=r?t.height:parseFloat(o.height)-z-y;if(n.has(t)){var k=n.get(t);if(k[0]===M&&k[1]===O)return}n.set(t,[M,O]);var S=Object.create(h.prototype);S.target=t,S.contentRect=new c(u,d,M,O),s.has(i)||(s.set(i,[]),p.add(i)),s.get(i).push(S)}))})),p.forEach((function(e){i.get(e).call(e,s.get(e),e)}))}return s.prototype.observe=function(i){if(i instanceof window.Element){r.has(i)||(r.set(i,new Set),o.add(i),a.set(i,window.getComputedStyle(i)));var n=r.get(i);n.has(this)||n.add(this),cancelAnimationFrame(t),t=requestAnimationFrame(d)}},s.prototype.unobserve=function(i){if(i instanceof window.Element&&r.has(i)){var n=r.get(i);n.has(this)&&(n.delete(this),n.size||(r.delete(i),o.delete(i))),n.size||r.delete(i),o.size||cancelAnimationFrame(t)}},A.DOMRectReadOnly=c,A.ResizeObserver=s,A.ResizeObserverEntry=h,A}; // eslint-disable-line
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.on(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );
    fig.resizeObserverInstance.unobserve(fig.canvas_div);

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    if (event.target !== this) {
        // Ignore bubbled events from children.
        return;
    }
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAHgCAYAAAA10dzkAAAEvklEQVR4nO3BAQ0AAADCoPdPbQ43oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4Mwu4AAehrHaUAAAAASUVORK5CYII=" width="640">
</div>

</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[19]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.collections.LineCollection at 0x7fcc2dda7160&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;NA&#39;</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">each</span> <span class="ow">in</span> <span class="n">ind_call</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">each</span><span class="p">[</span><span class="s1">&#39;num_bats&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">ind_call</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;multiple&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ind_call</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;single&#39;</span>
<span class="c1"># Sample sizes:</span>
<span class="n">single</span><span class="p">,</span> <span class="n">multi</span> <span class="o">=</span> <span class="n">ind_call</span><span class="p">[</span><span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;num_bats&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">],</span> <span class="n">ind_call</span><span class="p">[</span><span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;num_bats&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Single call measurements </span><span class="si">%d</span><span class="s1"> </span><span class="se">\n</span><span class="s1"> and </span><span class="se">\n</span><span class="s1"> Multi call measurements </span><span class="si">%d</span><span class="s1"> &#39;</span><span class="o">%</span><span class="p">(</span><span class="n">single</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">multi</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Single call measurements 180 
 and 
 Multi call measurements 52 
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id='indcalldeltamedian'></a></p>
<h3 id="Estimating-parameter-differences-between-single-and-multi-bat-calls">Estimating parameter differences between single and multi-bat calls<a class="anchor-link" href="#Estimating-parameter-differences-between-single-and-multi-bat-calls">&#182;</a></h3><p>To see how different the single and multi-bat calls are we will now calculate the  difference ($\Delta$median) and its bootstrapped confidence itnerval between the two groups, and generate a distribution.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> notebook
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">parts</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;cf&#39;</span><span class="p">,</span><span class="s1">&#39;tfm&#39;</span><span class="p">,</span><span class="s1">&#39;ifm&#39;</span><span class="p">]</span>
<span class="n">durn_colnames</span> <span class="o">=</span> <span class="p">[</span> <span class="n">each</span> <span class="o">+</span><span class="s1">&#39;_duration&#39;</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">]</span>
<span class="n">spectral_colnames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;cf_peak_frequency&#39;</span><span class="p">,</span><span class="s1">&#39;tfm_terminal_frequency&#39;</span><span class="p">,</span> <span class="s1">&#39;ifm_terminal_frequency&#39;</span><span class="p">]</span>
<span class="n">intensity_colnames</span> <span class="o">=</span> <span class="p">[</span><span class="n">each</span> <span class="o">+</span> <span class="s1">&#39;_dbrms&#39;</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">parts</span><span class="p">]</span>
<span class="n">relative_cf_intensity_colnames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;tfm-cf_dbratio&#39;</span><span class="p">,</span><span class="s1">&#39;ifm-cf_dbratio&#39;</span><span class="p">]</span>
<span class="n">fm_bandwidth_colnames</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;tfm_bw&#39;</span><span class="p">,</span> <span class="s1">&#39;ifm_bw&#39;</span><span class="p">]</span>

<span class="n">all_columns</span> <span class="o">=</span> <span class="n">durn_colnames</span> <span class="o">+</span> <span class="n">spectral_colnames</span> <span class="o">+</span> <span class="n">intensity_colnames</span> <span class="o">+</span> <span class="n">relative_cf_intensity_colnames</span> <span class="o">+</span> <span class="n">fm_bandwidth_colnames</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">process_for_testing</span><span class="p">(</span><span class="n">param_df</span><span class="p">,</span> <span class="n">colname</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Parameters</span>
<span class="sd">    -----------</span>
<span class="sd">    param_df : pd.DataFrame</span>
<span class="sd">        With at least the columns &#39;groupsize&#39; and the input colname, where the input colname </span>
<span class="sd">        has the values for the measurement/category.</span>
<span class="sd">    resamples : int</span>
<span class="sd">        Number of resamples to perform for bootstrap confidence interval estimation. </span>
<span class="sd">    idx : list</span>
<span class="sd">        With strings. Defaults to [&#39;single&#39;,&#39;multiple&#39;]</span>

<span class="sd">    Returns </span>
<span class="sd">    -------</span>
<span class="sd">    dabest._classes.Dabest</span>
<span class="sd">        The output of dabest.load</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;idx&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;idx&#39;</span><span class="p">,[</span><span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;multiple&#39;</span><span class="p">])</span>
    
    <span class="n">singlemulti_param</span> <span class="o">=</span> <span class="n">param_df</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">values</span><span class="o">=</span><span class="n">colname</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">dabest</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">singlemulti_param</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">parse_result_output</span><span class="p">(</span><span class="n">dd_results</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Parses the results attribute of a dabest.median_diff run and checks the following</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    dd_results : pd.DataFrame</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    </span>
<span class="sd">    </span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">parsed_output</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># does the bca_low,bca_high have zero in it</span>
    <span class="n">parsed_output</span><span class="p">[</span><span class="s1">&#39;ci_has_zero&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">dd_results</span><span class="p">[</span><span class="s1">&#39;bca_low&#39;</span><span class="p">]</span><span class="o">&lt;=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dd_results</span><span class="p">[</span><span class="s1">&#39;bca_high&#39;</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># if not is the interval greater or less than 0?</span>
    
    <span class="n">parsed_output</span><span class="p">[</span><span class="s1">&#39;ci_above_zero&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">dd_results</span><span class="p">[</span><span class="s1">&#39;bca_low&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">dd_results</span><span class="p">[</span><span class="s1">&#39;bca_high&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">parsed_output</span><span class="p">[</span><span class="s1">&#39;ci_below_zero&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="n">dd_results</span><span class="p">[</span><span class="s1">&#39;bca_low&#39;</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">,</span> <span class="n">dd_results</span><span class="p">[</span><span class="s1">&#39;bca_high&#39;</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">parsed_output</span><span class="p">[</span><span class="s1">&#39;perm_pvalue&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dd_results</span><span class="p">[</span><span class="s1">&#39;pvalue_permutation&#39;</span><span class="p">]</span>
    <span class="n">parsed_output</span><span class="p">[</span><span class="s1">&#39;difference&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dd_results</span><span class="p">[</span><span class="s1">&#39;difference&#39;</span><span class="p">]</span>
    <span class="n">parsed_output</span><span class="p">[</span><span class="s1">&#39;perm_pvalue_signif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">parsed_output</span><span class="p">[</span><span class="s1">&#39;perm_pvalue&#39;</span><span class="p">]</span><span class="o">&lt;</span><span class="mf">0.05</span>
    <span class="n">parsed_output</span><span class="p">[</span><span class="s1">&#39;bca_low&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dd_results</span><span class="p">[</span><span class="s1">&#39;bca_low&#39;</span><span class="p">]</span>
    <span class="n">parsed_output</span><span class="p">[</span><span class="s1">&#39;bca_high&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dd_results</span><span class="p">[</span><span class="s1">&#39;bca_high&#39;</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">parsed_output</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">produce_parsed_outputs_for_indcall_datafolds</span><span class="p">(</span><span class="n">datafold</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">resample_num</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;resamples&#39;</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span>
    <span class="n">test_output</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">eachcol</span> <span class="ow">in</span> <span class="n">colnames</span><span class="p">:</span>
        <span class="n">param_df</span> <span class="o">=</span> <span class="n">datafold</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="n">eachcol</span><span class="p">,</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]]</span>
        <span class="n">dd</span> <span class="o">=</span> <span class="n">process_for_testing</span><span class="p">(</span><span class="n">param_df</span><span class="p">,</span> <span class="n">eachcol</span><span class="p">,</span><span class="n">resamples</span><span class="o">=</span><span class="n">resample_num</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span><span class="o">.</span><span class="n">median_diff</span>
        <span class="n">test_output</span><span class="p">[</span><span class="n">eachcol</span><span class="p">]</span> <span class="o">=</span> <span class="n">dd</span>
    <span class="n">parsed_outputs</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">colnames</span><span class="p">):</span>
        <span class="n">parsed_outputs</span><span class="p">[</span><span class="n">each</span><span class="p">]</span> <span class="o">=</span> <span class="n">parse_result_output</span><span class="p">(</span><span class="n">test_output</span><span class="p">[</span><span class="n">each</span><span class="p">]</span><span class="o">.</span><span class="n">results</span><span class="p">)</span>
    <span class="n">outputs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">msmt</span><span class="p">,</span> <span class="n">parsedoutput</span> <span class="ow">in</span> <span class="n">parsed_outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">parsedoutput</span><span class="p">[</span><span class="s1">&#39;measurement&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">msmt</span>
        <span class="n">outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parsedoutput</span><span class="p">)</span>
    <span class="n">comparisons</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">outputs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">comparisons</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_output</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">eachcol</span> <span class="ow">in</span> <span class="n">all_columns</span><span class="p">:</span>
    <span class="n">param_df</span> <span class="o">=</span> <span class="n">ind_call</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="n">eachcol</span><span class="p">,</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]]</span>
    <span class="n">dd</span> <span class="o">=</span> <span class="n">process_for_testing</span><span class="p">(</span><span class="n">param_df</span><span class="p">,</span> <span class="n">eachcol</span><span class="p">,</span><span class="n">resamples</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span><span class="o">.</span><span class="n">median_diff</span>
    <span class="n">test_output</span><span class="p">[</span><span class="n">eachcol</span><span class="p">]</span> <span class="o">=</span> <span class="n">dd</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span> 
<span class="n">parsed_outputs</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">all_columns</span><span class="p">):</span>
    <span class="n">parsed_outputs</span><span class="p">[</span><span class="n">each</span><span class="p">]</span> <span class="o">=</span> <span class="n">parse_result_output</span><span class="p">(</span><span class="n">test_output</span><span class="p">[</span><span class="n">each</span><span class="p">]</span><span class="o">.</span><span class="n">results</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>100%|██████████| 13/13 [00:49&lt;00:00,  3.80s/it]</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 49.4 s, sys: 33.2 ms, total: 49.4 s
Wall time: 49.4 s
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">outputs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">msmt</span><span class="p">,</span> <span class="n">parsedoutput</span> <span class="ow">in</span> <span class="n">parsed_outputs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">parsedoutput</span><span class="p">[</span><span class="s1">&#39;measurement&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">msmt</span>
    <span class="n">outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parsedoutput</span><span class="p">)</span>
<span class="n">alldata_comparisons</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">outputs</span><span class="p">)</span>
<span class="n">alldata_comparisons</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[26]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ci_has_zero</th>
      <th>ci_above_zero</th>
      <th>ci_below_zero</th>
      <th>perm_pvalue</th>
      <th>difference</th>
      <th>perm_pvalue_signif</th>
      <th>bca_low</th>
      <th>bca_high</th>
      <th>measurement</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>0.0020</td>
      <td>-2.996000</td>
      <td>True</td>
      <td>-3.956000</td>
      <td>-1.024000</td>
      <td>cf_duration</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.0950</td>
      <td>0.172000</td>
      <td>False</td>
      <td>-0.164000</td>
      <td>0.384000</td>
      <td>tfm_duration</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.7478</td>
      <td>-0.036000</td>
      <td>False</td>
      <td>-0.224000</td>
      <td>0.242000</td>
      <td>ifm_duration</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.2590</td>
      <td>0.362239</td>
      <td>False</td>
      <td>-0.274980</td>
      <td>1.078474</td>
      <td>cf_peak_frequency</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.1996</td>
      <td>-1.128162</td>
      <td>False</td>
      <td>-3.034811</td>
      <td>0.511699</td>
      <td>tfm_terminal_frequency</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.6754</td>
      <td>0.404679</td>
      <td>False</td>
      <td>-2.651172</td>
      <td>2.542503</td>
      <td>ifm_terminal_frequency</td>
    </tr>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>0.1916</td>
      <td>-1.447695</td>
      <td>False</td>
      <td>-3.645323</td>
      <td>-0.149988</td>
      <td>cf_dbrms</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.0244</td>
      <td>-2.603152</td>
      <td>True</td>
      <td>-4.452210</td>
      <td>0.519258</td>
      <td>tfm_dbrms</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.3444</td>
      <td>-1.552420</td>
      <td>False</td>
      <td>-4.118310</td>
      <td>1.287351</td>
      <td>ifm_dbrms</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.1800</td>
      <td>-1.058504</td>
      <td>False</td>
      <td>-1.853960</td>
      <td>0.565806</td>
      <td>tfm-cf_dbratio</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.6830</td>
      <td>0.269927</td>
      <td>False</td>
      <td>-0.645367</td>
      <td>1.785983</td>
      <td>ifm-cf_dbratio</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.0926</td>
      <td>1.852893</td>
      <td>False</td>
      <td>-0.134059</td>
      <td>3.654470</td>
      <td>tfm_bw</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.5360</td>
      <td>0.569361</td>
      <td>False</td>
      <td>-2.568307</td>
      <td>2.754352</td>
      <td>ifm_bw</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>What we can see by including all the median differences of multi-single are that only two parameters seem to show median differences whose intervals do not overlap with zero - CF duration and CF received level. Median CF duration seems to reduce by 3ms in multi bat groups. The median CF dB rms seems to decrease by -1.4 dB in multi bat groups.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The bias corrected and accelarated bootstrap confidence intervals are used, it is suggested to be the best and most general method to get confidence intervals (Puth,Neuhäuser,Ruxton 2015)</p>
<h4 id="References:">References:<a class="anchor-link" href="#References:">&#182;</a></h4>
<pre><code>* Puth, M. T., Neuhäuser, M., &amp; Ruxton, G. D. (2015). On the variety of methods for calculating confidence intervals by bootstrapping. Journal of Animal Ecology, 84(4), 892-897.</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id='temporalrarefaction'></a></p>
<h3 id="Estimating-difference-between-single-and-multi---with-interval-separated-data-folds.">Estimating difference between single and multi - with interval separated data folds.<a class="anchor-link" href="#Estimating-difference-between-single-and-multi---with-interval-separated-data-folds.">&#182;</a></h3><p>All the calls in the dataset are likely to be temporally correlated as it may be the same individuals flying in and out of the caves. This is based on our observations of short bursts of in and out flights over the scale of a few seconds to a minute. Here let us attempt to see how robust our results are when we begin to include only samples that are at least X seconds apart from each other.</p>
<p>The main concern we attempt to address here is basically that by using 'all' the annotation matched audio, we are not including the whole range of variation that is actually present in the data. By spreading the data points across time, we will be able to assess a larger variety of bats and situations - and thus assess differences in call properties better.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">interannot_separation</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;posix_end_time&#39;</span><span class="p">])))</span>
<span class="n">interannot_separation</span> <span class="o">=</span> <span class="n">interannot_separation</span><span class="p">[</span><span class="n">interannot_separation</span> <span class="o">&lt;=</span> <span class="mi">12</span><span class="o">*</span><span class="mi">3600</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">interannot_separation</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3600</span><span class="p">,</span><span class="mi">10</span><span class="p">));</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





<div id="e5a5bb88-7ddd-402a-b9d5-922b9bdd2cba"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#e5a5bb88-7ddd-402a-b9d5-922b9bdd2cba');
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    // Apply a ponyfill if ResizeObserver is not implemented by browser.
    if (this.ResizeObserver === undefined) {
        if (window.ResizeObserver !== undefined) {
            this.ResizeObserver = window.ResizeObserver;
        } else {
            var obs = _JSXTOOLS_RESIZE_OBSERVER({});
            this.ResizeObserver = obs.ResizeObserver;
        }
    }

    this.resizeObserverInstance = new this.ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    this.resizeObserverInstance.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};

///////////////// REMAINING CONTENT GENERATED BY embed_js.py /////////////////
// prettier-ignore
var _JSXTOOLS_RESIZE_OBSERVER=function(A){var t,i=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakMap,o=new Set;function s(e){if(!(this instanceof s))throw new TypeError("Constructor requires 'new' operator");i.set(this,e)}function h(){throw new TypeError("Function is not a constructor")}function c(e,t,i,n){e=0 in arguments?Number(arguments[0]):0,t=1 in arguments?Number(arguments[1]):0,i=2 in arguments?Number(arguments[2]):0,n=3 in arguments?Number(arguments[3]):0,this.right=(this.x=this.left=e)+(this.width=i),this.bottom=(this.y=this.top=t)+(this.height=n),Object.freeze(this)}function d(){t=requestAnimationFrame(d);var s=new WeakMap,p=new Set;o.forEach((function(t){r.get(t).forEach((function(i){var r=t instanceof window.SVGElement,o=a.get(t),d=r?0:parseFloat(o.paddingTop),f=r?0:parseFloat(o.paddingRight),l=r?0:parseFloat(o.paddingBottom),u=r?0:parseFloat(o.paddingLeft),g=r?0:parseFloat(o.borderTopWidth),m=r?0:parseFloat(o.borderRightWidth),w=r?0:parseFloat(o.borderBottomWidth),b=u+f,F=d+l,v=(r?0:parseFloat(o.borderLeftWidth))+m,W=g+w,y=r?0:t.offsetHeight-W-t.clientHeight,E=r?0:t.offsetWidth-v-t.clientWidth,R=b+v,z=F+W,M=r?t.width:parseFloat(o.width)-R-E,O=r?t.height:parseFloat(o.height)-z-y;if(n.has(t)){var k=n.get(t);if(k[0]===M&&k[1]===O)return}n.set(t,[M,O]);var S=Object.create(h.prototype);S.target=t,S.contentRect=new c(u,d,M,O),s.has(i)||(s.set(i,[]),p.add(i)),s.get(i).push(S)}))})),p.forEach((function(e){i.get(e).call(e,s.get(e),e)}))}return s.prototype.observe=function(i){if(i instanceof window.Element){r.has(i)||(r.set(i,new Set),o.add(i),a.set(i,window.getComputedStyle(i)));var n=r.get(i);n.has(this)||n.add(this),cancelAnimationFrame(t),t=requestAnimationFrame(d)}},s.prototype.unobserve=function(i){if(i instanceof window.Element&&r.has(i)){var n=r.get(i);n.has(this)&&(n.delete(this),n.size||(r.delete(i),o.delete(i))),n.size||r.delete(i),o.size||cancelAnimationFrame(t)}},A.DOMRectReadOnly=c,A.ResizeObserver=s,A.ResizeObserverEntry=h,A}; // eslint-disable-line
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.on(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );
    fig.resizeObserverInstance.unobserve(fig.canvas_div);

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    if (event.target !== this) {
        // Ignore bubbled events from children.
        return;
    }
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<img src="data:image/png;base64,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mD9/fowePTo++OCDs/3USvsfSVnnjjC72c1eFmWdO6Lcsw82pQ7AiIjHHnssmpubo66uLqZMmRKvvfba2X5KEfHZ5w3b2tqip6fnbD+VM6qsc0eY3exmL4uyzh1R7tkHm9IHIABA2QhAAICSEYAAACUjAAEASkYAAgCUjAAchH7yk59ES0tL1NfXx5QpU+L1118/208pSX//C70vf/nL1e0HDhyIe+65J8aOHRsjRoyIW2+9tc+leN5999248cYb45xzzommpqa4//774w9/+MOZHuW4NmzYEDfffHOMGzcuiqLoc6Hxw4cPx0MPPRQXXHBBfOlLX4qZM2fG9u3be+3zu9/9Lu64444YOXJkNDQ0xJ133hn79u3rtc+mTZviL/7iL6K+vj4uuuii+Md//MfTPtvxHG/2uXPn9jkPZs2a1WufHGd/5JFHYtKkSXHuuedGU1NTzJ49O7Zu3dprn1N1jq9fvz6++tWvRl1dXfzpn/5pLF269HSP94UGMvuMGTP6vO533XVXr31ynP3xxx+PK6+8MkaOHBkjR46MqVOnxqpVq6rba/U1jzj+7LX6mtcaATjIPPvss1FXVxdPPfVUbNmyJebNmxejR4+OX//612f7qZ20tra2mDhxYuzZs6e6fvOb31S3L1iwIC6++OJYu3ZttLe3x9SpU+Pqq6+ubj948GBcccUVcd1110VHR0esWrUqGhsb4/vf//7ZGOcLrVq1Kh588MF44YUX+o2gRx99NBoaGuIXv/hFbNq0KW655Za45JJL4sCBA9V9brjhhrjqqqvitddei//4j/+Iyy67LG6//fbq9u7u7jj//PPjb/7mb2Lz5s2xbNmyOOecc+KJJ544Y3P253izz507N2644YZe58Hvf//7XvvkOPusWbNi6dKlsXnz5njjjTfixhtvjObm5ti/f391n1Nxju/atSuGDx8ef//3fx9vvfVWPPbYYzF06NBYvXr1GZ33SAOZfcaMGTFv3rxer/uR14DLdfYXX3wxVq5cGdu3b49t27bFAw88EMOGDYvNmzdHRO2+5hHHn71WX/NaIwAHmSlTpsTChQurfz506FBceOGFg+L/TnKy2tra4qqrrup3W1dXVwwbNiyee+656m1vv/12FEURGzdujIjPwuKP/uiPev3t+Z//+Z9j1KhR8emnn57eJ5/g6Ag6fPhwXHDBBfHD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" width="640">
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">158056</span><span class="o">/</span><span class="mi">3600</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[24]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>43.904444444444444</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Inter-annotation-intervals---all-annotations">Inter-annotation intervals - all annotations<a class="anchor-link" href="#Inter-annotation-intervals---all-annotations">&#182;</a></h3><p>Let's take a look at the distribution of inter-annotation intervals when <em>all</em> individual call annotations are considered.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pctiles</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mf">97.5</span><span class="p">,</span><span class="mi">100</span><span class="p">]</span>
<span class="n">interannot_distbn</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">interannot_separation</span><span class="p">,</span> <span class="n">pctiles</span><span class="p">)</span><span class="o">/</span><span class="mf">60.0</span>

<span class="n">interannot_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;percentile&#39;</span><span class="p">:</span><span class="n">pctiles</span><span class="p">,</span> <span class="s1">&#39;minutes&#39;</span><span class="p">:</span><span class="n">interannot_distbn</span><span class="p">})</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The distribution of inter-annotation intervals is </span><span class="se">\n</span><span class="s1"> </span><span class="se">\n</span><span class="s1"> </span><span class="si">{</span><span class="n">interannot_df</span><span class="si">}</span><span class="s1"> &#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>The distribution of inter-annotation intervals is 
 
    percentile    minutes
0         0.0   0.016667
1         2.5   0.016667
2        25.0   0.250000
3        50.0   0.891667
4        75.0   2.475000
5        97.5  12.527083
6       100.0  53.533333 
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's choose two inter-annotation intervals - one which is around the median (1 min) and the other which is <em>out</em> of the 95%ile interval (15min).  We can expect that the 15minut interval is likely to have much more variation and less pseudo-replication in its measurements as bat activity seems to be clustered at lower time scales.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">time_intervals_seconds</span> <span class="o">=</span> <span class="p">[</span><span class="mi">60</span><span class="p">,</span><span class="mi">900</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">temporal_rarerified_indices</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">separation</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">time_intervals_seconds</span><span class="p">):</span>
    <span class="n">temporal_rarerified_indices</span><span class="p">[</span><span class="n">separation</span><span class="p">]</span> <span class="o">=</span> <span class="n">annots_by_time</span><span class="o">.</span><span class="n">generate_time_separated_folds</span><span class="p">(</span><span class="n">ind_call</span><span class="p">[</span><span class="s1">&#39;posix_end_time&#39;</span><span class="p">],</span> 
                                                         <span class="n">separation</span><span class="p">,</span><span class="n">num_runs</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>100%|██████████| 2/2 [02:44&lt;00:00, 82.40s/it]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">time_rarefied_data</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">sep</span><span class="p">,</span> <span class="n">inds</span> <span class="ow">in</span> <span class="n">temporal_rarerified_indices</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">time_rarefied_data</span><span class="p">[</span><span class="n">sep</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">inds</span><span class="p">:</span>
        <span class="n">time_rarefied_data</span><span class="p">[</span><span class="n">sep</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ind_call</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">each</span><span class="p">,:]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">foldername</span><span class="p">):</span>
    <span class="n">content_folders</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*_seconds_rarefied&#39;</span><span class="p">)</span>
    <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">each</span><span class="p">)</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">content_folders</span><span class="p">]</span>

<span class="k">for</span> <span class="n">sep</span><span class="p">,</span> <span class="n">folds</span> <span class="ow">in</span> <span class="n">time_rarefied_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">foldername</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sep</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;indcall_seconds_rarefied&#39;</span>
    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">foldername</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">each</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">folds</span><span class="p">):</span>
        <span class="n">fname</span> <span class="o">=</span> <span class="s1">&#39;fold&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;.csv&#39;</span>
        <span class="n">each</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">foldername</span><span class="p">,</span><span class="n">fname</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Our data-folds are essentially cross-validation folds. In the machine-learning/stats literature, model cross-validation is used to estimate model accuracy. However, using many folds can lead to biased and high variance estimates of model accuracy (Vanwinckelen &amp; Blockeel 2011). What are the results if we use a smaller set of folds eg. 10 folds each. This needs to be plotted separately using eg. the first 10 folds.</p>
<p>References</p>
<ul>
<li>Vanwinckelen, Gitte, and Hendrik Blockeel. "On estimating model accuracy with repeated cross-validation." In Benelearn 2012: Proceedings of the 21st belgian-dutch conference on machine learning, pp. 39-44. 2012. <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwi_0_OUub7tAhVJ6aQKHcV4C9IQFjAJegQIEhAC&amp;url=https%3A%2F%2Flirias.kuleuven.be%2Fretrieve%2F186558%2F&amp;usg=AOvVaw3sAhjDtQ0B2NwGcalWuwpk">link</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, having split the datasets into folds - let's run the median difference estimation across all the folds to see how much of an effect temporal autocorrelation may have had.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[59]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">separation_parsed_results</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">each_sep</span><span class="p">,</span> <span class="n">datafolds</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">time_rarefied_data</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
    <span class="n">separation_parsed_results</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">4</span><span class="p">)(</span><span class="n">delayed</span><span class="p">(</span><span class="n">produce_parsed_outputs_for_indcall_datafolds</span><span class="p">)(</span><span class="n">each</span><span class="p">,</span> <span class="n">all_columns</span><span class="p">)</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">datafolds</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">each</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">separation_parsed_results</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]):</span>
        <span class="n">each</span><span class="p">[</span><span class="s1">&#39;fold_number&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">estimation_file_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">each_sep</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_seconds_interval_datafold_estimateddifferences.csv&#39;</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">separation_parsed_results</span><span class="p">[</span><span class="n">each_sep</span><span class="p">])</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">estimation_file_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>  0%|          | 0/2 [00:00&lt;?, ?it/s]
  0%|          | 0/105 [00:00&lt;?, ?it/s]
  4%|▍         | 4/105 [00:00&lt;00:03, 30.97it/s]
  8%|▊         | 8/105 [01:19&lt;09:40,  5.98s/it]
 11%|█▏        | 12/105 [02:37&lt;15:31, 10.01s/it]
 15%|█▌        | 16/105 [03:55&lt;19:03, 12.85s/it]
 19%|█▉        | 20/105 [05:12&lt;20:59, 14.82s/it]
 23%|██▎       | 24/105 [06:34&lt;22:15, 16.48s/it]
 27%|██▋       | 28/105 [07:52&lt;22:20, 17.40s/it]
 30%|███       | 32/105 [09:09&lt;21:52, 17.98s/it]
 34%|███▍      | 36/105 [10:26&lt;21:08, 18.38s/it]
 38%|███▊      | 40/105 [11:44&lt;20:14, 18.69s/it]
 42%|████▏     | 44/105 [13:01&lt;19:11, 18.87s/it]
 46%|████▌     | 48/105 [14:19&lt;18:05, 19.04s/it]
 50%|████▉     | 52/105 [15:36&lt;16:52, 19.09s/it]
 53%|█████▎    | 56/105 [16:53&lt;15:39, 19.17s/it]
 57%|█████▋    | 60/105 [18:11&lt;14:26, 19.25s/it]
 61%|██████    | 64/105 [19:29&lt;13:13, 19.35s/it]
 65%|██████▍   | 68/105 [20:47&lt;11:57, 19.38s/it]
 69%|██████▊   | 72/105 [22:05&lt;10:39, 19.39s/it]
 72%|███████▏  | 76/105 [23:27&lt;09:32, 19.74s/it]
 76%|███████▌  | 80/105 [24:45&lt;08:10, 19.64s/it]
 80%|████████  | 84/105 [26:03&lt;06:52, 19.63s/it]
 84%|████████▍ | 88/105 [27:21&lt;05:32, 19.57s/it]
 88%|████████▊ | 92/105 [28:40&lt;04:15, 19.63s/it]
 91%|█████████▏| 96/105 [29:57&lt;02:55, 19.50s/it]
 95%|█████████▌| 100/105 [31:14&lt;01:37, 19.45s/it]
100%|██████████| 105/105 [32:32&lt;00:00, 18.59s/it]
 50%|█████     | 1/2 [34:37&lt;34:37, 2077.14s/it]
  0%|          | 0/193 [00:00&lt;?, ?it/s]
  4%|▍         | 8/193 [01:16&lt;29:26,  9.55s/it]
  6%|▌         | 12/193 [02:34&lt;37:52, 12.55s/it]
  8%|▊         | 16/193 [03:49&lt;42:27, 14.39s/it]
 10%|█         | 20/193 [05:06&lt;45:43, 15.86s/it]
 12%|█▏        | 24/193 [06:23&lt;47:28, 16.85s/it]
 15%|█▍        | 28/193 [07:39&lt;48:10, 17.52s/it]
 17%|█▋        | 32/193 [08:57&lt;48:35, 18.11s/it]
 19%|█▊        | 36/193 [10:15&lt;48:25, 18.51s/it]
 21%|██        | 40/193 [11:31&lt;47:41, 18.70s/it]
 23%|██▎       | 44/193 [12:47&lt;46:34, 18.76s/it]
 25%|██▍       | 48/193 [14:04&lt;45:40, 18.90s/it]
 27%|██▋       | 52/193 [15:20&lt;44:33, 18.96s/it]
 29%|██▉       | 56/193 [16:38&lt;43:34, 19.08s/it]
 31%|███       | 60/193 [17:54&lt;42:13, 19.05s/it]
 33%|███▎      | 64/193 [19:09&lt;40:52, 19.01s/it]
 35%|███▌      | 68/193 [20:26&lt;39:39, 19.03s/it]
 37%|███▋      | 72/193 [21:41&lt;38:18, 18.99s/it]
 39%|███▉      | 76/193 [22:57&lt;36:58, 18.96s/it]
 41%|████▏     | 80/193 [24:13&lt;35:48, 19.01s/it]
 44%|████▎     | 84/193 [25:30&lt;34:38, 19.07s/it]
 46%|████▌     | 88/193 [26:46&lt;33:17, 19.03s/it]
 48%|████▊     | 92/193 [28:01&lt;31:57, 18.99s/it]
 50%|████▉     | 96/193 [29:17&lt;30:41, 18.98s/it]
 52%|█████▏    | 100/193 [30:37&lt;29:51, 19.26s/it]
 54%|█████▍    | 104/193 [31:54&lt;28:36, 19.28s/it]
 56%|█████▌    | 108/193 [33:11&lt;27:16, 19.26s/it]
 58%|█████▊    | 112/193 [34:28&lt;26:00, 19.26s/it]
 60%|██████    | 116/193 [35:44&lt;24:34, 19.15s/it]
 62%|██████▏   | 120/193 [37:00&lt;23:16, 19.13s/it]
 64%|██████▍   | 124/193 [38:16&lt;21:57, 19.09s/it]
 66%|██████▋   | 128/193 [39:32&lt;20:36, 19.03s/it]
 68%|██████▊   | 132/193 [40:48&lt;19:20, 19.02s/it]
 70%|███████   | 136/193 [42:06&lt;18:15, 19.23s/it]
 73%|███████▎  | 140/193 [43:23&lt;16:56, 19.19s/it]
 75%|███████▍  | 144/193 [44:40&lt;15:40, 19.19s/it]
 77%|███████▋  | 148/193 [45:57&lt;14:25, 19.23s/it]
 79%|███████▉  | 152/193 [47:17&lt;13:17, 19.46s/it]
 81%|████████  | 156/193 [48:33&lt;11:56, 19.36s/it]
 83%|████████▎ | 160/193 [49:51&lt;10:39, 19.38s/it]
 85%|████████▍ | 164/193 [51:08&lt;09:21, 19.35s/it]
 87%|████████▋ | 168/193 [52:25&lt;08:03, 19.32s/it]
 89%|████████▉ | 172/193 [53:42&lt;06:44, 19.26s/it]
 91%|█████████ | 176/193 [55:00&lt;05:29, 19.38s/it]
 93%|█████████▎| 180/193 [56:16&lt;04:10, 19.28s/it]
 95%|█████████▌| 184/193 [57:33&lt;02:53, 19.25s/it]
 97%|█████████▋| 188/193 [58:50&lt;01:36, 19.23s/it]
100%|██████████| 193/193 [1:00:09&lt;00:00, 18.70s/it]
100%|██████████| 2/2 [1:36:57&lt;00:00, 2908.68s/it]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[60]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">compare_with_reference</span><span class="p">(</span><span class="n">one_fold_parsed</span><span class="p">,</span> <span class="n">reference</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Compares a subset of columns and checks if they are the </span>
<span class="sd">    same as the reference dataframe. </span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">target_cols</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;target_cols&#39;</span><span class="p">,[</span><span class="s1">&#39;ci_has_zero&#39;</span><span class="p">,</span><span class="s1">&#39;ci_above_zero&#39;</span><span class="p">,</span>
                                            <span class="s1">&#39;ci_below_zero&#39;</span><span class="p">,</span><span class="s1">&#39;perm_pvalue_signif&#39;</span><span class="p">,</span><span class="s1">&#39;measurement&#39;</span><span class="p">])</span>
    <span class="n">by_msmt</span> <span class="o">=</span> <span class="n">one_fold_parsed</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">target_cols</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;measurement&#39;</span><span class="p">)</span>
    <span class="n">ref_bymsmt</span> <span class="o">=</span> <span class="n">reference</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">target_cols</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;measurement&#39;</span><span class="p">)</span>
    <span class="n">match</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">msmt_names</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">msmt</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">by_msmt</span><span class="p">:</span>
        <span class="n">match</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">ref_bymsmt</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="n">msmt</span><span class="p">)))</span>
        <span class="n">msmt_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msmt</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">match</span><span class="p">,</span> <span class="n">msmt_names</span>

<span class="k">def</span> <span class="nf">compare_consistency_with_whole_data</span><span class="p">(</span><span class="n">data_folds</span><span class="p">,</span> <span class="n">whole_data_parsed</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">consistency_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">whole_data_parsed</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_folds</span><span class="p">)))</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">each</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data_folds</span><span class="p">):</span>
        <span class="n">consistency_matrix</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span> <span class="n">msmt</span> <span class="o">=</span> <span class="n">compare_with_reference</span><span class="p">(</span><span class="n">each</span><span class="p">,</span> <span class="n">whole_data_parsed</span><span class="p">,</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">consistency_matrix</span><span class="p">,</span> <span class="n">msmt</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[61]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">separation_parsed_results</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[61]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>dict_keys([60, 900])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[62]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">interval_consistency_matrices</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">consistency_rate</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">separation</span><span class="p">,</span> <span class="n">parsed_outputs</span> <span class="ow">in</span> <span class="n">separation_parsed_results</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">interval_consistency_matrices</span><span class="p">[</span><span class="n">separation</span><span class="p">],</span> <span class="n">msmt</span> <span class="o">=</span> <span class="n">compare_consistency_with_whole_data</span><span class="p">(</span><span class="n">parsed_outputs</span><span class="p">,</span> <span class="n">alldata_comparisons</span><span class="p">)</span>
    <span class="n">match_rate</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">interval_consistency_matrices</span><span class="p">[</span><span class="n">separation</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">interval_consistency_matrices</span><span class="p">[</span><span class="n">separation</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">consistency_rate</span><span class="p">[</span><span class="n">separation</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;match_rate&#39;</span><span class="p">:</span><span class="n">match_rate</span><span class="p">,</span>
                                                      <span class="s1">&#39;measurement_name&#39;</span><span class="p">:</span> <span class="n">msmt</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[64]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">consistency_rate</span><span class="p">[</span><span class="mi">60</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[64]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>match_rate</th>
      <th>measurement_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.000000</td>
      <td>cf_dbrms</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.000000</td>
      <td>cf_duration</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.000000</td>
      <td>cf_peak_frequency</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.000000</td>
      <td>ifm-cf_dbratio</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.000000</td>
      <td>ifm_bw</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1.000000</td>
      <td>ifm_dbrms</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1.000000</td>
      <td>ifm_duration</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1.000000</td>
      <td>ifm_terminal_frequency</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1.000000</td>
      <td>tfm-cf_dbratio</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.533333</td>
      <td>tfm_bw</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0.000000</td>
      <td>tfm_dbrms</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0.000000</td>
      <td>tfm_duration</td>
    </tr>
    <tr>
      <th>12</th>
      <td>0.095238</td>
      <td>tfm_terminal_frequency</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[65]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">consistency_rate</span><span class="p">[</span><span class="mi">900</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[65]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>match_rate</th>
      <th>measurement_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.000000</td>
      <td>cf_dbrms</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.000000</td>
      <td>cf_duration</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.000000</td>
      <td>cf_peak_frequency</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1.000000</td>
      <td>ifm-cf_dbratio</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.000000</td>
      <td>ifm_bw</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1.000000</td>
      <td>ifm_dbrms</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1.000000</td>
      <td>ifm_duration</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1.000000</td>
      <td>ifm_terminal_frequency</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1.000000</td>
      <td>tfm-cf_dbratio</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.922280</td>
      <td>tfm_bw</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0.031088</td>
      <td>tfm_dbrms</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0.994819</td>
      <td>tfm_duration</td>
    </tr>
    <tr>
      <th>12</th>
      <td>1.000000</td>
      <td>tfm_terminal_frequency</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[66]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">all_consistency_rates</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">separation</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">consistency_rate</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;inerval&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">separation</span>
    <span class="n">all_consistency_rates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">all_consistency_rates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">all_consistency_rates</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[67]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">all_consistency_rates</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;interval_separation_consistency_rates.csv&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">alldata_comparisons</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[68]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ci_has_zero</th>
      <th>ci_above_zero</th>
      <th>ci_below_zero</th>
      <th>perm_pvalue</th>
      <th>difference</th>
      <th>perm_pvalue_signif</th>
      <th>bca_low</th>
      <th>bca_high</th>
      <th>measurement</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>0.0020</td>
      <td>-2.996000</td>
      <td>True</td>
      <td>-3.956000</td>
      <td>-1.024000</td>
      <td>cf_duration</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.0950</td>
      <td>0.172000</td>
      <td>False</td>
      <td>-0.164000</td>
      <td>0.384000</td>
      <td>tfm_duration</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.7478</td>
      <td>-0.036000</td>
      <td>False</td>
      <td>-0.224000</td>
      <td>0.242000</td>
      <td>ifm_duration</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.2590</td>
      <td>0.362239</td>
      <td>False</td>
      <td>-0.274980</td>
      <td>1.078474</td>
      <td>cf_peak_frequency</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.1996</td>
      <td>-1.128162</td>
      <td>False</td>
      <td>-3.034811</td>
      <td>0.511699</td>
      <td>tfm_terminal_frequency</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.6754</td>
      <td>0.404679</td>
      <td>False</td>
      <td>-2.651172</td>
      <td>2.542503</td>
      <td>ifm_terminal_frequency</td>
    </tr>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>True</td>
      <td>0.1916</td>
      <td>-1.447695</td>
      <td>False</td>
      <td>-3.645323</td>
      <td>-0.149988</td>
      <td>cf_dbrms</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.0244</td>
      <td>-2.603152</td>
      <td>True</td>
      <td>-4.452210</td>
      <td>0.519258</td>
      <td>tfm_dbrms</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.3444</td>
      <td>-1.552420</td>
      <td>False</td>
      <td>-4.118310</td>
      <td>1.287351</td>
      <td>ifm_dbrms</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.1800</td>
      <td>-1.058504</td>
      <td>False</td>
      <td>-1.853960</td>
      <td>0.565806</td>
      <td>tfm-cf_dbratio</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.6830</td>
      <td>0.269927</td>
      <td>False</td>
      <td>-0.645367</td>
      <td>1.785983</td>
      <td>ifm-cf_dbratio</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.0926</td>
      <td>1.852893</td>
      <td>False</td>
      <td>-0.134059</td>
      <td>3.654470</td>
      <td>tfm_bw</td>
    </tr>
    <tr>
      <th>0</th>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>0.5360</td>
      <td>0.569361</td>
      <td>False</td>
      <td>-2.568307</td>
      <td>2.754352</td>
      <td>ifm_bw</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[76]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">get_deltamed_and_ci_for_onefold</span><span class="p">(</span><span class="n">one_fold</span><span class="p">,</span> <span class="n">colnames</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Calculates the Delta median between multi and single in a one_fold dataframe</span>
<span class="sd">    The delta median is calculated for one colname. </span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">single</span><span class="p">,</span> <span class="n">multi</span> <span class="o">=</span> <span class="n">one_fold</span><span class="p">[</span><span class="n">one_fold</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;single&#39;</span><span class="p">],</span> <span class="n">one_fold</span><span class="p">[</span><span class="n">one_fold</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;multiple&#39;</span><span class="p">]</span> 
    <span class="n">boot_ci</span> <span class="o">=</span> <span class="n">extract_and_bca_deltamedianintervals</span><span class="p">(</span><span class="n">colnames</span><span class="p">,</span> <span class="n">single</span><span class="p">,</span> <span class="n">multi</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">boot_ci</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id='wholeaudioanalysis'></a></p>
<h2 id="Whole-audio-analysis">Whole audio analysis<a class="anchor-link" href="#Whole-audio-analysis">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[403]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># let&#39;s load the spit-measure data from the whole audio analysis </span>
<span class="n">obs_splitmeasure</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../annotation_audio_analysis/analysis/obs_nonsilent_measurements_20dBthreshold_wcentdomfreqs.csv&#39;</span><span class="p">)</span>
<span class="n">virt_splitmeasure</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../annotation_audio_analysis/analysis/virt_nonsilent_measurement_20dBthreshold_wcentdomfreqs.csv&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>Let us take a look at the number of files across group sizes here:
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[404]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">by_numbatsfilename</span>  <span class="o">=</span> <span class="n">obs_splitmeasure</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span><span class="s1">&#39;file_name&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[405]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">numbats</span> <span class="o">=</span> <span class="p">[</span> <span class="n">gpsize</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">gpsize</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">by_numbatsfilename</span><span class="p">]</span>
<span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">numbats</span><span class="p">,</span> <span class="n">return_counts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[405]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>(array([1., 2., 3., 4.]), array([236,  71,  18,   6]))</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We see the same kind of sample size skew towards single bats. To keep comparability with the individual call analysis - let us combine all $\geq$2 bat cases into one 'multi-bat' group.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[406]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">grouplabel</span>  <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="s1">&#39;single&#39;</span><span class="p">,</span>
               <span class="mi">2</span><span class="p">:</span><span class="s1">&#39;multiple&#39;</span><span class="p">,</span>
               <span class="mi">3</span><span class="p">:</span><span class="s1">&#39;multiple&#39;</span><span class="p">,</span>
               <span class="mi">4</span><span class="p">:</span><span class="s1">&#39;multiple&#39;</span><span class="p">}</span>

<span class="n">obs_splitmeasure</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obs_splitmeasure</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">X</span><span class="p">:</span> <span class="n">grouplabel</span><span class="p">[</span><span class="n">X</span><span class="p">[</span><span class="s1">&#39;num_bats&#39;</span><span class="p">]],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">virt_splitmeasure</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;multiple_virtual&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id='dominantfreqs'></a></p>
<h3 id="Comparing-dominant-frequencies">Comparing dominant frequencies<a class="anchor-link" href="#Comparing-dominant-frequencies">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[407]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_domfreqs</span> <span class="o">=</span> <span class="n">obs_splitmeasure</span><span class="p">[</span><span class="n">obs_splitmeasure</span><span class="p">[</span><span class="s1">&#39;measurement&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;dominant_frequencies&#39;</span><span class="p">]</span>
<span class="n">obs_domfreqs</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">0.001</span> <span class="c1"># convert to kHz</span>
<span class="n">virt_domfreqs</span> <span class="o">=</span> <span class="n">virt_splitmeasure</span><span class="p">[</span><span class="n">virt_splitmeasure</span><span class="p">[</span><span class="s1">&#39;measurement&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;dominant_frequencies&#39;</span><span class="p">]</span>
<span class="n">virt_domfreqs</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">0.001</span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/ipykernel_launcher.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  
/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/ipykernel_launcher.py:4: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  after removing the cwd from sys.path.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[408]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="s1">&#39;groupsize&#39;</span><span class="p">,</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">obs_domfreqs</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Dominant frequency, kHz&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Group size&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





<div id="09153525-c7f0-4faa-8242-16735a30021a"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#09153525-c7f0-4faa-8242-16735a30021a');
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    // Apply a ponyfill if ResizeObserver is not implemented by browser.
    if (this.ResizeObserver === undefined) {
        if (window.ResizeObserver !== undefined) {
            this.ResizeObserver = window.ResizeObserver;
        } else {
            var obs = _JSXTOOLS_RESIZE_OBSERVER({});
            this.ResizeObserver = obs.ResizeObserver;
        }
    }

    this.resizeObserverInstance = new this.ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    this.resizeObserverInstance.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};

///////////////// REMAINING CONTENT GENERATED BY embed_js.py /////////////////
// prettier-ignore
var _JSXTOOLS_RESIZE_OBSERVER=function(A){var t,i=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakMap,o=new Set;function s(e){if(!(this instanceof s))throw new TypeError("Constructor requires 'new' operator");i.set(this,e)}function h(){throw new TypeError("Function is not a constructor")}function c(e,t,i,n){e=0 in arguments?Number(arguments[0]):0,t=1 in arguments?Number(arguments[1]):0,i=2 in arguments?Number(arguments[2]):0,n=3 in arguments?Number(arguments[3]):0,this.right=(this.x=this.left=e)+(this.width=i),this.bottom=(this.y=this.top=t)+(this.height=n),Object.freeze(this)}function d(){t=requestAnimationFrame(d);var s=new WeakMap,p=new Set;o.forEach((function(t){r.get(t).forEach((function(i){var r=t instanceof window.SVGElement,o=a.get(t),d=r?0:parseFloat(o.paddingTop),f=r?0:parseFloat(o.paddingRight),l=r?0:parseFloat(o.paddingBottom),u=r?0:parseFloat(o.paddingLeft),g=r?0:parseFloat(o.borderTopWidth),m=r?0:parseFloat(o.borderRightWidth),w=r?0:parseFloat(o.borderBottomWidth),b=u+f,F=d+l,v=(r?0:parseFloat(o.borderLeftWidth))+m,W=g+w,y=r?0:t.offsetHeight-W-t.clientHeight,E=r?0:t.offsetWidth-v-t.clientWidth,R=b+v,z=F+W,M=r?t.width:parseFloat(o.width)-R-E,O=r?t.height:parseFloat(o.height)-z-y;if(n.has(t)){var k=n.get(t);if(k[0]===M&&k[1]===O)return}n.set(t,[M,O]);var S=Object.create(h.prototype);S.target=t,S.contentRect=new c(u,d,M,O),s.has(i)||(s.set(i,[]),p.add(i)),s.get(i).push(S)}))})),p.forEach((function(e){i.get(e).call(e,s.get(e),e)}))}return s.prototype.observe=function(i){if(i instanceof window.Element){r.has(i)||(r.set(i,new Set),o.add(i),a.set(i,window.getComputedStyle(i)));var n=r.get(i);n.has(this)||n.add(this),cancelAnimationFrame(t),t=requestAnimationFrame(d)}},s.prototype.unobserve=function(i){if(i instanceof window.Element&&r.has(i)){var n=r.get(i);n.has(this)&&(n.delete(this),n.size||(r.delete(i),o.delete(i))),n.size||r.delete(i),o.size||cancelAnimationFrame(t)}},A.DOMRectReadOnly=c,A.ResizeObserver=s,A.ResizeObserverEntry=h,A}; // eslint-disable-line
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.on(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );
    fig.resizeObserverInstance.unobserve(fig.canvas_div);

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    if (event.target !== this) {
        // Ignore bubbled events from children.
        return;
    }
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div id='727f2c7c-0ede-466f-bfa9-d95f6fbc3986'></div>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/_decorators.py:43: FutureWarning: Pass the following variables as keyword args: x, y. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  FutureWarning
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[408]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Text(0.5, 0, &#39;Group size&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There're some dominant frequencies which don't come from the CF components. This is because in some calls, the FM components are stronger than the CF components. Let's filter out all dominant frequencies below 100 kHz.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[409]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_domfreqs</span>  <span class="o">=</span> <span class="n">obs_domfreqs</span><span class="p">[</span><span class="n">obs_domfreqs</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">100</span><span class="p">]</span>
<span class="n">virt_domfreqs</span> <span class="o">=</span> <span class="n">virt_domfreqs</span><span class="p">[</span><span class="n">virt_domfreqs</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">100</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[410]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="s1">&#39;groupsize&#39;</span><span class="p">,</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">obs_domfreqs</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Dominant frequency, kHz&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Group size&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





<div id="486a03f4-0737-46f9-9ec0-cdf1aa0dc5ee"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#486a03f4-0737-46f9-9ec0-cdf1aa0dc5ee');
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    // Apply a ponyfill if ResizeObserver is not implemented by browser.
    if (this.ResizeObserver === undefined) {
        if (window.ResizeObserver !== undefined) {
            this.ResizeObserver = window.ResizeObserver;
        } else {
            var obs = _JSXTOOLS_RESIZE_OBSERVER({});
            this.ResizeObserver = obs.ResizeObserver;
        }
    }

    this.resizeObserverInstance = new this.ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    this.resizeObserverInstance.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};

///////////////// REMAINING CONTENT GENERATED BY embed_js.py /////////////////
// prettier-ignore
var _JSXTOOLS_RESIZE_OBSERVER=function(A){var t,i=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakMap,o=new Set;function s(e){if(!(this instanceof s))throw new TypeError("Constructor requires 'new' operator");i.set(this,e)}function h(){throw new TypeError("Function is not a constructor")}function c(e,t,i,n){e=0 in arguments?Number(arguments[0]):0,t=1 in arguments?Number(arguments[1]):0,i=2 in arguments?Number(arguments[2]):0,n=3 in arguments?Number(arguments[3]):0,this.right=(this.x=this.left=e)+(this.width=i),this.bottom=(this.y=this.top=t)+(this.height=n),Object.freeze(this)}function d(){t=requestAnimationFrame(d);var s=new WeakMap,p=new Set;o.forEach((function(t){r.get(t).forEach((function(i){var r=t instanceof window.SVGElement,o=a.get(t),d=r?0:parseFloat(o.paddingTop),f=r?0:parseFloat(o.paddingRight),l=r?0:parseFloat(o.paddingBottom),u=r?0:parseFloat(o.paddingLeft),g=r?0:parseFloat(o.borderTopWidth),m=r?0:parseFloat(o.borderRightWidth),w=r?0:parseFloat(o.borderBottomWidth),b=u+f,F=d+l,v=(r?0:parseFloat(o.borderLeftWidth))+m,W=g+w,y=r?0:t.offsetHeight-W-t.clientHeight,E=r?0:t.offsetWidth-v-t.clientWidth,R=b+v,z=F+W,M=r?t.width:parseFloat(o.width)-R-E,O=r?t.height:parseFloat(o.height)-z-y;if(n.has(t)){var k=n.get(t);if(k[0]===M&&k[1]===O)return}n.set(t,[M,O]);var S=Object.create(h.prototype);S.target=t,S.contentRect=new c(u,d,M,O),s.has(i)||(s.set(i,[]),p.add(i)),s.get(i).push(S)}))})),p.forEach((function(e){i.get(e).call(e,s.get(e),e)}))}return s.prototype.observe=function(i){if(i instanceof window.Element){r.has(i)||(r.set(i,new Set),o.add(i),a.set(i,window.getComputedStyle(i)));var n=r.get(i);n.has(this)||n.add(this),cancelAnimationFrame(t),t=requestAnimationFrame(d)}},s.prototype.unobserve=function(i){if(i instanceof window.Element&&r.has(i)){var n=r.get(i);n.has(this)&&(n.delete(this),n.size||(r.delete(i),o.delete(i))),n.size||r.delete(i),o.size||cancelAnimationFrame(t)}},A.DOMRectReadOnly=c,A.ResizeObserver=s,A.ResizeObserverEntry=h,A}; // eslint-disable-line
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.on(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );
    fig.resizeObserverInstance.unobserve(fig.canvas_div);

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    if (event.target !== this) {
        // Ignore bubbled events from children.
        return;
    }
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div id='dfff8bad-4799-435b-8ff9-64873b2e333d'></div>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>/home/tbeleyur/anaconda2/envs/mhbc/lib/python3.7/site-packages/seaborn/_decorators.py:43: FutureWarning: Pass the following variables as keyword args: x, y. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
  FutureWarning
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[410]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Text(0.5, 0, &#39;Group size&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Do-bats-try-to-separate-or-converge-in-their-CF-frequencies?">Do bats try to separate or converge in their CF frequencies?<a class="anchor-link" href="#Do-bats-try-to-separate-or-converge-in-their-CF-frequencies?">&#182;</a></h3><p>We will answer this by looking at the observed differences between the highest and lower dominant frequencies (min-max range) across windows and across recordings.</p>
<p>Each audio recording is a snapshot of one set of encounters - and thus is the unit of analysis. We will perform two analyses:</p>
<ol>
<li><p>Recording-level  dominant frequency difference: Bats may respond to each other over the course of a whole audio recording. To assess this, we quantify the min-max range between dominant frequencies across all windows in an audio file.</p>
</li>
<li><p>Window-level dominant frequency difference: Bats may respond to each other's calls rapidly over the course of a few milliseconds. To quantify this we choose the min-max range between dominant frequencies observed in a window of an audio file.</p>
</li>
</ol>
<p>Of course there may be cases where the largest file difference is the same as the window-level difference (eg. when the largest difference occurs only in one window of the file, or when only one window in a file is non-silent). This is an attempt at analysis the difference at two temporal levels, but the analyses do not happen at completely independent levels!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Largest-recording-level-dominant-frequency-differences:">Largest recording level dominant frequency differences:<a class="anchor-link" href="#Largest-recording-level-dominant-frequency-differences:">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[411]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">extract_largest_interwindow_difference</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Outputs the largest difference between measurements across multiple segments in a file. </span>
<span class="sd">    The input datframe is expected to contain measurements from multiple segments of one file only. </span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    df : pd.DataFrame </span>
<span class="sd">        With compulsory columns: value, measurement, file_name</span>
<span class="sd">    Return</span>
<span class="sd">    ------</span>
<span class="sd">    rec_level_range : pd.DataFrame</span>
<span class="sd">        With columns : file_value_range, measurement, file_name, num_bats, groupsize</span>
<span class="sd">        </span>
<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    If a file only has one segment and there is only one measured value - a np.nan </span>
<span class="sd">    is returned in the &#39;file_value_range&#39;</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
        <span class="n">range_value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="n">range_value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
    <span class="n">rec_level_range</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;file_value_range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">range_value</span><span class="p">]})</span>

    <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;measurement&#39;</span><span class="p">,</span><span class="s1">&#39;file_name&#39;</span><span class="p">,</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]:</span>
        <span class="n">rec_level_range</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">each</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">each</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">rec_level_range</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[412]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obsdomfreq_byfilename</span> <span class="o">=</span> <span class="n">obs_domfreqs</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;file_name&#39;</span><span class="p">])</span>
<span class="n">virtdomfreq_by_filename</span> <span class="o">=</span> <span class="n">virt_domfreqs</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;file_name&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[413]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_reclevel_domfreq_range</span> <span class="o">=</span> <span class="n">obsdomfreq_byfilename</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">extract_largest_interwindow_difference</span><span class="p">)</span>
<span class="n">virt_reclevel_domfreq_range</span> <span class="o">=</span> <span class="n">virtdomfreq_by_filename</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">extract_largest_interwindow_difference</span><span class="p">)</span>
<span class="n">virt_reclevel_domfreq_range</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;multiple_virtual&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[414]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obsvirt_reclevel_domfreq_range</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">((</span><span class="n">obs_reclevel_domfreq_range</span><span class="p">,</span> <span class="n">virt_reclevel_domfreq_range</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[415]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;groupsize&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;file_value_range&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">obsvirt_reclevel_domfreq_range</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





<div id="74a337ad-1c64-4362-b639-c722201b024e"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#74a337ad-1c64-4362-b639-c722201b024e');
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    // Apply a ponyfill if ResizeObserver is not implemented by browser.
    if (this.ResizeObserver === undefined) {
        if (window.ResizeObserver !== undefined) {
            this.ResizeObserver = window.ResizeObserver;
        } else {
            var obs = _JSXTOOLS_RESIZE_OBSERVER({});
            this.ResizeObserver = obs.ResizeObserver;
        }
    }

    this.resizeObserverInstance = new this.ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    this.resizeObserverInstance.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};

///////////////// REMAINING CONTENT GENERATED BY embed_js.py /////////////////
// prettier-ignore
var _JSXTOOLS_RESIZE_OBSERVER=function(A){var t,i=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakMap,o=new Set;function s(e){if(!(this instanceof s))throw new TypeError("Constructor requires 'new' operator");i.set(this,e)}function h(){throw new TypeError("Function is not a constructor")}function c(e,t,i,n){e=0 in arguments?Number(arguments[0]):0,t=1 in arguments?Number(arguments[1]):0,i=2 in arguments?Number(arguments[2]):0,n=3 in arguments?Number(arguments[3]):0,this.right=(this.x=this.left=e)+(this.width=i),this.bottom=(this.y=this.top=t)+(this.height=n),Object.freeze(this)}function d(){t=requestAnimationFrame(d);var s=new WeakMap,p=new Set;o.forEach((function(t){r.get(t).forEach((function(i){var r=t instanceof window.SVGElement,o=a.get(t),d=r?0:parseFloat(o.paddingTop),f=r?0:parseFloat(o.paddingRight),l=r?0:parseFloat(o.paddingBottom),u=r?0:parseFloat(o.paddingLeft),g=r?0:parseFloat(o.borderTopWidth),m=r?0:parseFloat(o.borderRightWidth),w=r?0:parseFloat(o.borderBottomWidth),b=u+f,F=d+l,v=(r?0:parseFloat(o.borderLeftWidth))+m,W=g+w,y=r?0:t.offsetHeight-W-t.clientHeight,E=r?0:t.offsetWidth-v-t.clientWidth,R=b+v,z=F+W,M=r?t.width:parseFloat(o.width)-R-E,O=r?t.height:parseFloat(o.height)-z-y;if(n.has(t)){var k=n.get(t);if(k[0]===M&&k[1]===O)return}n.set(t,[M,O]);var S=Object.create(h.prototype);S.target=t,S.contentRect=new c(u,d,M,O),s.has(i)||(s.set(i,[]),p.add(i)),s.get(i).push(S)}))})),p.forEach((function(e){i.get(e).call(e,s.get(e),e)}))}return s.prototype.observe=function(i){if(i instanceof window.Element){r.has(i)||(r.set(i,new Set),o.add(i),a.set(i,window.getComputedStyle(i)));var n=r.get(i);n.has(this)||n.add(this),cancelAnimationFrame(t),t=requestAnimationFrame(d)}},s.prototype.unobserve=function(i){if(i instanceof window.Element&&r.has(i)){var n=r.get(i);n.has(this)&&(n.delete(this),n.size||(r.delete(i),o.delete(i))),n.size||r.delete(i),o.size||cancelAnimationFrame(t)}},A.DOMRectReadOnly=c,A.ResizeObserver=s,A.ResizeObserverEntry=h,A}; // eslint-disable-line
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.on(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );
    fig.resizeObserverInstance.unobserve(fig.canvas_div);

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    if (event.target !== this) {
        // Ignore bubbled events from children.
        return;
    }
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div id='0093a085-c6f3-433c-aa0a-b70649b9c806'></div>
</div>

</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[415]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&lt;AxesSubplot:xlabel=&#39;groupsize&#39;, ylabel=&#39;file_value_range&#39;&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As expected, the overall across-file difference in dominant frequencies is lower than that seen in observed and virtual multi-bat recordings.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[416]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">obsvirt_reclevel_domfreq_range</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;groupsize&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="s1">&#39;single&#39;</span><span class="p">)[</span><span class="s1">&#39;file_value_range&#39;</span><span class="p">],</span>
                <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[416]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([0.02, 1.  , 2.86])</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="The-origin-of-the-variation-in-single-bat-dominant-frequencies:">The origin of the variation in single bat dominant frequencies:<a class="anchor-link" href="#The-origin-of-the-variation-in-single-bat-dominant-frequencies:">&#182;</a></h3><p>The variation in dominant frequencies has two sources:</p>

<pre><code>1. The Doppler shift compensation of the bat itself.
1. The Doppler shift recorded at the mic as the bat flies past it. 
</code></pre>
<p>The Doppler shift compensation of the bat varies according to whether it changes its own flight speed from the start to slowing down as it approaches the roosting site.</p>
<p>The Doppler shift recorded at the mic initially increases as the bat flies closing to the mic, and then decreases as it moves past the mic.</p>
<p>Let us calculate the approximate expected shifts and check if the match what we see.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="doppler_shift_schematic.png" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The overall difference expected is the difference between $F_{rec}$ at the starting velocity and $F_{rec}$ at the end velocity.</p>
<p>The start relative flight angle is set at 45 degrees, and the end relative flight angle is set at 135  degrees.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[417]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">dopp_factor</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="mi">330</span><span class="o">+</span><span class="n">v</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">330</span><span class="o">-</span><span class="n">v</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">non_straight_dopp_shift_at_mic</span><span class="p">(</span><span class="n">fe</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">angle</span><span class="p">):</span>
    <span class="n">non_straight_factor</span> <span class="o">=</span> <span class="mi">330</span><span class="o">/</span><span class="p">(</span><span class="mi">330</span><span class="o">-</span><span class="n">v</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">angle</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">fe</span><span class="o">*</span><span class="n">non_straight_factor</span>
    

<span class="k">def</span> <span class="nf">calc_frec_difference</span><span class="p">(</span><span class="n">Fo</span><span class="p">,</span> <span class="n">vstart</span><span class="p">,</span><span class="n">vend</span><span class="p">):</span>
    <span class="n">fe_start</span> <span class="o">=</span> <span class="n">Fo</span><span class="o">/</span><span class="n">dopp_factor</span><span class="p">(</span><span class="n">vstart</span><span class="p">)</span>
    <span class="n">frec_start</span> <span class="o">=</span> <span class="n">non_straight_dopp_shift_at_mic</span><span class="p">(</span><span class="n">fe_start</span><span class="p">,</span> <span class="n">vstart</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
    
    <span class="n">fe_end</span> <span class="o">=</span> <span class="n">Fo</span><span class="o">/</span><span class="n">dopp_factor</span><span class="p">(</span><span class="n">vend</span><span class="p">)</span>
    <span class="n">frec_end</span> <span class="o">=</span> <span class="n">non_straight_dopp_shift_at_mic</span><span class="p">(</span><span class="n">fe_end</span><span class="p">,</span> <span class="n">vend</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="n">frec_end</span><span class="o">-</span><span class="n">frec_start</span><span class="p">),</span> <span class="p">{</span><span class="s1">&#39;frec_start&#39;</span><span class="p">:</span><span class="n">frec_start</span><span class="p">,</span> <span class="s1">&#39;frec_end&#39;</span><span class="p">:</span><span class="n">frec_end</span><span class="p">,</span> <span class="s1">&#39;fe_start&#39;</span><span class="p">:</span><span class="n">fe_start</span><span class="p">,</span> <span class="s1">&#39;fe_end&#39;</span><span class="p">:</span><span class="n">fe_end</span><span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's see what is the range of expected $\Delta$ dominant frequencies in a single bat audio if the bats at various values of $F_{o}, v_{start}, v_{end}$</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[418]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">Fo</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">111</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">3</span>
<span class="n">v_start</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">4.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">v_end</span> <span class="o">=</span> <span class="n">v_start</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">all_diffs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">one_fo</span> <span class="ow">in</span> <span class="n">Fo</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">one_vstart</span> <span class="ow">in</span> <span class="n">v_start</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">one_vend</span> <span class="ow">in</span> <span class="n">v_end</span><span class="p">:</span>
            <span class="n">diff</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">calc_frec_difference</span><span class="p">(</span><span class="n">one_fo</span><span class="p">,</span> <span class="n">one_vstart</span><span class="p">,</span> <span class="n">one_vend</span><span class="p">)</span>
            <span class="n">all_diffs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>
<span class="c1"># convert to kHz</span>
<span class="n">all_diffs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">all_diffs</span><span class="p">)</span><span class="o">*</span><span class="mf">0.001</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[419]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">observed_diffs</span> <span class="o">=</span> <span class="n">obsvirt_reclevel_domfreq_range</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;groupsize&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="s1">&#39;single&#39;</span><span class="p">)[</span><span class="s1">&#39;file_value_range&#39;</span><span class="p">]</span>
<span class="n">observed_diffs</span> <span class="o">=</span> <span class="n">observed_diffs</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">observed_diffs</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[420]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">violinplot</span><span class="p">([</span><span class="n">all_diffs</span><span class="p">,</span><span class="n">observed_diffs</span><span class="p">]);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Calculated&#39;</span><span class="p">,</span> <span class="s1">&#39;Observed&#39;</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Expected dominant frequency difference, kHz&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





<div id="2dbf43f2-85a4-4821-aff3-727be62903be"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#2dbf43f2-85a4-4821-aff3-727be62903be');
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    // Apply a ponyfill if ResizeObserver is not implemented by browser.
    if (this.ResizeObserver === undefined) {
        if (window.ResizeObserver !== undefined) {
            this.ResizeObserver = window.ResizeObserver;
        } else {
            var obs = _JSXTOOLS_RESIZE_OBSERVER({});
            this.ResizeObserver = obs.ResizeObserver;
        }
    }

    this.resizeObserverInstance = new this.ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    this.resizeObserverInstance.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};

///////////////// REMAINING CONTENT GENERATED BY embed_js.py /////////////////
// prettier-ignore
var _JSXTOOLS_RESIZE_OBSERVER=function(A){var t,i=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakMap,o=new Set;function s(e){if(!(this instanceof s))throw new TypeError("Constructor requires 'new' operator");i.set(this,e)}function h(){throw new TypeError("Function is not a constructor")}function c(e,t,i,n){e=0 in arguments?Number(arguments[0]):0,t=1 in arguments?Number(arguments[1]):0,i=2 in arguments?Number(arguments[2]):0,n=3 in arguments?Number(arguments[3]):0,this.right=(this.x=this.left=e)+(this.width=i),this.bottom=(this.y=this.top=t)+(this.height=n),Object.freeze(this)}function d(){t=requestAnimationFrame(d);var s=new WeakMap,p=new Set;o.forEach((function(t){r.get(t).forEach((function(i){var r=t instanceof window.SVGElement,o=a.get(t),d=r?0:parseFloat(o.paddingTop),f=r?0:parseFloat(o.paddingRight),l=r?0:parseFloat(o.paddingBottom),u=r?0:parseFloat(o.paddingLeft),g=r?0:parseFloat(o.borderTopWidth),m=r?0:parseFloat(o.borderRightWidth),w=r?0:parseFloat(o.borderBottomWidth),b=u+f,F=d+l,v=(r?0:parseFloat(o.borderLeftWidth))+m,W=g+w,y=r?0:t.offsetHeight-W-t.clientHeight,E=r?0:t.offsetWidth-v-t.clientWidth,R=b+v,z=F+W,M=r?t.width:parseFloat(o.width)-R-E,O=r?t.height:parseFloat(o.height)-z-y;if(n.has(t)){var k=n.get(t);if(k[0]===M&&k[1]===O)return}n.set(t,[M,O]);var S=Object.create(h.prototype);S.target=t,S.contentRect=new c(u,d,M,O),s.has(i)||(s.set(i,[]),p.add(i)),s.get(i).push(S)}))})),p.forEach((function(e){i.get(e).call(e,s.get(e),e)}))}return s.prototype.observe=function(i){if(i instanceof window.Element){r.has(i)||(r.set(i,new Set),o.add(i),a.set(i,window.getComputedStyle(i)));var n=r.get(i);n.has(this)||n.add(this),cancelAnimationFrame(t),t=requestAnimationFrame(d)}},s.prototype.unobserve=function(i){if(i instanceof window.Element&&r.has(i)){var n=r.get(i);n.has(this)&&(n.delete(this),n.size||(r.delete(i),o.delete(i))),n.size||r.delete(i),o.size||cancelAnimationFrame(t)}},A.DOMRectReadOnly=c,A.ResizeObserver=s,A.ResizeObserverEntry=h,A}; // eslint-disable-line
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.on(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );
    fig.resizeObserverInstance.unobserve(fig.canvas_div);

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    if (event.target !== this) {
        // Ignore bubbled events from children.
        return;
    }
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div id='54474b0c-ce29-4a5a-b188-3e6c5f133112'></div>
</div>

</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[420]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Text(0, 0.5, &#39;Expected dominant frequency difference, kHz&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can see that the calculated dominant frequency difference in a single bat fly-by matches the expected values. The calculated values were generated from realistic parameters based on the dataset itself, with flight speeds between 1.5-3.5 m/s, and acoustic foveas ranging between 100-110 kHz.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[421]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">extract_largest_intrawindow_difference</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Outputs the largest difference between measurements within one segment in a file. </span>
<span class="sd">    The input datframe is expected to contain measurements from one segment of one file only. </span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    df : pd.DataFrame </span>
<span class="sd">        With compulsory columns: value, measurement, file_name</span>
<span class="sd">    Return</span>
<span class="sd">    ------</span>
<span class="sd">    maxintrawindow_range : pd.DataFrame</span>
<span class="sd">        With columns : file_value_range, measurement, segment_number, file_name, num_bats, groupsize</span>
<span class="sd">        </span>
<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    If a file only has one segment and there is only one measured value - a np.nan </span>
<span class="sd">    is returned in the &#39;file_value_range&#39;</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">intra_window_diffs</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="n">by_segnum</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;segment_number&#39;</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">segnum</span><span class="p">,</span> <span class="n">subdf</span> <span class="ow">in</span> <span class="n">by_segnum</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">subdf</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">range_value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmax</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmin</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span> 
            <span class="n">range_value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="n">intra_window_diffs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">range_value</span><span class="p">)</span>
        
    
    <span class="n">maxintrawindow_range</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;intrawindow_range&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">intra_window_diffs</span><span class="p">)]})</span>

    <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;measurement&#39;</span><span class="p">,</span><span class="s1">&#39;file_name&#39;</span><span class="p">,</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span><span class="s1">&#39;groupsize&#39;</span><span class="p">,</span><span class="s1">&#39;segment_number&#39;</span><span class="p">]:</span>
        <span class="n">maxintrawindow_range</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">each</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">each</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">maxintrawindow_range</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[422]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_intrawinlevel_domfreq_range</span> <span class="o">=</span> <span class="n">obsdomfreq_byfilename</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">extract_largest_intrawindow_difference</span><span class="p">)</span>
<span class="n">virt_intrawinlevel_domfreq_range</span> <span class="o">=</span> <span class="n">virtdomfreq_by_filename</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">extract_largest_intrawindow_difference</span><span class="p">)</span>
<span class="n">virt_intrawinlevel_domfreq_range</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;multiple_virtual&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[423]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obsvirt_intrawindow_domfreq_range</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">((</span><span class="n">obs_intrawinlevel_domfreq_range</span><span class="p">,</span> <span class="n">virt_intrawinlevel_domfreq_range</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[424]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;groupsize&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;intrawindow_range&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">obsvirt_intrawindow_domfreq_range</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





<div id="1c9fdb2c-a6de-4d56-a93a-2b74035bc261"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#1c9fdb2c-a6de-4d56-a93a-2b74035bc261');
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    // Apply a ponyfill if ResizeObserver is not implemented by browser.
    if (this.ResizeObserver === undefined) {
        if (window.ResizeObserver !== undefined) {
            this.ResizeObserver = window.ResizeObserver;
        } else {
            var obs = _JSXTOOLS_RESIZE_OBSERVER({});
            this.ResizeObserver = obs.ResizeObserver;
        }
    }

    this.resizeObserverInstance = new this.ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    this.resizeObserverInstance.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};

///////////////// REMAINING CONTENT GENERATED BY embed_js.py /////////////////
// prettier-ignore
var _JSXTOOLS_RESIZE_OBSERVER=function(A){var t,i=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakMap,o=new Set;function s(e){if(!(this instanceof s))throw new TypeError("Constructor requires 'new' operator");i.set(this,e)}function h(){throw new TypeError("Function is not a constructor")}function c(e,t,i,n){e=0 in arguments?Number(arguments[0]):0,t=1 in arguments?Number(arguments[1]):0,i=2 in arguments?Number(arguments[2]):0,n=3 in arguments?Number(arguments[3]):0,this.right=(this.x=this.left=e)+(this.width=i),this.bottom=(this.y=this.top=t)+(this.height=n),Object.freeze(this)}function d(){t=requestAnimationFrame(d);var s=new WeakMap,p=new Set;o.forEach((function(t){r.get(t).forEach((function(i){var r=t instanceof window.SVGElement,o=a.get(t),d=r?0:parseFloat(o.paddingTop),f=r?0:parseFloat(o.paddingRight),l=r?0:parseFloat(o.paddingBottom),u=r?0:parseFloat(o.paddingLeft),g=r?0:parseFloat(o.borderTopWidth),m=r?0:parseFloat(o.borderRightWidth),w=r?0:parseFloat(o.borderBottomWidth),b=u+f,F=d+l,v=(r?0:parseFloat(o.borderLeftWidth))+m,W=g+w,y=r?0:t.offsetHeight-W-t.clientHeight,E=r?0:t.offsetWidth-v-t.clientWidth,R=b+v,z=F+W,M=r?t.width:parseFloat(o.width)-R-E,O=r?t.height:parseFloat(o.height)-z-y;if(n.has(t)){var k=n.get(t);if(k[0]===M&&k[1]===O)return}n.set(t,[M,O]);var S=Object.create(h.prototype);S.target=t,S.contentRect=new c(u,d,M,O),s.has(i)||(s.set(i,[]),p.add(i)),s.get(i).push(S)}))})),p.forEach((function(e){i.get(e).call(e,s.get(e),e)}))}return s.prototype.observe=function(i){if(i instanceof window.Element){r.has(i)||(r.set(i,new Set),o.add(i),a.set(i,window.getComputedStyle(i)));var n=r.get(i);n.has(this)||n.add(this),cancelAnimationFrame(t),t=requestAnimationFrame(d)}},s.prototype.unobserve=function(i){if(i instanceof window.Element&&r.has(i)){var n=r.get(i);n.has(this)&&(n.delete(this),n.size||(r.delete(i),o.delete(i))),n.size||r.delete(i),o.size||cancelAnimationFrame(t)}},A.DOMRectReadOnly=c,A.ResizeObserver=s,A.ResizeObserverEntry=h,A}; // eslint-disable-line
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.on(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );
    fig.resizeObserverInstance.unobserve(fig.canvas_div);

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    if (event.target !== this) {
        // Ignore bubbled events from children.
        return;
    }
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div id='af263e04-8229-4c22-8829-f0ca389558d6'></div>
</div>

</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[424]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&lt;AxesSubplot:xlabel=&#39;groupsize&#39;, ylabel=&#39;intrawindow_range&#39;&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[425]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">af</span> <span class="o">=</span> <span class="n">obsvirt_intrawindow_domfreq_range</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;groupsize&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="s1">&#39;single&#39;</span><span class="p">)</span>
<span class="n">af</span><span class="p">[</span><span class="n">af</span><span class="p">[</span><span class="s1">&#39;intrawindow_range&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[425]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>intrawindow_range</th>
      <th>measurement</th>
      <th>file_name</th>
      <th>num_bats</th>
      <th>groupsize</th>
      <th>segment_number</th>
    </tr>
    <tr>
      <th>file_name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>matching_annotaudio_Aditya_2018-08-19_0120-0200_113_hp.WAV</th>
      <th>0</th>
      <td>1.02</td>
      <td>dominant_frequencies</td>
      <td>matching_annotaudio_Aditya_2018-08-19_0120-020...</td>
      <td>1.0</td>
      <td>single</td>
      <td>6.0</td>
    </tr>
    <tr>
      <th>matching_annotaudio_Aditya_2018-08-19_0120-0200_18_hp.WAV</th>
      <th>0</th>
      <td>1.36</td>
      <td>dominant_frequencies</td>
      <td>matching_annotaudio_Aditya_2018-08-19_0120-020...</td>
      <td>1.0</td>
      <td>single</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This sudden drop in the number of data points are because in most windows there is only one dominant frequency. In the few cases where there are multiple dominant frequencies it can clearly be seen that even here, single bat windows have a much lower range than multi bat windows.</p>
<p>The ~1.5 kHz intra-window difference in single-bat calls is likely due to faint calls from other bats, thought I'm not sure!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[426]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obsvirt_reclevel_domfreq_range</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[426]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>file_value_range</th>
      <th>measurement</th>
      <th>file_name</th>
      <th>num_bats</th>
      <th>groupsize</th>
    </tr>
    <tr>
      <th>file_name</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>matching_annotaudio_Aditya_2018-08-16_21502300_100_hp.WAV</th>
      <th>0</th>
      <td>0.95</td>
      <td>dominant_frequencies</td>
      <td>matching_annotaudio_Aditya_2018-08-16_21502300...</td>
      <td>1.0</td>
      <td>single</td>
    </tr>
    <tr>
      <th>matching_annotaudio_Aditya_2018-08-16_21502300_101_hp.WAV</th>
      <th>0</th>
      <td>0.87</td>
      <td>dominant_frequencies</td>
      <td>matching_annotaudio_Aditya_2018-08-16_21502300...</td>
      <td>1.0</td>
      <td>single</td>
    </tr>
    <tr>
      <th>matching_annotaudio_Aditya_2018-08-16_21502300_102_hp.WAV</th>
      <th>0</th>
      <td>0.02</td>
      <td>dominant_frequencies</td>
      <td>matching_annotaudio_Aditya_2018-08-16_21502300...</td>
      <td>1.0</td>
      <td>single</td>
    </tr>
    <tr>
      <th>matching_annotaudio_Aditya_2018-08-16_21502300_104_hp.WAV</th>
      <th>0</th>
      <td>1.77</td>
      <td>dominant_frequencies</td>
      <td>matching_annotaudio_Aditya_2018-08-16_21502300...</td>
      <td>1.0</td>
      <td>single</td>
    </tr>
    <tr>
      <th>matching_annotaudio_Aditya_2018-08-16_21502300_108_hp.WAV</th>
      <th>0</th>
      <td>2.49</td>
      <td>dominant_frequencies</td>
      <td>matching_annotaudio_Aditya_2018-08-16_21502300...</td>
      <td>2.0</td>
      <td>multiple</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>matching_annotaudio_Aditya_2018-08-20_0200-0300_43_hp_singlebatmixed.WAV</th>
      <th>0</th>
      <td>3.60</td>
      <td>dominant_frequencies</td>
      <td>matching_annotaudio_Aditya_2018-08-20_0200-030...</td>
      <td>2.0</td>
      <td>multiple_virtual</td>
    </tr>
    <tr>
      <th>matching_annotaudio_Aditya_2018-08-20_0200-0300_66_hp_singlebatmixed.WAV</th>
      <th>0</th>
      <td>1.16</td>
      <td>dominant_frequencies</td>
      <td>matching_annotaudio_Aditya_2018-08-20_0200-030...</td>
      <td>2.0</td>
      <td>multiple_virtual</td>
    </tr>
    <tr>
      <th>matching_annotaudio_Aditya_2018-08-20_0200-0300_73_hp_singlebatmixed.WAV</th>
      <th>0</th>
      <td>1.50</td>
      <td>dominant_frequencies</td>
      <td>matching_annotaudio_Aditya_2018-08-20_0200-030...</td>
      <td>2.0</td>
      <td>multiple_virtual</td>
    </tr>
    <tr>
      <th>matching_annotaudio_Aditya_2018-08-20_0200-0300_78_hp_singlebatmixed.WAV</th>
      <th>0</th>
      <td>3.10</td>
      <td>dominant_frequencies</td>
      <td>matching_annotaudio_Aditya_2018-08-20_0200-030...</td>
      <td>2.0</td>
      <td>multiple_virtual</td>
    </tr>
    <tr>
      <th>matching_annotaudio_Aditya_2018-08-20_0200-0300_92_hp_singlebatmixed.WAV</th>
      <th>0</th>
      <td>6.16</td>
      <td>dominant_frequencies</td>
      <td>matching_annotaudio_Aditya_2018-08-20_0200-030...</td>
      <td>2.0</td>
      <td>multiple_virtual</td>
    </tr>
  </tbody>
</table>
<p>413 rows × 5 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="The-median-difference-between-interval-separated-dominant-frequency-measurements">The median difference between interval-separated dominant frequency measurements<a class="anchor-link" href="#The-median-difference-between-interval-separated-dominant-frequency-measurements">&#182;</a></h3><p>Now let's repeat the time-separation exercise now perform <em>two</em> comparisons of median difference, multi-single and multi-virtual multi.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[427]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">make_video_annot_id</span><span class="p">(</span><span class="n">X</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">X</span><span class="p">[</span><span class="mi">20</span><span class="p">:</span><span class="o">-</span><span class="mi">7</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">annotation_endtime_failure_tolerant</span><span class="p">(</span><span class="n">X</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">annot_end_time</span> <span class="o">=</span> <span class="n">icf</span><span class="o">.</span><span class="n">get_end_time_from_annotation_id</span><span class="p">([</span><span class="n">X</span><span class="p">],</span> <span class="n">video_annotations_folder</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">annot_end_time</span> <span class="o">=</span>  <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
    <span class="k">return</span> <span class="n">annot_end_time</span>

<span class="k">def</span> <span class="nf">posix_time_failure_tolerant</span><span class="p">(</span><span class="n">X</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">output</span> <span class="o">=</span>  <span class="n">icf</span><span class="o">.</span><span class="n">convert_annotation_time_to_posix</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
    <span class="k">return</span> <span class="n">output</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[428]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obsvirt_reclevel_domfreq_range</span><span class="p">[</span><span class="s1">&#39;video_annot_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obsvirt_reclevel_domfreq_range</span><span class="p">[</span><span class="s1">&#39;file_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">make_video_annot_id</span><span class="p">)</span>
<span class="n">obsvirt_reclevel_domfreq_range</span><span class="p">[</span><span class="s1">&#39;annotation_end_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obsvirt_reclevel_domfreq_range</span><span class="p">[</span><span class="s1">&#39;video_annot_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">annotation_endtime_failure_tolerant</span><span class="p">)</span>
<span class="n">obsvirt_reclevel_domfreq_range</span><span class="p">[</span><span class="s1">&#39;posix_end_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obsvirt_reclevel_domfreq_range</span><span class="p">[</span><span class="s1">&#39;annotation_end_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">posix_time_failure_tolerant</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[429]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">split_into_multisingle_and_multivirtualmulti</span><span class="p">(</span><span class="n">obsvirt</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Splits a combined dataset with virtual and observed data</span>
<span class="sd">    into 2 combinations: multi-single and multi-virtual multi</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    obsvirt : pd.DatFrame</span>
<span class="sd">        with columns &#39;groupsize&#39;</span>
<span class="sd">        The &#39;groupsize&#39; column may not have any entries other than &#39;single&#39; or &#39;multiple&#39;</span>
<span class="sd">    </span>
<span class="sd">    Returns </span>
<span class="sd">    -------</span>
<span class="sd">    obs_singlemulti_df, multi_virtmulti_df</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">obs_singlemulti_rows</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_or</span><span class="p">(</span><span class="n">obsvirt</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;single&#39;</span><span class="p">,</span>
                                    <span class="n">obsvirt</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;multiple&#39;</span><span class="p">)</span>
    <span class="n">obs_singlemulti_df</span> <span class="o">=</span> <span class="n">obsvirt</span><span class="p">[</span><span class="n">obs_singlemulti_rows</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    
    <span class="n">multi_virtmulti_rows</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logical_or</span><span class="p">(</span><span class="n">obsvirt</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;multiple&#39;</span><span class="p">,</span>
                                        <span class="n">obsvirt</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;multiple_virtual&#39;</span><span class="p">)</span>
    <span class="n">multi_virtmulti_df</span> <span class="o">=</span> <span class="n">obsvirt</span><span class="p">[</span><span class="n">multi_virtmulti_rows</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    
    <span class="k">return</span> <span class="n">obs_singlemulti_df</span><span class="p">,</span> <span class="n">multi_virtmulti_df</span>


<span class="k">def</span> <span class="nf">make_singlemulti_interval_datafolds</span><span class="p">(</span><span class="n">singlemulti</span><span class="p">,</span> <span class="n">intervals</span><span class="p">,</span> <span class="n">N_runs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    singlemulti : pd.DataFrame</span>
<span class="sd">        DataFrame with single and multi bat measurements. </span>
<span class="sd">        The dataframe must contain one column with &#39;posix_end_time&#39;</span>
<span class="sd">    </span>
<span class="sd">    intervals : list</span>
<span class="sd">        The various time intervals at which annotations are to be randomly chosen in seconds. </span>
<span class="sd">    N_runs : int</span>
<span class="sd">        The number of runs to be made to get unique data folds with annotations spaced by </span>
<span class="sd">        the minimum interval. </span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    singlemulti_datafolds : dictionary</span>
<span class="sd">        The key is the interval durations, and the entry is a list with data folds in the form </span>
<span class="sd">        of DataFrames. </span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">singlemulti_datafold_indices</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">separation</span> <span class="ow">in</span> <span class="n">intervals</span><span class="p">:</span>
        <span class="n">singlemulti_datafold_indices</span><span class="p">[</span><span class="n">separation</span><span class="p">]</span> <span class="o">=</span> <span class="n">annots_by_time</span><span class="o">.</span><span class="n">generate_time_separated_folds</span><span class="p">(</span><span class="n">singlemulti</span><span class="p">[</span><span class="s1">&#39;posix_end_time&#39;</span><span class="p">],</span> 
                                                         <span class="n">separation</span><span class="p">,</span><span class="n">num_runs</span><span class="o">=</span><span class="n">N_runs</span><span class="p">)</span>
    <span class="n">singlemulti_datafolds</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">sep</span><span class="p">,</span> <span class="n">inds</span> <span class="ow">in</span> <span class="n">singlemulti_datafold_indices</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">singlemulti_datafolds</span><span class="p">[</span><span class="n">sep</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">inds</span><span class="p">:</span>
            <span class="n">singlemulti_datafolds</span><span class="p">[</span><span class="n">sep</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">singlemulti</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">each</span><span class="p">,:]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">singlemulti_datafolds</span>

<span class="k">def</span> <span class="nf">make_multivirtualmulti_interval_datafolds</span><span class="p">(</span><span class="n">multivirtmulti</span><span class="p">,</span> <span class="n">intervals</span><span class="p">,</span> <span class="n">N_runs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    The challenge here is that the virtual multi audio doesn&#39;t have a time stamp associated with it. </span>
<span class="sd">    We will do the following. </span>
<span class="sd">    Generate time-interval separated multiple bat annotation folds. For each fold, we will associate </span>
<span class="sd">    a randomly chosen set of virtual audio measurements that match the sample size of the multi bat </span>
<span class="sd">    data. </span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">only_multi</span> <span class="o">=</span> <span class="n">multivirtmulti</span><span class="p">[</span><span class="n">multivirtmulti</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;multiple&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">only_multi_folds</span> <span class="o">=</span> <span class="n">make_singlemulti_interval_datafolds</span><span class="p">(</span><span class="n">only_multi</span><span class="p">,</span> <span class="n">intervals</span><span class="p">,</span> <span class="n">N_runs</span><span class="p">)</span>
    <span class="n">only_virtual</span> <span class="o">=</span> <span class="n">multivirtmulti</span><span class="p">[</span><span class="n">multivirtmulti</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;multiple_virtual&#39;</span><span class="p">]</span>
    
    <span class="n">multi_virtmulti_folds</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">for</span> <span class="n">interval</span><span class="p">,</span> <span class="n">datafolds</span> <span class="ow">in</span> <span class="n">only_multi_folds</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">multi_virtmulti_folds</span><span class="p">[</span><span class="n">interval</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">datafolds</span><span class="p">:</span>
            <span class="n">num_rows</span>  <span class="o">=</span> <span class="n">each</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">virtual_subset</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">only_virtual</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">num_rows</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">virtual_subset_df</span> <span class="o">=</span> <span class="n">only_virtual</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">virtual_subset</span><span class="p">,:]</span>
            <span class="n">multi_virtmulti_folds</span><span class="p">[</span><span class="n">interval</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">((</span><span class="n">each</span><span class="p">,</span><span class="n">virtual_subset_df</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">multi_virtmulti_folds</span>

<span class="k">def</span> <span class="nf">get_multiplevirtualmultiple_deltamedians</span><span class="p">(</span><span class="n">data_folds</span><span class="p">,</span> <span class="n">colnames</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Parameter</span>
<span class="sd">    ---------</span>
<span class="sd">    data_folds : list</span>
<span class="sd">        List with pd.DataFrames containing the call measurement folds. </span>
<span class="sd">        Each data fold DataFrame must contain the column names in colnames, </span>
<span class="sd">        along with the column &#39;groupsize&#39;. The groupsize column can have </span>
<span class="sd">        two entries only -  &#39;multiple&#39; and &#39;virtual_multiple&#39;</span>
<span class="sd">    colnames : list</span>
<span class="sd">        List with column names that are to be used. </span>
<span class="sd">        </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    </span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">delta_median</span> <span class="o">=</span> <span class="p">{</span><span class="nb">str</span><span class="p">(</span><span class="n">each</span><span class="p">):[]</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">colnames</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">colnames</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">data_folds</span><span class="p">:</span>
            <span class="n">by_groupsize</span> <span class="o">=</span> <span class="n">each</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;groupsize&#39;</span><span class="p">)</span>
            <span class="n">multi</span> <span class="o">=</span> <span class="n">by_groupsize</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="s1">&#39;multiple&#39;</span><span class="p">)</span>
            <span class="n">virtmulti</span> <span class="o">=</span> <span class="n">by_groupsize</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="s1">&#39;multiple_virtual&#39;</span><span class="p">)</span>

            <span class="n">delta_median</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nanmedian</span><span class="p">(</span><span class="n">multi</span><span class="p">[</span><span class="n">column</span><span class="p">])</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">nanmedian</span><span class="p">(</span><span class="n">virtmulti</span><span class="p">[</span><span class="n">column</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">delta_median</span>


     
<span class="k">def</span> <span class="nf">get_multivirtmulti_95pctile_deltamedians</span><span class="p">(</span><span class="n">data_folds</span><span class="p">,</span> <span class="n">colnames</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Returns the 95%ile of the delta median for each column, and the number of folds </span>
<span class="sd">    used to calculate the percentile interval.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">deltamedian_95pctile</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="n">delta_medians</span> <span class="o">=</span> <span class="n">get_multiplevirtualmultiple_deltamedians</span><span class="p">(</span><span class="n">data_folds</span><span class="p">,</span> <span class="n">colnames</span><span class="p">)</span>
    <span class="c1"># get 95%ile for each parameters</span>
    
    <span class="k">for</span> <span class="n">colname</span><span class="p">,</span> <span class="n">data_values</span> <span class="ow">in</span> <span class="n">delta_medians</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">deltamedian_95pctile</span><span class="p">[</span><span class="n">colname</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">data_values</span><span class="p">,</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mf">97.5</span><span class="p">])</span>
    <span class="n">deltamedian_95pctile</span><span class="p">[</span><span class="s1">&#39;num_folds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_folds</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">deltamedian_95pctile</span>


<span class="k">def</span> <span class="nf">get_multisingle_95pctile_deltamedians</span><span class="p">(</span><span class="n">data_folds</span><span class="p">,</span> <span class="n">colnames</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Returns the 95%ile of the delta median for each column, and the number of folds </span>
<span class="sd">    used to calculate the percentile interval.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">deltamedian_95pctile</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="n">get_deltamed_and_ci_for_onefold</span><span class="p">(</span><span class="n">on</span><span class="p">)</span>
    <span class="c1"># get 95%ile for each parameters</span>
    
    <span class="k">for</span> <span class="n">colname</span><span class="p">,</span> <span class="n">data_values</span> <span class="ow">in</span> <span class="n">delta_medians</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">deltamedian_95pctile</span><span class="p">[</span><span class="n">colname</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanpercentile</span><span class="p">(</span><span class="n">data_values</span><span class="p">,</span> <span class="p">[</span><span class="mf">2.5</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mf">97.5</span><span class="p">])</span>
    <span class="n">deltamedian_95pctile</span><span class="p">[</span><span class="s1">&#39;num_folds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_folds</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">deltamedian_95pctile</span>


<span class="k">def</span> <span class="nf">produce_95ci_df</span><span class="p">(</span><span class="n">singlemulti_datafolds</span><span class="p">,</span> <span class="n">multivirtmulti_datafolds</span><span class="p">,</span> <span class="n">colnames</span><span class="p">,</span> <span class="n">intervals</span><span class="p">):</span>
    <span class="n">multvirtmulti_95ci</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">singlemulti_95ci</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">sep</span> <span class="ow">in</span> <span class="n">intervals</span><span class="p">:</span>
        <span class="n">multivirtmulti_out</span> <span class="o">=</span> <span class="n">get_multivirtmulti_95pctile_deltamedians</span><span class="p">(</span><span class="n">multivirtmulti_datafolds</span><span class="p">[</span><span class="n">sep</span><span class="p">],</span>
                                                                          <span class="n">colnames</span><span class="p">)</span>
        <span class="n">multivirtmulti_out</span><span class="p">[</span><span class="s1">&#39;interval&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">sep</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">multvirtmulti_95ci</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">multivirtmulti_out</span><span class="p">))</span>

        <span class="n">singlemulti_out</span> <span class="o">=</span> <span class="n">get_multisingle_95pctile_deltamedians</span><span class="p">(</span><span class="n">singlemulti_datafolds</span><span class="p">[</span><span class="n">sep</span><span class="p">],</span>
                                                                          <span class="n">colnames</span><span class="p">)</span>
        <span class="n">singlemulti_out</span><span class="p">[</span><span class="s1">&#39;interval&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">sep</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">singlemulti_95ci</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">singlemulti_out</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">singlemulti_95ci</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">multvirtmulti_95ci</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[430]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_singlemulti_domfreq</span><span class="p">,</span> <span class="n">multivirtmulti_domfreq</span> <span class="o">=</span> <span class="n">split_into_multisingle_and_multivirtualmulti</span><span class="p">(</span><span class="n">obsvirt_reclevel_domfreq_range</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[431]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="n">singlemulti_domfreq_datafolds</span> <span class="o">=</span> <span class="n">make_singlemulti_interval_datafolds</span><span class="p">(</span><span class="n">obs_singlemulti_domfreq</span><span class="p">,</span>
                                                                    <span class="n">time_intervals_seconds</span><span class="p">,</span>
                                                                    <span class="mi">2500</span><span class="p">)</span>
<span class="n">multivirtmulti_domfreq_datafolds</span> <span class="o">=</span> <span class="n">make_multivirtualmulti_interval_datafolds</span><span class="p">(</span><span class="n">multivirtmulti_domfreq</span><span class="p">,</span>
                                                                            <span class="n">time_intervals_seconds</span><span class="p">,</span>
                                                                            <span class="mi">2500</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 1min 54s, sys: 25.2 ms, total: 1min 54s
Wall time: 1min 54s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[470]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">characterise_samplesizes</span><span class="p">(</span><span class="n">datafolds</span><span class="p">):</span>
    <span class="n">group1</span><span class="p">,</span> <span class="n">group2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">datafolds</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;groupsize&#39;</span><span class="p">])</span>
    
    <span class="n">samplesizes</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">samplesizes</span><span class="p">[</span><span class="n">group1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">samplesizes</span><span class="p">[</span><span class="n">group2</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">each_fold</span> <span class="ow">in</span> <span class="n">datafolds</span><span class="p">:</span>
        <span class="n">groupids</span><span class="p">,</span> <span class="n">counts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">each_fold</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">],</span> <span class="n">return_counts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">samplesizes</span><span class="p">[</span><span class="n">groupids</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">counts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">samplesizes</span><span class="p">[</span><span class="n">groupids</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">counts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    
    <span class="n">summarised_samplesizes</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">for</span> <span class="n">groupid</span><span class="p">,</span> <span class="n">N</span>  <span class="ow">in</span> <span class="n">samplesizes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">summarised_samplesizes</span><span class="p">[</span><span class="n">groupid</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span>
        <span class="n">summarised_samplesizes</span><span class="p">[</span><span class="n">groupid</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">])</span>
    
    <span class="k">return</span> <span class="n">samplesizes</span><span class="p">,</span><span class="n">summarised_samplesizes</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Characterising-the-sample-sizes-for-the-$\Delta$-median-comparisons">Characterising the sample sizes for the $\Delta$ median comparisons<a class="anchor-link" href="#Characterising-the-sample-sizes-for-the-$\Delta$-median-comparisons">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[474]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">_</span><span class="p">,</span> <span class="n">su</span> <span class="o">=</span> <span class="n">characterise_samplesizes</span><span class="p">(</span><span class="n">singlemulti_domfreq_datafolds</span><span class="p">[</span><span class="mi">60</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
<span class="n">_</span><span class="p">,</span> <span class="n">su</span> <span class="o">=</span> <span class="n">characterise_samplesizes</span><span class="p">(</span><span class="n">singlemulti_domfreq_datafolds</span><span class="p">[</span><span class="mi">900</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;multiple&#39;: array([32., 34.]), &#39;single&#39;: array([119., 121.])}
{&#39;multiple&#39;: array([12., 14.]), &#39;single&#39;: array([30., 32.])}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[479]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">_</span><span class="p">,</span> <span class="n">su</span> <span class="o">=</span> <span class="n">characterise_samplesizes</span><span class="p">(</span><span class="n">multivirtmulti_domfreq_datafolds</span><span class="p">[</span><span class="mi">60</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
<span class="n">_</span><span class="p">,</span> <span class="n">su</span> <span class="o">=</span> <span class="n">characterise_samplesizes</span><span class="p">(</span><span class="n">multivirtmulti_domfreq_datafolds</span><span class="p">[</span><span class="mi">900</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;multiple&#39;: array([48., 48.]), &#39;multiple_virtual&#39;: array([48., 48.])}
{&#39;multiple&#39;: array([20., 20.]), &#39;multiple_virtual&#39;: array([20., 20.])}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, in general we see that multi bat audio has an overall increased bandwidth of ~3 kHz in comparison to single bat bandwidth. An overall increase is expected just because there are multiple calls, but how much is explained ?</p>
<p>Let's simulate a situation where pairs of bats with different Fe's and flight speeds fly together and estimate what the bandiwidth is expected to be.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[433]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># store the max-min difference resulting from each param combination </span>

<span class="n">maxmin_diff</span> <span class="o">=</span> <span class="p">{</span><span class="n">each</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;v_start&#39;</span><span class="p">,</span><span class="s1">&#39;v_end&#39;</span><span class="p">,</span><span class="s1">&#39;Fo&#39;</span><span class="p">,</span><span class="s1">&#39;diff&#39;</span><span class="p">,</span><span class="s1">&#39;frec_start&#39;</span><span class="p">,</span><span class="s1">&#39;frec_end&#39;</span><span class="p">]}</span>

<span class="k">for</span> <span class="n">one_fo</span> <span class="ow">in</span> <span class="n">Fo</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">one_vstart</span> <span class="ow">in</span> <span class="n">v_start</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">one_vend</span> <span class="ow">in</span> <span class="n">v_end</span><span class="p">:</span>
            <span class="n">diff</span><span class="p">,</span> <span class="n">details</span> <span class="o">=</span> <span class="n">calc_frec_difference</span><span class="p">(</span><span class="n">one_fo</span><span class="p">,</span> <span class="n">one_vstart</span><span class="p">,</span> <span class="n">one_vend</span><span class="p">)</span>
            <span class="n">maxmin_diff</span><span class="p">[</span><span class="s1">&#39;diff&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">diff</span><span class="o">*</span><span class="mf">0.001</span><span class="p">)</span>
            <span class="n">maxmin_diff</span><span class="p">[</span><span class="s1">&#39;v_start&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">one_vstart</span><span class="p">)</span>
            <span class="n">maxmin_diff</span><span class="p">[</span><span class="s1">&#39;v_end&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">one_vend</span><span class="p">)</span>
            <span class="n">maxmin_diff</span><span class="p">[</span><span class="s1">&#39;Fo&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">one_fo</span><span class="o">*</span><span class="mf">0.001</span><span class="p">)</span>
            <span class="n">maxmin_diff</span><span class="p">[</span><span class="s1">&#39;frec_start&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s1">&#39;frec_start&#39;</span><span class="p">])</span>
            <span class="n">maxmin_diff</span><span class="p">[</span><span class="s1">&#39;frec_end&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">details</span><span class="p">[</span><span class="s1">&#39;frec_end&#39;</span><span class="p">])</span>

<span class="c1"># convert to kHz</span>
<span class="n">diff_param_combis</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">maxmin_diff</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's simulate the expected min-max difference when 2 bats with different Fo's are randomly chosen with different flight speeds.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[434]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">simulate_2bats_freq_diff_at_mic</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">by_fo</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Fo&#39;</span><span class="p">)</span>
    <span class="c1"># choose two Fo&#39;s to represent 2 bats</span>
    <span class="n">two_Fos</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">by_fo</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span><span class="mi">2</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">two_Fo_dfs</span> <span class="o">=</span> <span class="p">[</span> <span class="n">by_fo</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="n">each</span><span class="p">)</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">two_Fos</span><span class="p">]</span>
    
    <span class="n">random_rows</span> <span class="o">=</span> <span class="p">[</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">each_fo</span><span class="o">.</span><span class="n">index</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>  <span class="k">for</span> <span class="n">each_fo</span> <span class="ow">in</span> <span class="n">two_Fo_dfs</span><span class="p">]</span>
    <span class="n">frecs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_num</span><span class="p">,:]</span>  <span class="k">for</span> <span class="n">row_num</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">random_rows</span><span class="p">,</span> <span class="n">two_Fo_dfs</span><span class="p">)],</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
    
    <span class="n">only_freqs</span> <span class="o">=</span> <span class="n">frecs</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="s1">&#39;frec_start&#39;</span><span class="p">,</span><span class="s1">&#39;frec_end&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span> <span class="c1">#.to_list()</span>
    <span class="n">overall_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">only_freqs</span><span class="p">)</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">only_freqs</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">frecs</span><span class="p">,</span> <span class="n">overall_diff</span><span class="o">*</span><span class="mf">0.001</span>
    
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[435]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sim_multibat_domfreq_diff</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">_</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">simulate_2bats_freq_diff_at_mic</span><span class="p">(</span><span class="n">diff_param_combis</span><span class="p">)</span>
    <span class="n">sim_multibat_domfreq_diff</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[436]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># save all the lists into a nice dataframe for the plotting notebook </span>
<span class="n">all_values</span> <span class="o">=</span> <span class="p">(</span><span class="n">observed_diffs</span><span class="p">,</span><span class="n">all_diffs</span><span class="p">,</span><span class="n">sim_multibat_domfreq_diff</span><span class="p">)</span>
<span class="n">domfreq_ranges</span> <span class="o">=</span> <span class="p">{}</span>

<span class="n">domfreq_ranges</span><span class="p">[</span><span class="s1">&#39;domfreq_range&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="n">all_values</span><span class="p">)</span>
<span class="n">domfreq_ranges</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">each</span><span class="p">))</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span><span class="n">each</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="s1">&#39;observed&#39;</span><span class="p">,</span><span class="s1">&#39;sim_single&#39;</span><span class="p">,</span><span class="s1">&#39;sim_multi&#39;</span><span class="p">],</span><span class="n">all_values</span><span class="p">)])</span>
<span class="n">domfreq_ranges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">domfreq_ranges</span><span class="p">)</span>
<span class="n">domfreq_ranges</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;domfreqranges_calculated_simulated.csv&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[437]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="c1">#plt.violinplot(overall_freq_diff)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">violinplot</span><span class="p">([</span><span class="n">all_diffs</span><span class="p">,</span><span class="n">observed_diffs</span><span class="p">,</span><span class="n">sim_multibat_domfreq_diff</span><span class="p">],</span> <span class="n">showextrema</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
              <span class="n">quantiles</span><span class="o">=</span><span class="p">[[</span><span class="mf">0.025</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.975</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;Simulated</span><span class="se">\n</span><span class="s1">Single&#39;</span><span class="p">,</span><span class="s1">&#39;Observed</span><span class="se">\n</span><span class="s1">Single&#39;</span><span class="p">,</span><span class="s1">&#39;Simulated</span><span class="se">\n</span><span class="s1">2 bats&#39;</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Dominant frequency range (max-min), kHz&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">],[</span><span class="mf">0.1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
<span class="c1"># now make the delta medians</span>
<span class="n">obs_sim_singlebat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">each</span><span class="p">)</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="p">[</span><span class="n">observed_diffs</span><span class="p">,</span><span class="n">sim_multibat_domfreq_diff</span><span class="p">]])</span>
<span class="n">obs_sim_low</span><span class="p">,</span> <span class="n">obs_sim_hight</span> <span class="o">=</span> <span class="n">obs_sim_singlebat</span>
<span class="n">median_diff_obs_multisim</span> <span class="o">=</span> <span class="s1">&#39;$\Delta median$ = &#39;</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">float</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">obs_sim_singlebat</span><span class="p">))</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="mf">2.5</span><span class="p">,</span><span class="n">obs_sim_low</span><span class="p">,</span> <span class="n">obs_sim_hight</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">2.4</span><span class="p">,</span><span class="n">obs_sim_low</span><span class="p">,</span><span class="n">median_diff_obs_multisim</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>

<span class="c1"># </span>
<span class="n">obs_sim_singlebat</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">each</span><span class="p">)</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="p">[</span><span class="n">observed_diffs</span><span class="p">,</span><span class="n">all_diffs</span><span class="p">]])</span>
<span class="n">obs_sim_low</span><span class="p">,</span> <span class="n">obs_sim_hight</span> <span class="o">=</span> <span class="n">obs_sim_singlebat</span>
<span class="n">median_diff_obs_multisim</span> <span class="o">=</span> <span class="s1">&#39;$\Delta median$ = &#39;</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">float</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">obs_sim_singlebat</span><span class="p">))</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">&#39;</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span><span class="n">obs_sim_low</span><span class="p">,</span> <span class="n">obs_sim_hight</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">1.4</span><span class="p">,</span><span class="n">obs_sim_low</span><span class="p">,</span><span class="n">median_diff_obs_multisim</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





<div id="dfd9912d-4734-428f-b4e4-aa8b75768970"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#dfd9912d-4734-428f-b4e4-aa8b75768970');
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    // Apply a ponyfill if ResizeObserver is not implemented by browser.
    if (this.ResizeObserver === undefined) {
        if (window.ResizeObserver !== undefined) {
            this.ResizeObserver = window.ResizeObserver;
        } else {
            var obs = _JSXTOOLS_RESIZE_OBSERVER({});
            this.ResizeObserver = obs.ResizeObserver;
        }
    }

    this.resizeObserverInstance = new this.ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    this.resizeObserverInstance.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};

///////////////// REMAINING CONTENT GENERATED BY embed_js.py /////////////////
// prettier-ignore
var _JSXTOOLS_RESIZE_OBSERVER=function(A){var t,i=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakMap,o=new Set;function s(e){if(!(this instanceof s))throw new TypeError("Constructor requires 'new' operator");i.set(this,e)}function h(){throw new TypeError("Function is not a constructor")}function c(e,t,i,n){e=0 in arguments?Number(arguments[0]):0,t=1 in arguments?Number(arguments[1]):0,i=2 in arguments?Number(arguments[2]):0,n=3 in arguments?Number(arguments[3]):0,this.right=(this.x=this.left=e)+(this.width=i),this.bottom=(this.y=this.top=t)+(this.height=n),Object.freeze(this)}function d(){t=requestAnimationFrame(d);var s=new WeakMap,p=new Set;o.forEach((function(t){r.get(t).forEach((function(i){var r=t instanceof window.SVGElement,o=a.get(t),d=r?0:parseFloat(o.paddingTop),f=r?0:parseFloat(o.paddingRight),l=r?0:parseFloat(o.paddingBottom),u=r?0:parseFloat(o.paddingLeft),g=r?0:parseFloat(o.borderTopWidth),m=r?0:parseFloat(o.borderRightWidth),w=r?0:parseFloat(o.borderBottomWidth),b=u+f,F=d+l,v=(r?0:parseFloat(o.borderLeftWidth))+m,W=g+w,y=r?0:t.offsetHeight-W-t.clientHeight,E=r?0:t.offsetWidth-v-t.clientWidth,R=b+v,z=F+W,M=r?t.width:parseFloat(o.width)-R-E,O=r?t.height:parseFloat(o.height)-z-y;if(n.has(t)){var k=n.get(t);if(k[0]===M&&k[1]===O)return}n.set(t,[M,O]);var S=Object.create(h.prototype);S.target=t,S.contentRect=new c(u,d,M,O),s.has(i)||(s.set(i,[]),p.add(i)),s.get(i).push(S)}))})),p.forEach((function(e){i.get(e).call(e,s.get(e),e)}))}return s.prototype.observe=function(i){if(i instanceof window.Element){r.has(i)||(r.set(i,new Set),o.add(i),a.set(i,window.getComputedStyle(i)));var n=r.get(i);n.has(this)||n.add(this),cancelAnimationFrame(t),t=requestAnimationFrame(d)}},s.prototype.unobserve=function(i){if(i instanceof window.Element&&r.has(i)){var n=r.get(i);n.has(this)&&(n.delete(this),n.size||(r.delete(i),o.delete(i))),n.size||r.delete(i),o.size||cancelAnimationFrame(t)}},A.DOMRectReadOnly=c,A.ResizeObserver=s,A.ResizeObserverEntry=h,A}; // eslint-disable-line
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.on(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );
    fig.resizeObserverInstance.unobserve(fig.canvas_div);

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    if (event.target !== this) {
        // Ignore bubbled events from children.
        return;
    }
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAHgCAYAAAA10dzkAAAgAElEQVR4nOzdeXxU1f0/fu4khIR9i6jIEsAoQkBQCtbKqlZBKkW7iFXQqmhR0aqtSxXQilaNooICtSpWxQ98saRicUvYRJBFIEgSspB9nySTZTKT2V6/P/gRjdln7j3nLq/n4/F+PEwGmcPcd3JeM/fec7qAiIiIiCyli+wBEBEREZFYDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMASERERGQxDIBEREREFsMAGAK/34/8/Hw4HA5UV1ezWCwWi8UyQDkcDuTn58Pv98uOEtIwAIYgPz8fXbp0YbFYLBaLZcDKz8+XHSWkYQAMgcPhaGwg2e9mWCwWi8VidazOfIDjcDhkRwlpGABDUF1djS5duqC6ulr2UIiIiKiDOH8zAIaEDURERGQ8nL8ZAEPCBiIiIjIezt8MgCFhAxERERkP528GwJCwgYiIiIyH87fAAJibm4uKiopWH6+vr0dubq6o4aiCDURERGQ8nL8FBkBFUdCzZ0988MEHLT7+/vvvw2aziRqOKthARERExsP5W3AAHD58OGw2Gx544IFmq28zABIREZEInL8FB8APPvgAL7zwAsLDwzFjxgyUlZU1Ps4ASERERCJw/pYQAAEgKSkJZ511FoYNG4ZDhw4BYAAkIiIiMTh/SwqAwOl9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" width="640">
</div>

</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[437]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>Text(1.4, 1.0, &#39;$\\Delta median$ = 0.21&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[438]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wholeaudio_domfreq_results_allfolds</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">each_sep</span><span class="p">,</span> <span class="n">datafolds</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">singlemulti_domfreq_datafolds</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>

    <span class="n">wholeaudio_domfreq_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">4</span><span class="p">)(</span><span class="n">delayed</span><span class="p">(</span><span class="n">produce_parsed_outputs_for_indcall_datafolds</span><span class="p">)(</span><span class="n">each</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;file_value_range&#39;</span><span class="p">])</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">datafolds</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">each</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">wholeaudio_domfreq_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]):</span>

        <span class="n">each</span><span class="p">[</span><span class="s1">&#39;fold_number&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>

    <span class="n">estimation_file_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">each_sep</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_seconds_interval_datafold_estimateddifferences_wholeaudio_domfreq_allfolds.csv&#39;</span>

    <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">wholeaudio_domfreq_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">])</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">estimation_file_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>  0%|          | 0/2 [00:00&lt;?, ?it/s]
  0%|          | 0/179 [00:00&lt;?, ?it/s]
  2%|▏         | 4/179 [00:00&lt;00:06, 25.72it/s]
  4%|▍         | 8/179 [00:10&lt;02:14,  1.27it/s]
  7%|▋         | 12/179 [00:16&lt;02:54,  1.05s/it]
  9%|▉         | 16/179 [00:22&lt;03:12,  1.18s/it]
 11%|█         | 20/179 [00:29&lt;03:24,  1.29s/it]
 13%|█▎        | 24/179 [00:35&lt;03:30,  1.36s/it]
 16%|█▌        | 28/179 [00:41&lt;03:31,  1.40s/it]
 18%|█▊        | 32/179 [00:47&lt;03:30,  1.43s/it]
 20%|██        | 36/179 [00:53&lt;03:28,  1.46s/it]
 22%|██▏       | 40/179 [00:59&lt;03:22,  1.46s/it]
 25%|██▍       | 44/179 [01:05&lt;03:18,  1.47s/it]
 27%|██▋       | 48/179 [01:10&lt;03:12,  1.47s/it]
 29%|██▉       | 52/179 [01:16&lt;03:06,  1.47s/it]
 31%|███▏      | 56/179 [01:22&lt;03:00,  1.47s/it]
 34%|███▎      | 60/179 [01:28&lt;02:57,  1.49s/it]
 36%|███▌      | 64/179 [01:34&lt;02:52,  1.50s/it]
 38%|███▊      | 68/179 [01:40&lt;02:46,  1.50s/it]
 40%|████      | 72/179 [01:46&lt;02:40,  1.50s/it]
 42%|████▏     | 76/179 [01:52&lt;02:34,  1.50s/it]
 45%|████▍     | 80/179 [01:59&lt;02:29,  1.51s/it]
 47%|████▋     | 84/179 [02:05&lt;02:25,  1.53s/it]
 49%|████▉     | 88/179 [02:11&lt;02:19,  1.53s/it]
 51%|█████▏    | 92/179 [02:17&lt;02:12,  1.53s/it]
 54%|█████▎    | 96/179 [02:23&lt;02:06,  1.53s/it]
 56%|█████▌    | 100/179 [02:29&lt;02:01,  1.53s/it]
 58%|█████▊    | 104/179 [02:35&lt;01:54,  1.53s/it]
 60%|██████    | 108/179 [02:42&lt;01:48,  1.53s/it]
 63%|██████▎   | 112/179 [02:48&lt;01:42,  1.53s/it]
 65%|██████▍   | 116/179 [02:54&lt;01:35,  1.52s/it]
 67%|██████▋   | 120/179 [03:00&lt;01:30,  1.54s/it]
 69%|██████▉   | 124/179 [03:06&lt;01:24,  1.53s/it]
 72%|███████▏  | 128/179 [03:12&lt;01:17,  1.52s/it]
 74%|███████▎  | 132/179 [03:18&lt;01:11,  1.52s/it]
 76%|███████▌  | 136/179 [03:24&lt;01:05,  1.52s/it]
 78%|███████▊  | 140/179 [03:30&lt;00:58,  1.50s/it]
 80%|████████  | 144/179 [03:36&lt;00:52,  1.50s/it]
 83%|████████▎ | 148/179 [03:42&lt;00:46,  1.49s/it]
 85%|████████▍ | 152/179 [03:48&lt;00:40,  1.50s/it]
 87%|████████▋ | 156/179 [03:54&lt;00:34,  1.50s/it]
 89%|████████▉ | 160/179 [04:00&lt;00:29,  1.53s/it]
 92%|█████████▏| 164/179 [04:06&lt;00:22,  1.52s/it]
 94%|█████████▍| 168/179 [04:12&lt;00:16,  1.51s/it]
 96%|█████████▌| 172/179 [04:18&lt;00:10,  1.51s/it]
100%|██████████| 179/179 [04:24&lt;00:00,  1.48s/it]
 50%|█████     | 1/2 [04:37&lt;04:37, 277.44s/it]
  0%|          | 0/288 [00:00&lt;?, ?it/s]
  3%|▎         | 8/288 [00:05&lt;03:29,  1.34it/s]
  4%|▍         | 12/288 [00:11&lt;04:26,  1.03it/s]
  6%|▌         | 16/288 [00:17&lt;05:03,  1.12s/it]
  7%|▋         | 20/288 [00:23&lt;05:25,  1.21s/it]
  8%|▊         | 24/288 [00:29&lt;05:42,  1.30s/it]
 10%|▉         | 28/288 [00:35&lt;05:51,  1.35s/it]
 11%|█         | 32/288 [00:41&lt;05:56,  1.39s/it]
 12%|█▎        | 36/288 [00:47&lt;05:54,  1.41s/it]
 14%|█▍        | 40/288 [00:52&lt;05:53,  1.42s/it]
 15%|█▌        | 44/288 [00:58&lt;05:50,  1.44s/it]
 17%|█▋        | 48/288 [01:04&lt;05:47,  1.45s/it]
 18%|█▊        | 52/288 [01:10&lt;05:43,  1.46s/it]
 19%|█▉        | 56/288 [01:16&lt;05:39,  1.46s/it]
 21%|██        | 60/288 [01:22&lt;05:36,  1.48s/it]
 22%|██▏       | 64/288 [01:28&lt;05:33,  1.49s/it]
 24%|██▎       | 68/288 [01:34&lt;05:28,  1.49s/it]
 25%|██▌       | 72/288 [01:40&lt;05:21,  1.49s/it]
 26%|██▋       | 76/288 [01:46&lt;05:13,  1.48s/it]
 28%|██▊       | 80/288 [01:53&lt;05:23,  1.55s/it]
 29%|██▉       | 84/288 [02:00&lt;05:37,  1.66s/it]
 31%|███       | 88/288 [02:08&lt;05:42,  1.71s/it]
 32%|███▏      | 92/288 [02:15&lt;05:38,  1.73s/it]
 33%|███▎      | 96/288 [02:21&lt;05:14,  1.64s/it]
 35%|███▍      | 100/288 [02:26&lt;04:55,  1.57s/it]
 36%|███▌      | 104/288 [02:32&lt;04:42,  1.54s/it]
 38%|███▊      | 108/288 [02:38&lt;04:32,  1.52s/it]
 39%|███▉      | 112/288 [02:44&lt;04:22,  1.49s/it]
 40%|████      | 116/288 [02:49&lt;04:13,  1.47s/it]
 42%|████▏     | 120/288 [02:55&lt;04:06,  1.47s/it]
 43%|████▎     | 124/288 [03:01&lt;04:00,  1.47s/it]
 44%|████▍     | 128/288 [03:07&lt;03:54,  1.47s/it]
 46%|████▌     | 132/288 [03:13&lt;03:49,  1.47s/it]
 47%|████▋     | 136/288 [03:19&lt;03:43,  1.47s/it]
 49%|████▊     | 140/288 [03:25&lt;03:39,  1.48s/it]
 50%|█████     | 144/288 [03:31&lt;03:31,  1.47s/it]
 51%|█████▏    | 148/288 [03:36&lt;03:25,  1.47s/it]
 53%|█████▎    | 152/288 [03:42&lt;03:19,  1.47s/it]
 54%|█████▍    | 156/288 [03:48&lt;03:13,  1.46s/it]
 56%|█████▌    | 160/288 [03:54&lt;03:07,  1.46s/it]
 57%|█████▋    | 164/288 [04:00&lt;03:01,  1.47s/it]
 58%|█████▊    | 168/288 [04:06&lt;02:56,  1.47s/it]
 60%|█████▉    | 172/288 [04:12&lt;02:49,  1.46s/it]
 61%|██████    | 176/288 [04:17&lt;02:43,  1.46s/it]
 62%|██████▎   | 180/288 [04:23&lt;02:38,  1.47s/it]
 64%|██████▍   | 184/288 [04:29&lt;02:32,  1.47s/it]
 65%|██████▌   | 188/288 [04:35&lt;02:26,  1.47s/it]
 67%|██████▋   | 192/288 [04:41&lt;02:20,  1.47s/it]
 68%|██████▊   | 196/288 [04:47&lt;02:15,  1.48s/it]
 69%|██████▉   | 200/288 [04:53&lt;02:09,  1.47s/it]
 71%|███████   | 204/288 [04:59&lt;02:03,  1.47s/it]
 72%|███████▏  | 208/288 [05:04&lt;01:57,  1.47s/it]
 74%|███████▎  | 212/288 [05:10&lt;01:51,  1.47s/it]
 75%|███████▌  | 216/288 [05:16&lt;01:46,  1.47s/it]
 76%|███████▋  | 220/288 [05:22&lt;01:41,  1.49s/it]
 78%|███████▊  | 224/288 [05:28&lt;01:34,  1.48s/it]
 79%|███████▉  | 228/288 [05:34&lt;01:28,  1.48s/it]
 81%|████████  | 232/288 [05:40&lt;01:22,  1.47s/it]
 82%|████████▏ | 236/288 [05:46&lt;01:15,  1.46s/it]
 83%|████████▎ | 240/288 [05:51&lt;01:09,  1.45s/it]
 85%|████████▍ | 244/288 [05:57&lt;01:04,  1.45s/it]
 86%|████████▌ | 248/288 [06:03&lt;00:58,  1.46s/it]
 88%|████████▊ | 252/288 [06:09&lt;00:52,  1.46s/it]
 89%|████████▉ | 256/288 [06:15&lt;00:46,  1.45s/it]
 90%|█████████ | 260/288 [06:20&lt;00:40,  1.46s/it]
 92%|█████████▏| 264/288 [06:26&lt;00:34,  1.45s/it]
 93%|█████████▎| 268/288 [06:32&lt;00:28,  1.45s/it]
 94%|█████████▍| 272/288 [06:38&lt;00:23,  1.45s/it]
 96%|█████████▌| 276/288 [06:44&lt;00:17,  1.46s/it]
 97%|█████████▋| 280/288 [06:50&lt;00:11,  1.47s/it]
 99%|█████████▊| 284/288 [06:56&lt;00:05,  1.47s/it]
100%|██████████| 288/288 [07:02&lt;00:00,  1.47s/it]
100%|██████████| 2/2 [11:49&lt;00:00, 354.97s/it]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[439]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wholeaudio_domfreq_multivirtmulti_results_allfolds</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">each_sep</span><span class="p">,</span> <span class="n">datafolds</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">multivirtmulti_domfreq_datafolds</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>

    <span class="n">wholeaudio_domfreq_multivirtmulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">4</span><span class="p">)(</span><span class="n">delayed</span><span class="p">(</span><span class="n">produce_parsed_outputs_for_indcall_datafolds</span><span class="p">)(</span><span class="n">each</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;file_value_range&#39;</span><span class="p">],</span><span class="n">idx</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;multiple_virtual&#39;</span><span class="p">,</span><span class="s1">&#39;multiple&#39;</span><span class="p">])</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">datafolds</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">each</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">wholeaudio_domfreq_multivirtmulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]):</span>

        <span class="n">each</span><span class="p">[</span><span class="s1">&#39;fold_number&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>

    <span class="n">estimation_file_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">each_sep</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_seconds_interval_datafold_estimateddifferences_wholeaudio_multivirtmulti_domfreq_allfolds.csv&#39;</span>

    <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">wholeaudio_domfreq_multivirtmulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">])</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">estimation_file_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>  0%|          | 0/2 [00:00&lt;?, ?it/s]
  0%|          | 0/48 [00:00&lt;?, ?it/s]
 17%|█▋        | 8/48 [00:06&lt;00:30,  1.32it/s]
 25%|██▌       | 12/48 [00:12&lt;00:35,  1.01it/s]
 33%|███▎      | 16/48 [00:18&lt;00:36,  1.15s/it]
 42%|████▏     | 20/48 [00:24&lt;00:34,  1.24s/it]
 50%|█████     | 24/48 [00:30&lt;00:31,  1.31s/it]
 58%|█████▊    | 28/48 [00:35&lt;00:27,  1.36s/it]
 67%|██████▋   | 32/48 [00:42&lt;00:22,  1.42s/it]
 75%|███████▌  | 36/48 [00:48&lt;00:17,  1.44s/it]
 83%|████████▎ | 40/48 [00:54&lt;00:11,  1.46s/it]
 92%|█████████▏| 44/48 [01:00&lt;00:05,  1.47s/it]
100%|██████████| 48/48 [01:06&lt;00:00,  1.38s/it]
 50%|█████     | 1/2 [01:13&lt;01:13, 73.10s/it]
  0%|          | 0/76 [00:00&lt;?, ?it/s]
 11%|█         | 8/76 [00:05&lt;00:49,  1.38it/s]
 16%|█▌        | 12/76 [00:11&lt;01:00,  1.05it/s]
 21%|██        | 16/76 [00:17&lt;01:06,  1.11s/it]
 26%|██▋       | 20/76 [00:23&lt;01:08,  1.22s/it]
 32%|███▏      | 24/76 [00:29&lt;01:07,  1.30s/it]
 37%|███▋      | 28/76 [00:35&lt;01:04,  1.35s/it]
 42%|████▏     | 32/76 [00:41&lt;01:01,  1.39s/it]
 47%|████▋     | 36/76 [00:47&lt;00:56,  1.42s/it]
 53%|█████▎    | 40/76 [00:53&lt;00:51,  1.43s/it]
 58%|█████▊    | 44/76 [00:59&lt;00:46,  1.46s/it]
 63%|██████▎   | 48/76 [01:04&lt;00:40,  1.45s/it]
 68%|██████▊   | 52/76 [01:10&lt;00:34,  1.45s/it]
 74%|███████▎  | 56/76 [01:16&lt;00:29,  1.46s/it]
 79%|███████▉  | 60/76 [01:22&lt;00:23,  1.47s/it]
 84%|████████▍ | 64/76 [01:28&lt;00:17,  1.47s/it]
 89%|████████▉ | 68/76 [01:34&lt;00:11,  1.47s/it]
 95%|█████████▍| 72/76 [01:40&lt;00:05,  1.48s/it]
100%|██████████| 76/76 [01:46&lt;00:00,  1.40s/it]
100%|██████████| 2/2 [03:06&lt;00:00, 93.40s/it]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id='receivedlevel'></a></p>
<h3 id="Received-level-comparisons">Received level comparisons<a class="anchor-link" href="#Received-level-comparisons">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here let us compare the received levels in dB rms across observed and virtual multi bats. First let us choose the loudest window for each audio file - and thus reduce the amount of noise in the dataset.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[440]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_rms</span> <span class="o">=</span> <span class="n">obs_splitmeasure</span><span class="p">[</span><span class="n">obs_splitmeasure</span><span class="p">[</span><span class="s1">&#39;measurement&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;rms&#39;</span><span class="p">]</span>
<span class="n">virt_rms</span> <span class="o">=</span> <span class="n">virt_splitmeasure</span><span class="p">[</span><span class="n">virt_splitmeasure</span><span class="p">[</span><span class="s1">&#39;measurement&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;rms&#39;</span><span class="p">]</span>

<span class="n">obsvirt_rms</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">obs_rms</span><span class="p">,</span> <span class="n">virt_rms</span><span class="p">])</span>
<span class="n">obsvirt_dbrms</span> <span class="o">=</span> <span class="n">obsvirt_rms</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">obsvirt_dbrms</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dB</span><span class="p">(</span><span class="n">obsvirt_dbrms</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[441]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obsvirt_dbrms</span><span class="p">[</span><span class="s1">&#39;video_annot_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obsvirt_dbrms</span><span class="p">[</span><span class="s1">&#39;file_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">make_video_annot_id</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[442]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="c1"># get all unique annot ids and make dictionary mapping their timestamps</span>
<span class="n">obsvirt_timestamps</span> <span class="o">=</span> <span class="p">{</span><span class="n">each</span> <span class="p">:</span> <span class="n">annotation_endtime_failure_tolerant</span><span class="p">(</span><span class="n">each</span><span class="p">)</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">obsvirt_dbrms</span><span class="p">[</span><span class="s1">&#39;video_annot_id&#39;</span><span class="p">])}</span>
<span class="n">obsvirt_dbrms</span><span class="p">[</span><span class="s1">&#39;annotation_end_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obsvirt_dbrms</span><span class="p">[</span><span class="s1">&#39;video_annot_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">X</span><span class="p">:</span> <span class="n">obsvirt_timestamps</span><span class="p">[</span><span class="n">X</span><span class="p">])</span>
<span class="n">obsvirt_dbrms</span><span class="p">[</span><span class="s1">&#39;posix_end_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obsvirt_dbrms</span><span class="p">[</span><span class="s1">&#39;annotation_end_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">posix_time_failure_tolerant</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 34.3 s, sys: 187 ms, total: 34.5 s
Wall time: 34.6 s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[443]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">make_singlemulti_datafolds</span><span class="p">(</span><span class="n">singlemulti_measure</span><span class="p">,</span> <span class="n">time_intervals</span><span class="p">,</span> <span class="n">n_runs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Handles multiple windows per audio file, and also generates time-separated data folds. </span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    singlemulti_measure</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    singlemulti_datafolds</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="n">singlemulti_datafold_indices</span><span class="o">=</span> <span class="p">{}</span>
    <span class="n">singlemulti_datafold_timestamps</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">singlemulti_unique_stamps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">singlemulti_measure</span><span class="p">[</span><span class="s1">&#39;posix_end_time&#39;</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">sep</span> <span class="ow">in</span> <span class="n">time_intervals</span><span class="p">:</span>
        <span class="n">singlemulti_datafold_indices</span><span class="p">[</span><span class="n">sep</span><span class="p">]</span>  <span class="o">=</span>  <span class="n">annots_by_time</span><span class="o">.</span><span class="n">generate_time_separated_folds</span><span class="p">(</span><span class="n">singlemulti_unique_stamps</span><span class="p">,</span> 
                                                             <span class="n">sep</span><span class="p">,</span><span class="n">num_runs</span><span class="o">=</span><span class="n">n_runs</span><span class="p">)</span>
        <span class="n">singlemulti_datafold_timestamps</span><span class="p">[</span><span class="n">sep</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">singlemulti_datafold_indices</span><span class="p">[</span><span class="n">sep</span><span class="p">]:</span>
            <span class="n">singlemulti_datafold_timestamps</span><span class="p">[</span><span class="n">sep</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">singlemulti_unique_stamps</span><span class="p">[</span><span class="n">each</span><span class="p">])</span>

    <span class="c1"># now make the folds by choosing all rows with the timestamps in the folds</span>
    <span class="n">singlemulti_datafolds</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">for</span> <span class="n">sep</span><span class="p">,</span> <span class="n">timestamp_folds</span> <span class="ow">in</span> <span class="n">singlemulti_datafold_timestamps</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">singlemulti_datafolds</span><span class="p">[</span><span class="n">sep</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">each_fold</span> <span class="ow">in</span> <span class="n">timestamp_folds</span><span class="p">:</span>
            <span class="n">datafold</span> <span class="o">=</span> <span class="n">singlemulti_measure</span><span class="p">[</span><span class="n">singlemulti_measure</span><span class="p">[</span><span class="s1">&#39;posix_end_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">each_fold</span><span class="p">)]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">singlemulti_datafolds</span><span class="p">[</span><span class="n">sep</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">datafold</span><span class="p">)</span>
            
    <span class="k">return</span> <span class="n">singlemulti_datafolds</span>

<span class="k">def</span> <span class="nf">make_multivirtmulti_datafolds</span><span class="p">(</span><span class="n">multivirtmulti_measure</span><span class="p">,</span> <span class="n">time_intervals</span><span class="p">,</span> <span class="n">n_runs</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># generate multi data folds first</span>
    <span class="n">only_multi</span> <span class="o">=</span> <span class="n">multivirtmulti_measure</span><span class="p">[</span><span class="n">multivirtmulti_measure</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;multiple&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">only_multi_folds</span> <span class="o">=</span> <span class="n">make_singlemulti_datafolds</span><span class="p">(</span><span class="n">only_multi</span><span class="p">,</span> <span class="n">time_intervals</span><span class="p">,</span> <span class="n">n_runs</span><span class="p">)</span>
    
    <span class="c1"># now generate an equal sample sized virtual data fold</span>
    <span class="n">only_virt</span> <span class="o">=</span> <span class="n">multivirtmulti_measure</span><span class="p">[</span><span class="n">multivirtmulti_measure</span><span class="p">[</span><span class="s1">&#39;groupsize&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;multiple_virtual&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">all_virt_filenames</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">only_virt</span><span class="p">[</span><span class="s1">&#39;file_name&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    
    <span class="n">multivirtmulti_datafolds</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">sep</span><span class="p">,</span> <span class="n">datafold</span> <span class="ow">in</span> <span class="n">only_multi_folds</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">multivirtmulti_datafolds</span><span class="p">[</span><span class="n">sep</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">each_df</span> <span class="ow">in</span> <span class="n">datafold</span><span class="p">:</span>
            <span class="c1"># num observed files</span>
            <span class="n">num_obs_files</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">each_df</span><span class="p">[</span><span class="s1">&#39;file_name&#39;</span><span class="p">]))</span>
            <span class="c1"># choose random virtual files</span>
            <span class="n">rand_filenames</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">all_virt_filenames</span><span class="p">,</span> <span class="n">num_obs_files</span><span class="p">)</span>
            <span class="n">virt_subset</span> <span class="o">=</span> <span class="n">only_virt</span><span class="p">[</span><span class="n">only_virt</span><span class="p">[</span><span class="s1">&#39;file_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">rand_filenames</span><span class="p">)]</span>
            
            <span class="n">combined_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">((</span><span class="n">each_df</span><span class="p">,</span><span class="n">virt_subset</span><span class="p">))</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">multivirtmulti_datafolds</span><span class="p">[</span><span class="n">sep</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">combined_df</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">multivirtmulti_datafolds</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[444]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_singlemulti_dbrms</span><span class="p">,</span> <span class="n">multivirtmulti_dbrms</span> <span class="o">=</span> <span class="n">split_into_multisingle_and_multivirtualmulti</span><span class="p">(</span><span class="n">obsvirt_dbrms</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[445]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="n">singlemulti_dbrms_datafolds</span> <span class="o">=</span> <span class="n">make_singlemulti_datafolds</span><span class="p">(</span><span class="n">obs_singlemulti_dbrms</span><span class="p">,</span><span class="n">time_intervals_seconds</span><span class="p">,</span> <span class="mi">2500</span><span class="p">)</span>
<span class="n">multivirtmulti_dbrms_datafolds</span> <span class="o">=</span> <span class="n">make_multivirtmulti_datafolds</span><span class="p">(</span><span class="n">multivirtmulti_dbrms</span><span class="p">,</span> <span class="n">time_intervals_seconds</span><span class="p">,</span> <span class="mi">2500</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 25.4 s, sys: 67.6 ms, total: 25.5 s
Wall time: 25.5 s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[446]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">extract_one_value_per_file</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">colname</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Outputs the largest difference between measurements within one segment in a file. </span>
<span class="sd">    The input datframe is expected to contain measurements from one segment of one file only. </span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    df : pd.DataFrame </span>
<span class="sd">        With compulsory columns: value, measurement, file_name</span>
<span class="sd">    Return</span>
<span class="sd">    ------</span>
<span class="sd">    maxintrawindow_range : pd.DataFrame</span>
<span class="sd">        With columns : file_value_range, measurement, segment_number, file_name, num_bats, groupsize</span>
<span class="sd">        </span>
<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    If a file only has one segment and there is only one measured value - a np.nan </span>
<span class="sd">    is returned in the &#39;file_value_range&#39;</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">random_value</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">colname</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        
    
    <span class="n">one_value_per_file</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;random_value&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">random_value</span><span class="p">]})</span>

    <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;measurement&#39;</span><span class="p">,</span><span class="s1">&#39;file_name&#39;</span><span class="p">,</span><span class="s1">&#39;num_bats&#39;</span><span class="p">,</span><span class="s1">&#39;groupsize&#39;</span><span class="p">,</span><span class="s1">&#39;segment_number&#39;</span><span class="p">]:</span>
        <span class="n">one_value_per_file</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">each</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">each</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">one_value_per_file</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[448]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># all versions where there are multiple values per file. </span>

<span class="k">def</span> <span class="nf">get_one_value_per_file_across_folds</span><span class="p">(</span><span class="n">allfolds</span><span class="p">,</span> <span class="n">columnname</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    </span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">onevalue_perfile_acrossfolds</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">onefold</span> <span class="ow">in</span> <span class="n">allfolds</span><span class="p">:</span>
        <span class="n">onevalue_perfile_thisfold</span> <span class="o">=</span> <span class="n">onefold</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;file_name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">extract_one_value_per_file</span><span class="p">,</span><span class="n">colname</span><span class="o">=</span><span class="n">columnname</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">onevalue_perfile_acrossfolds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">onevalue_perfile_thisfold</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">onevalue_perfile_acrossfolds</span>
    
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[449]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="n">singlemulti_onevalueperfile_dbrms_folds</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">60</span><span class="p">,</span><span class="mi">900</span><span class="p">]:</span>
    <span class="n">singlemulti_onevalueperfile_dbrms_folds</span><span class="p">[</span><span class="n">each</span><span class="p">]</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">4</span><span class="p">)(</span><span class="n">delayed</span><span class="p">(</span><span class="n">get_one_value_per_file_across_folds</span><span class="p">)([</span><span class="n">fold</span><span class="p">],</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">fold</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">singlemulti_dbrms_datafolds</span><span class="p">[</span><span class="n">each</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>100%|██████████| 189/189 [01:23&lt;00:00,  2.27it/s]
100%|██████████| 314/314 [00:07&lt;00:00, 42.98it/s]
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 3.96 s, sys: 81.1 ms, total: 4.04 s
Wall time: 1min 33s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[450]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="n">multivirtmulti_onevalueperfile_dbrms_folds</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">60</span><span class="p">,</span><span class="mi">900</span><span class="p">]:</span>
    <span class="n">multivirtmulti_onevalueperfile_dbrms_folds</span><span class="p">[</span><span class="n">each</span><span class="p">]</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">4</span><span class="p">)(</span><span class="n">delayed</span><span class="p">(</span><span class="n">get_one_value_per_file_across_folds</span><span class="p">)([</span><span class="n">fold</span><span class="p">],</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">fold</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">multivirtmulti_dbrms_datafolds</span><span class="p">[</span><span class="n">each</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>100%|██████████| 43/43 [00:10&lt;00:00,  3.99it/s]
100%|██████████| 77/77 [00:05&lt;00:00, 13.43it/s]
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 1.27 s, sys: 36.3 ms, total: 1.3 s
Wall time: 19.5 s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[477]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">_</span><span class="p">,</span> <span class="n">su</span> <span class="o">=</span> <span class="n">characterise_samplesizes</span><span class="p">(</span> <span class="p">[</span><span class="n">each</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">singlemulti_onevalueperfile_dbrms_folds</span><span class="p">[</span><span class="mi">60</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
<span class="n">_</span><span class="p">,</span> <span class="n">su</span> <span class="o">=</span> <span class="n">characterise_samplesizes</span><span class="p">([</span><span class="n">each</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">singlemulti_onevalueperfile_dbrms_folds</span><span class="p">[</span><span class="mi">900</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;multiple&#39;: array([18., 22.]), &#39;single&#39;: array([115., 117.])}
{&#39;multiple&#39;: array([1., 4.]), &#39;single&#39;: array([3., 5.])}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[478]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">_</span><span class="p">,</span> <span class="n">su</span> <span class="o">=</span> <span class="n">characterise_samplesizes</span><span class="p">(</span> <span class="p">[</span><span class="n">each</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">multivirtmulti_onevalueperfile_dbrms_folds</span><span class="p">[</span><span class="mi">60</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
<span class="n">_</span><span class="p">,</span> <span class="n">su</span> <span class="o">=</span> <span class="n">characterise_samplesizes</span><span class="p">([</span><span class="n">each</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">multivirtmulti_onevalueperfile_dbrms_folds</span><span class="p">[</span><span class="mi">900</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;multiple&#39;: array([48., 50.]), &#39;multiple_virtual&#39;: array([48., 50.])}
{&#39;multiple&#39;: array([11., 13.]), &#39;multiple_virtual&#39;: array([11., 13.])}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[451]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wholeaudio_dbrms_singlemulti_results_allfolds</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">each_sep</span><span class="p">,</span> <span class="n">datafolds</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">singlemulti_onevalueperfile_dbrms_folds</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>

    <span class="n">wholeaudio_dbrms_singlemulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">4</span><span class="p">)(</span><span class="n">delayed</span><span class="p">(</span><span class="n">produce_parsed_outputs_for_indcall_datafolds</span><span class="p">)(</span><span class="n">each</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;random_value&#39;</span><span class="p">])</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">datafolds</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">each</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">wholeaudio_dbrms_singlemulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]):</span>
        <span class="n">each</span><span class="p">[</span><span class="s1">&#39;fold_number&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>

    <span class="n">estimation_file_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">each_sep</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_seconds_interval_datafold_estimateddifferences_wholeaudio_singlemulti_dbrms_allfolds.csv&#39;</span>

    <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">wholeaudio_dbrms_singlemulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">])</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">estimation_file_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>  0%|          | 0/2 [00:00&lt;?, ?it/s]
  0%|          | 0/189 [00:00&lt;?, ?it/s]
  4%|▍         | 8/189 [00:05&lt;02:14,  1.35it/s]
  6%|▋         | 12/189 [00:11&lt;02:50,  1.04it/s]
  8%|▊         | 16/189 [00:17&lt;03:13,  1.12s/it]
 11%|█         | 20/189 [00:23&lt;03:28,  1.23s/it]
 13%|█▎        | 24/189 [00:29&lt;03:35,  1.31s/it]
 15%|█▍        | 28/189 [00:35&lt;03:38,  1.36s/it]
 17%|█▋        | 32/189 [00:41&lt;03:39,  1.40s/it]
 19%|█▉        | 36/189 [00:47&lt;03:38,  1.43s/it]
 21%|██        | 40/189 [00:53&lt;03:36,  1.45s/it]
 23%|██▎       | 44/189 [00:59&lt;03:32,  1.46s/it]
 25%|██▌       | 48/189 [01:05&lt;03:26,  1.47s/it]
 28%|██▊       | 52/189 [01:11&lt;03:20,  1.47s/it]
 30%|██▉       | 56/189 [01:17&lt;03:15,  1.47s/it]
 32%|███▏      | 60/189 [01:23&lt;03:09,  1.47s/it]
 34%|███▍      | 64/189 [01:29&lt;03:04,  1.47s/it]
 36%|███▌      | 68/189 [01:34&lt;02:58,  1.47s/it]
 38%|███▊      | 72/189 [01:40&lt;02:51,  1.47s/it]
 40%|████      | 76/189 [01:46&lt;02:48,  1.49s/it]
 42%|████▏     | 80/189 [01:53&lt;02:46,  1.53s/it]
 44%|████▍     | 84/189 [01:59&lt;02:38,  1.51s/it]
 47%|████▋     | 88/189 [02:05&lt;02:31,  1.50s/it]
 49%|████▊     | 92/189 [02:10&lt;02:24,  1.49s/it]
 51%|█████     | 96/189 [02:16&lt;02:17,  1.48s/it]
 53%|█████▎    | 100/189 [02:22&lt;02:11,  1.48s/it]
 55%|█████▌    | 104/189 [02:28&lt;02:05,  1.47s/it]
 57%|█████▋    | 108/189 [02:34&lt;01:59,  1.47s/it]
 59%|█████▉    | 112/189 [02:40&lt;01:53,  1.47s/it]
 61%|██████▏   | 116/189 [02:46&lt;01:47,  1.48s/it]
 63%|██████▎   | 120/189 [02:52&lt;01:42,  1.48s/it]
 66%|██████▌   | 124/189 [02:58&lt;01:35,  1.47s/it]
 68%|██████▊   | 128/189 [03:03&lt;01:29,  1.47s/it]
 70%|██████▉   | 132/189 [03:09&lt;01:24,  1.47s/it]
 72%|███████▏  | 136/189 [03:16&lt;01:19,  1.50s/it]
 74%|███████▍  | 140/189 [03:21&lt;01:13,  1.49s/it]
 76%|███████▌  | 144/189 [03:27&lt;01:06,  1.48s/it]
 78%|███████▊  | 148/189 [03:33&lt;01:01,  1.49s/it]
 80%|████████  | 152/189 [03:39&lt;00:55,  1.49s/it]
 83%|████████▎ | 156/189 [03:45&lt;00:49,  1.51s/it]
 85%|████████▍ | 160/189 [03:51&lt;00:43,  1.50s/it]
 87%|████████▋ | 164/189 [03:58&lt;00:37,  1.51s/it]
 89%|████████▉ | 168/189 [04:04&lt;00:31,  1.50s/it]
 91%|█████████ | 172/189 [04:09&lt;00:25,  1.49s/it]
 93%|█████████▎| 176/189 [04:15&lt;00:19,  1.49s/it]
 95%|█████████▌| 180/189 [04:21&lt;00:13,  1.50s/it]
 97%|█████████▋| 184/189 [04:27&lt;00:07,  1.50s/it]
100%|██████████| 189/189 [04:33&lt;00:00,  1.45s/it]
 50%|█████     | 1/2 [04:44&lt;04:44, 284.78s/it]
  0%|          | 0/314 [00:00&lt;?, ?it/s]
  3%|▎         | 8/314 [00:05&lt;03:47,  1.35it/s]
  4%|▍         | 12/314 [00:11&lt;04:50,  1.04it/s]
  5%|▌         | 16/314 [00:17&lt;05:32,  1.12s/it]
  6%|▋         | 20/314 [00:23&lt;05:56,  1.21s/it]
  8%|▊         | 24/314 [00:29&lt;06:14,  1.29s/it]
  9%|▉         | 28/314 [00:35&lt;06:19,  1.33s/it]
 10%|█         | 32/314 [00:40&lt;06:20,  1.35s/it]
 11%|█▏        | 36/314 [00:46&lt;06:20,  1.37s/it]
 13%|█▎        | 40/314 [00:51&lt;06:18,  1.38s/it]
 14%|█▍        | 44/314 [00:58&lt;06:40,  1.48s/it]
 15%|█▌        | 48/314 [01:05&lt;06:47,  1.53s/it]
 17%|█▋        | 52/314 [01:11&lt;06:38,  1.52s/it]
 18%|█▊        | 56/314 [01:17&lt;06:27,  1.50s/it]
 19%|█▉        | 60/314 [01:22&lt;06:16,  1.48s/it]
 20%|██        | 64/314 [01:28&lt;06:04,  1.46s/it]
 22%|██▏       | 68/314 [01:34&lt;05:55,  1.45s/it]
 23%|██▎       | 72/314 [01:39&lt;05:46,  1.43s/it]
 24%|██▍       | 76/314 [01:45&lt;05:41,  1.44s/it]
 25%|██▌       | 80/314 [01:51&lt;05:37,  1.44s/it]
 27%|██▋       | 84/314 [01:57&lt;05:32,  1.44s/it]
 28%|██▊       | 88/314 [02:03&lt;05:26,  1.45s/it]
 29%|██▉       | 92/314 [02:08&lt;05:18,  1.43s/it]
 31%|███       | 96/314 [02:14&lt;05:11,  1.43s/it]
 32%|███▏      | 100/314 [02:19&lt;05:04,  1.42s/it]
 33%|███▎      | 104/314 [02:25&lt;04:57,  1.42s/it]
 34%|███▍      | 108/314 [02:31&lt;04:51,  1.42s/it]
 36%|███▌      | 112/314 [02:36&lt;04:45,  1.42s/it]
 37%|███▋      | 116/314 [02:42&lt;04:40,  1.41s/it]
 38%|███▊      | 120/314 [02:48&lt;04:35,  1.42s/it]
 39%|███▉      | 124/314 [02:54&lt;04:31,  1.43s/it]
 41%|████      | 128/314 [03:00&lt;04:29,  1.45s/it]
 42%|████▏     | 132/314 [03:05&lt;04:22,  1.44s/it]
 43%|████▎     | 136/314 [03:11&lt;04:15,  1.44s/it]
 45%|████▍     | 140/314 [03:17&lt;04:10,  1.44s/it]
 46%|████▌     | 144/314 [03:23&lt;04:05,  1.44s/it]
 47%|████▋     | 148/314 [03:28&lt;03:59,  1.44s/it]
 48%|████▊     | 152/314 [03:34&lt;03:53,  1.44s/it]
 50%|████▉     | 156/314 [03:40&lt;03:48,  1.44s/it]
 51%|█████     | 160/314 [03:46&lt;03:42,  1.45s/it]
 52%|█████▏    | 164/314 [03:51&lt;03:37,  1.45s/it]
 54%|█████▎    | 168/314 [03:57&lt;03:31,  1.45s/it]
 55%|█████▍    | 172/314 [04:03&lt;03:25,  1.44s/it]
 56%|█████▌    | 176/314 [04:09&lt;03:18,  1.44s/it]
 57%|█████▋    | 180/314 [04:15&lt;03:19,  1.49s/it]
 59%|█████▊    | 184/314 [04:22&lt;03:24,  1.58s/it]
 60%|█████▉    | 188/314 [04:28&lt;03:14,  1.54s/it]
 61%|██████    | 192/314 [04:34&lt;03:04,  1.51s/it]
 62%|██████▏   | 196/314 [04:40&lt;02:56,  1.50s/it]
 64%|██████▎   | 200/314 [04:46&lt;02:48,  1.48s/it]
 65%|██████▍   | 204/314 [04:51&lt;02:42,  1.47s/it]
 66%|██████▌   | 208/314 [04:57&lt;02:36,  1.47s/it]
 68%|██████▊   | 212/314 [05:03&lt;02:29,  1.47s/it]
 69%|██████▉   | 216/314 [05:09&lt;02:24,  1.47s/it]
 70%|███████   | 220/314 [05:15&lt;02:18,  1.47s/it]
 71%|███████▏  | 224/314 [05:21&lt;02:12,  1.47s/it]
 73%|███████▎  | 228/314 [05:26&lt;02:05,  1.46s/it]
 74%|███████▍  | 232/314 [05:32&lt;01:59,  1.45s/it]
 75%|███████▌  | 236/314 [05:39&lt;01:59,  1.53s/it]
 76%|███████▋  | 240/314 [05:46&lt;01:55,  1.56s/it]
 78%|███████▊  | 244/314 [05:51&lt;01:47,  1.53s/it]
 79%|███████▉  | 248/314 [05:57&lt;01:39,  1.50s/it]
 80%|████████  | 252/314 [06:03&lt;01:32,  1.49s/it]
 82%|████████▏ | 256/314 [06:09&lt;01:24,  1.46s/it]
 83%|████████▎ | 260/314 [06:15&lt;01:19,  1.47s/it]
 84%|████████▍ | 264/314 [06:20&lt;01:13,  1.47s/it]
 85%|████████▌ | 268/314 [06:26&lt;01:07,  1.47s/it]
 87%|████████▋ | 272/314 [06:32&lt;01:01,  1.47s/it]
 88%|████████▊ | 276/314 [06:38&lt;00:55,  1.47s/it]
 89%|████████▉ | 280/314 [06:44&lt;00:49,  1.46s/it]
 90%|█████████ | 284/314 [06:49&lt;00:43,  1.45s/it]
 92%|█████████▏| 288/314 [06:55&lt;00:37,  1.44s/it]
 93%|█████████▎| 292/314 [07:01&lt;00:31,  1.45s/it]
 94%|█████████▍| 296/314 [07:07&lt;00:26,  1.45s/it]
 96%|█████████▌| 300/314 [07:13&lt;00:20,  1.46s/it]
 97%|█████████▋| 304/314 [07:19&lt;00:14,  1.47s/it]
 98%|█████████▊| 308/314 [07:25&lt;00:08,  1.47s/it]
100%|██████████| 314/314 [07:30&lt;00:00,  1.44s/it]
100%|██████████| 2/2 [12:27&lt;00:00, 373.94s/it]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[462]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wholeaudio_dbrms_multivirtmulti_results_allfolds</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">each_sep</span><span class="p">,</span> <span class="n">datafolds</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">multivirtmulti_onevalueperfile_dbrms_folds</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>

    <span class="n">wholeaudio_dbrms_multivirtmulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">4</span><span class="p">)(</span><span class="n">delayed</span><span class="p">(</span><span class="n">produce_parsed_outputs_for_indcall_datafolds</span><span class="p">)(</span><span class="n">each</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;random_value&#39;</span><span class="p">],</span><span class="n">idx</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;multiple_virtual&#39;</span><span class="p">,</span><span class="s1">&#39;multiple&#39;</span><span class="p">])</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">datafolds</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">each</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">wholeaudio_dbrms_multivirtmulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]):</span>
        <span class="n">each</span><span class="p">[</span><span class="s1">&#39;fold_number&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>

    <span class="n">estimation_file_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">each_sep</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_seconds_interval_datafold_estimateddifferences_wholeaudio_multivirtmulti_dbrms_allfolds.csv&#39;</span>

    <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">wholeaudio_dbrms_multivirtmulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">])</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">estimation_file_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>  0%|          | 0/2 [00:00&lt;?, ?it/s]
  0%|          | 0/43 [00:00&lt;?, ?it/s]
  9%|▉         | 4/43 [00:00&lt;00:01, 32.01it/s]
 19%|█▊        | 8/43 [00:08&lt;00:21,  1.62it/s]
 28%|██▊       | 12/43 [00:13&lt;00:26,  1.15it/s]
 37%|███▋      | 16/43 [00:19&lt;00:27,  1.04s/it]
 47%|████▋     | 20/43 [00:25&lt;00:26,  1.16s/it]
 56%|█████▌    | 24/43 [00:31&lt;00:23,  1.25s/it]
 65%|██████▌   | 28/43 [00:37&lt;00:19,  1.32s/it]
 74%|███████▍  | 32/43 [00:42&lt;00:14,  1.36s/it]
 84%|████████▎ | 36/43 [00:48&lt;00:09,  1.38s/it]
100%|██████████| 43/43 [00:54&lt;00:00,  1.27s/it]
 50%|█████     | 1/2 [01:06&lt;01:06, 66.04s/it]
  0%|          | 0/77 [00:00&lt;?, ?it/s]
 10%|█         | 8/77 [00:05&lt;00:48,  1.43it/s]
 16%|█▌        | 12/77 [00:11&lt;00:59,  1.09it/s]
 21%|██        | 16/77 [00:16&lt;01:04,  1.06s/it]
 26%|██▌       | 20/77 [00:22&lt;01:06,  1.17s/it]
 31%|███       | 24/77 [00:28&lt;01:06,  1.25s/it]
 36%|███▋      | 28/77 [00:33&lt;01:03,  1.30s/it]
 42%|████▏     | 32/77 [00:39&lt;01:00,  1.34s/it]
 47%|████▋     | 36/77 [00:45&lt;00:55,  1.36s/it]
 52%|█████▏    | 40/77 [00:51&lt;00:51,  1.38s/it]
 57%|█████▋    | 44/77 [00:56&lt;00:46,  1.40s/it]
 62%|██████▏   | 48/77 [01:02&lt;00:41,  1.42s/it]
 68%|██████▊   | 52/77 [01:08&lt;00:35,  1.43s/it]
 73%|███████▎  | 56/77 [01:14&lt;00:30,  1.43s/it]
 78%|███████▊  | 60/77 [01:19&lt;00:24,  1.42s/it]
 83%|████████▎ | 64/77 [01:25&lt;00:18,  1.42s/it]
 88%|████████▊ | 68/77 [01:31&lt;00:13,  1.45s/it]
 94%|█████████▎| 72/77 [01:37&lt;00:07,  1.44s/it]
100%|██████████| 77/77 [01:43&lt;00:00,  1.34s/it]
100%|██████████| 2/2 [02:58&lt;00:00, 89.24s/it]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a id='fmterminal'></a></p>
<h3 id="Comparing-FM-terminal-frequencies">Comparing FM terminal frequencies<a class="anchor-link" href="#Comparing-FM-terminal-frequencies">&#182;</a></h3><p>Here let us compare the FM terminal frequencies. After inspecting the values, let us then choose the lowest terminal frequencies in a window of one file to reduce the overall amount noise in the dataset.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[452]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">obs_splitmeasure</span><span class="p">[</span><span class="s1">&#39;measurement&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[452]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>array([&#39;dominant_frequencies&#39;, &#39;fm_terminal_freqs&#39;, &#39;peak_amplitude&#39;,
       &#39;rms&#39;], dtype=object)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[453]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_termfreq</span> <span class="o">=</span> <span class="n">obs_splitmeasure</span><span class="p">[</span><span class="n">obs_splitmeasure</span><span class="p">[</span><span class="s1">&#39;measurement&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;fm_terminal_freqs&#39;</span><span class="p">]</span>
<span class="n">virt_termfreq</span> <span class="o">=</span> <span class="n">virt_splitmeasure</span><span class="p">[</span><span class="n">virt_splitmeasure</span><span class="p">[</span><span class="s1">&#39;measurement&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;fm_terminal_freqs&#39;</span><span class="p">]</span>

<span class="c1"># remove all terminal frequencies below 70 kHz as 1) we don&#39;t expect such low values, and 2) the audio </span>
<span class="c1"># was highpassed at 70 kHz, and so we *don&#39;t* expect actual signal to be there. </span>

<span class="n">obs_termfreq</span> <span class="o">=</span> <span class="n">obs_termfreq</span><span class="p">[</span><span class="n">obs_termfreq</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">70000</span><span class="p">]</span>
<span class="n">virt_termfreq</span> <span class="o">=</span> <span class="n">virt_termfreq</span><span class="p">[</span><span class="n">virt_termfreq</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">70000</span><span class="p">]</span>
<span class="n">obsvirt_termfreq</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">((</span><span class="n">obs_termfreq</span><span class="p">,</span> <span class="n">virt_termfreq</span><span class="p">))</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># change to kHz</span>
<span class="n">obsvirt_termfreq</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">*=</span> <span class="mf">0.001</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[454]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">stripplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;groupsize&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">obsvirt_termfreq</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





<div id="e26c9336-c921-4131-8a09-ad48616d8660"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#e26c9336-c921-4131-8a09-ad48616d8660');
/* Put everything inside the global mpl namespace */
/* global mpl */
window.mpl = {};

mpl.get_websocket_type = function () {
    if (typeof WebSocket !== 'undefined') {
        return WebSocket;
    } else if (typeof MozWebSocket !== 'undefined') {
        return MozWebSocket;
    } else {
        alert(
            'Your browser does not have WebSocket support. ' +
                'Please try Chrome, Safari or Firefox ≥ 6. ' +
                'Firefox 4 and 5 are also supported but you ' +
                'have to enable WebSockets in about:config.'
        );
    }
};

mpl.figure = function (figure_id, websocket, ondownload, parent_element) {
    this.id = figure_id;

    this.ws = websocket;

    this.supports_binary = this.ws.binaryType !== undefined;

    if (!this.supports_binary) {
        var warnings = document.getElementById('mpl-warnings');
        if (warnings) {
            warnings.style.display = 'block';
            warnings.textContent =
                'This browser does not support binary websocket messages. ' +
                'Performance may be slow.';
        }
    }

    this.imageObj = new Image();

    this.context = undefined;
    this.message = undefined;
    this.canvas = undefined;
    this.rubberband_canvas = undefined;
    this.rubberband_context = undefined;
    this.format_dropdown = undefined;

    this.image_mode = 'full';

    this.root = document.createElement('div');
    this.root.setAttribute('style', 'display: inline-block');
    this._root_extra_style(this.root);

    parent_element.appendChild(this.root);

    this._init_header(this);
    this._init_canvas(this);
    this._init_toolbar(this);

    var fig = this;

    this.waiting = false;

    this.ws.onopen = function () {
        fig.send_message('supports_binary', { value: fig.supports_binary });
        fig.send_message('send_image_mode', {});
        if (fig.ratio !== 1) {
            fig.send_message('set_dpi_ratio', { dpi_ratio: fig.ratio });
        }
        fig.send_message('refresh', {});
    };

    this.imageObj.onload = function () {
        if (fig.image_mode === 'full') {
            // Full images could contain transparency (where diff images
            // almost always do), so we need to clear the canvas so that
            // there is no ghosting.
            fig.context.clearRect(0, 0, fig.canvas.width, fig.canvas.height);
        }
        fig.context.drawImage(fig.imageObj, 0, 0);
    };

    this.imageObj.onunload = function () {
        fig.ws.close();
    };

    this.ws.onmessage = this._make_on_message_function(this);

    this.ondownload = ondownload;
};

mpl.figure.prototype._init_header = function () {
    var titlebar = document.createElement('div');
    titlebar.classList =
        'ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix';
    var titletext = document.createElement('div');
    titletext.classList = 'ui-dialog-title';
    titletext.setAttribute(
        'style',
        'width: 100%; text-align: center; padding: 3px;'
    );
    titlebar.appendChild(titletext);
    this.root.appendChild(titlebar);
    this.header = titletext;
};

mpl.figure.prototype._canvas_extra_style = function (_canvas_div) {};

mpl.figure.prototype._root_extra_style = function (_canvas_div) {};

mpl.figure.prototype._init_canvas = function () {
    var fig = this;

    var canvas_div = (this.canvas_div = document.createElement('div'));
    canvas_div.setAttribute(
        'style',
        'border: 1px solid #ddd;' +
            'box-sizing: content-box;' +
            'clear: both;' +
            'min-height: 1px;' +
            'min-width: 1px;' +
            'outline: 0;' +
            'overflow: hidden;' +
            'position: relative;' +
            'resize: both;'
    );

    function on_keyboard_event_closure(name) {
        return function (event) {
            return fig.key_event(event, name);
        };
    }

    canvas_div.addEventListener(
        'keydown',
        on_keyboard_event_closure('key_press')
    );
    canvas_div.addEventListener(
        'keyup',
        on_keyboard_event_closure('key_release')
    );

    this._canvas_extra_style(canvas_div);
    this.root.appendChild(canvas_div);

    var canvas = (this.canvas = document.createElement('canvas'));
    canvas.classList.add('mpl-canvas');
    canvas.setAttribute('style', 'box-sizing: content-box;');

    this.context = canvas.getContext('2d');

    var backingStore =
        this.context.backingStorePixelRatio ||
        this.context.webkitBackingStorePixelRatio ||
        this.context.mozBackingStorePixelRatio ||
        this.context.msBackingStorePixelRatio ||
        this.context.oBackingStorePixelRatio ||
        this.context.backingStorePixelRatio ||
        1;

    this.ratio = (window.devicePixelRatio || 1) / backingStore;
    if (this.ratio !== 1) {
        fig.send_message('set_dpi_ratio', { dpi_ratio: this.ratio });
    }

    var rubberband_canvas = (this.rubberband_canvas = document.createElement(
        'canvas'
    ));
    rubberband_canvas.setAttribute(
        'style',
        'box-sizing: content-box; position: absolute; left: 0; top: 0; z-index: 1;'
    );

    // Apply a ponyfill if ResizeObserver is not implemented by browser.
    if (this.ResizeObserver === undefined) {
        if (window.ResizeObserver !== undefined) {
            this.ResizeObserver = window.ResizeObserver;
        } else {
            var obs = _JSXTOOLS_RESIZE_OBSERVER({});
            this.ResizeObserver = obs.ResizeObserver;
        }
    }

    this.resizeObserverInstance = new this.ResizeObserver(function (entries) {
        var nentries = entries.length;
        for (var i = 0; i < nentries; i++) {
            var entry = entries[i];
            var width, height;
            if (entry.contentBoxSize) {
                if (entry.contentBoxSize instanceof Array) {
                    // Chrome 84 implements new version of spec.
                    width = entry.contentBoxSize[0].inlineSize;
                    height = entry.contentBoxSize[0].blockSize;
                } else {
                    // Firefox implements old version of spec.
                    width = entry.contentBoxSize.inlineSize;
                    height = entry.contentBoxSize.blockSize;
                }
            } else {
                // Chrome <84 implements even older version of spec.
                width = entry.contentRect.width;
                height = entry.contentRect.height;
            }

            // Keep the size of the canvas and rubber band canvas in sync with
            // the canvas container.
            if (entry.devicePixelContentBoxSize) {
                // Chrome 84 implements new version of spec.
                canvas.setAttribute(
                    'width',
                    entry.devicePixelContentBoxSize[0].inlineSize
                );
                canvas.setAttribute(
                    'height',
                    entry.devicePixelContentBoxSize[0].blockSize
                );
            } else {
                canvas.setAttribute('width', width * fig.ratio);
                canvas.setAttribute('height', height * fig.ratio);
            }
            canvas.setAttribute(
                'style',
                'width: ' + width + 'px; height: ' + height + 'px;'
            );

            rubberband_canvas.setAttribute('width', width);
            rubberband_canvas.setAttribute('height', height);

            // And update the size in Python. We ignore the initial 0/0 size
            // that occurs as the element is placed into the DOM, which should
            // otherwise not happen due to the minimum size styling.
            if (width != 0 && height != 0) {
                fig.request_resize(width, height);
            }
        }
    });
    this.resizeObserverInstance.observe(canvas_div);

    function on_mouse_event_closure(name) {
        return function (event) {
            return fig.mouse_event(event, name);
        };
    }

    rubberband_canvas.addEventListener(
        'mousedown',
        on_mouse_event_closure('button_press')
    );
    rubberband_canvas.addEventListener(
        'mouseup',
        on_mouse_event_closure('button_release')
    );
    // Throttle sequential mouse events to 1 every 20ms.
    rubberband_canvas.addEventListener(
        'mousemove',
        on_mouse_event_closure('motion_notify')
    );

    rubberband_canvas.addEventListener(
        'mouseenter',
        on_mouse_event_closure('figure_enter')
    );
    rubberband_canvas.addEventListener(
        'mouseleave',
        on_mouse_event_closure('figure_leave')
    );

    canvas_div.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            event.step = 1;
        } else {
            event.step = -1;
        }
        on_mouse_event_closure('scroll')(event);
    });

    canvas_div.appendChild(canvas);
    canvas_div.appendChild(rubberband_canvas);

    this.rubberband_context = rubberband_canvas.getContext('2d');
    this.rubberband_context.strokeStyle = '#000000';

    this._resize_canvas = function (width, height, forward) {
        if (forward) {
            canvas_div.style.width = width + 'px';
            canvas_div.style.height = height + 'px';
        }
    };

    // Disable right mouse context menu.
    this.rubberband_canvas.addEventListener('contextmenu', function (_e) {
        event.preventDefault();
        return false;
    });

    function set_focus() {
        canvas.focus();
        canvas_div.focus();
    }

    window.setTimeout(set_focus, 100);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'mpl-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'mpl-button-group';
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'mpl-button-group';
            continue;
        }

        var button = (fig.buttons[name] = document.createElement('button'));
        button.classList = 'mpl-widget';
        button.setAttribute('role', 'button');
        button.setAttribute('aria-disabled', 'false');
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));

        var icon_img = document.createElement('img');
        icon_img.src = '_images/' + image + '.png';
        icon_img.srcset = '_images/' + image + '_large.png 2x';
        icon_img.alt = tooltip;
        button.appendChild(icon_img);

        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    var fmt_picker = document.createElement('select');
    fmt_picker.classList = 'mpl-widget';
    toolbar.appendChild(fmt_picker);
    this.format_dropdown = fmt_picker;

    for (var ind in mpl.extensions) {
        var fmt = mpl.extensions[ind];
        var option = document.createElement('option');
        option.selected = fmt === mpl.default_extension;
        option.innerHTML = fmt;
        fmt_picker.appendChild(option);
    }

    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message';
    toolbar.appendChild(status_bar);
    this.message = status_bar;
};

mpl.figure.prototype.request_resize = function (x_pixels, y_pixels) {
    // Request matplotlib to resize the figure. Matplotlib will then trigger a resize in the client,
    // which will in turn request a refresh of the image.
    this.send_message('resize', { width: x_pixels, height: y_pixels });
};

mpl.figure.prototype.send_message = function (type, properties) {
    properties['type'] = type;
    properties['figure_id'] = this.id;
    this.ws.send(JSON.stringify(properties));
};

mpl.figure.prototype.send_draw_message = function () {
    if (!this.waiting) {
        this.waiting = true;
        this.ws.send(JSON.stringify({ type: 'draw', figure_id: this.id }));
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    var format_dropdown = fig.format_dropdown;
    var format = format_dropdown.options[format_dropdown.selectedIndex].value;
    fig.ondownload(fig, format);
};

mpl.figure.prototype.handle_resize = function (fig, msg) {
    var size = msg['size'];
    if (size[0] !== fig.canvas.width || size[1] !== fig.canvas.height) {
        fig._resize_canvas(size[0], size[1], msg['forward']);
        fig.send_message('refresh', {});
    }
};

mpl.figure.prototype.handle_rubberband = function (fig, msg) {
    var x0 = msg['x0'] / fig.ratio;
    var y0 = (fig.canvas.height - msg['y0']) / fig.ratio;
    var x1 = msg['x1'] / fig.ratio;
    var y1 = (fig.canvas.height - msg['y1']) / fig.ratio;
    x0 = Math.floor(x0) + 0.5;
    y0 = Math.floor(y0) + 0.5;
    x1 = Math.floor(x1) + 0.5;
    y1 = Math.floor(y1) + 0.5;
    var min_x = Math.min(x0, x1);
    var min_y = Math.min(y0, y1);
    var width = Math.abs(x1 - x0);
    var height = Math.abs(y1 - y0);

    fig.rubberband_context.clearRect(
        0,
        0,
        fig.canvas.width / fig.ratio,
        fig.canvas.height / fig.ratio
    );

    fig.rubberband_context.strokeRect(min_x, min_y, width, height);
};

mpl.figure.prototype.handle_figure_label = function (fig, msg) {
    // Updates the figure title.
    fig.header.textContent = msg['label'];
};

mpl.figure.prototype.handle_cursor = function (fig, msg) {
    var cursor = msg['cursor'];
    switch (cursor) {
        case 0:
            cursor = 'pointer';
            break;
        case 1:
            cursor = 'default';
            break;
        case 2:
            cursor = 'crosshair';
            break;
        case 3:
            cursor = 'move';
            break;
    }
    fig.rubberband_canvas.style.cursor = cursor;
};

mpl.figure.prototype.handle_message = function (fig, msg) {
    fig.message.textContent = msg['message'];
};

mpl.figure.prototype.handle_draw = function (fig, _msg) {
    // Request the server to send over a new figure.
    fig.send_draw_message();
};

mpl.figure.prototype.handle_image_mode = function (fig, msg) {
    fig.image_mode = msg['mode'];
};

mpl.figure.prototype.handle_history_buttons = function (fig, msg) {
    for (var key in msg) {
        if (!(key in fig.buttons)) {
            continue;
        }
        fig.buttons[key].disabled = !msg[key];
        fig.buttons[key].setAttribute('aria-disabled', !msg[key]);
    }
};

mpl.figure.prototype.handle_navigate_mode = function (fig, msg) {
    if (msg['mode'] === 'PAN') {
        fig.buttons['Pan'].classList.add('active');
        fig.buttons['Zoom'].classList.remove('active');
    } else if (msg['mode'] === 'ZOOM') {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.add('active');
    } else {
        fig.buttons['Pan'].classList.remove('active');
        fig.buttons['Zoom'].classList.remove('active');
    }
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Called whenever the canvas gets updated.
    this.send_message('ack', {});
};

// A function to construct a web socket function for onmessage handling.
// Called in the figure constructor.
mpl.figure.prototype._make_on_message_function = function (fig) {
    return function socket_on_message(evt) {
        if (evt.data instanceof Blob) {
            /* FIXME: We get "Resource interpreted as Image but
             * transferred with MIME type text/plain:" errors on
             * Chrome.  But how to set the MIME type?  It doesn't seem
             * to be part of the websocket stream */
            evt.data.type = 'image/png';

            /* Free the memory for the previous frames */
            if (fig.imageObj.src) {
                (window.URL || window.webkitURL).revokeObjectURL(
                    fig.imageObj.src
                );
            }

            fig.imageObj.src = (window.URL || window.webkitURL).createObjectURL(
                evt.data
            );
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        } else if (
            typeof evt.data === 'string' &&
            evt.data.slice(0, 21) === 'data:image/png;base64'
        ) {
            fig.imageObj.src = evt.data;
            fig.updated_canvas_event();
            fig.waiting = false;
            return;
        }

        var msg = JSON.parse(evt.data);
        var msg_type = msg['type'];

        // Call the  "handle_{type}" callback, which takes
        // the figure and JSON message as its only arguments.
        try {
            var callback = fig['handle_' + msg_type];
        } catch (e) {
            console.log(
                "No handler for the '" + msg_type + "' message type: ",
                msg
            );
            return;
        }

        if (callback) {
            try {
                // console.log("Handling '" + msg_type + "' message: ", msg);
                callback(fig, msg);
            } catch (e) {
                console.log(
                    "Exception inside the 'handler_" + msg_type + "' callback:",
                    e,
                    e.stack,
                    msg
                );
            }
        }
    };
};

// from http://stackoverflow.com/questions/1114465/getting-mouse-location-in-canvas
mpl.findpos = function (e) {
    //this section is from http://www.quirksmode.org/js/events_properties.html
    var targ;
    if (!e) {
        e = window.event;
    }
    if (e.target) {
        targ = e.target;
    } else if (e.srcElement) {
        targ = e.srcElement;
    }
    if (targ.nodeType === 3) {
        // defeat Safari bug
        targ = targ.parentNode;
    }

    // pageX,Y are the mouse positions relative to the document
    var boundingRect = targ.getBoundingClientRect();
    var x = e.pageX - (boundingRect.left + document.body.scrollLeft);
    var y = e.pageY - (boundingRect.top + document.body.scrollTop);

    return { x: x, y: y };
};

/*
 * return a copy of an object with only non-object keys
 * we need this to avoid circular references
 * http://stackoverflow.com/a/24161582/3208463
 */
function simpleKeys(original) {
    return Object.keys(original).reduce(function (obj, key) {
        if (typeof original[key] !== 'object') {
            obj[key] = original[key];
        }
        return obj;
    }, {});
}

mpl.figure.prototype.mouse_event = function (event, name) {
    var canvas_pos = mpl.findpos(event);

    if (name === 'button_press') {
        this.canvas.focus();
        this.canvas_div.focus();
    }

    var x = canvas_pos.x * this.ratio;
    var y = canvas_pos.y * this.ratio;

    this.send_message(name, {
        x: x,
        y: y,
        button: event.button,
        step: event.step,
        guiEvent: simpleKeys(event),
    });

    /* This prevents the web browser from automatically changing to
     * the text insertion cursor when the button is pressed.  We want
     * to control all of the cursor setting manually through the
     * 'cursor' event from matplotlib */
    event.preventDefault();
    return false;
};

mpl.figure.prototype._key_event_extra = function (_event, _name) {
    // Handle any extra behaviour associated with a key event
};

mpl.figure.prototype.key_event = function (event, name) {
    // Prevent repeat events
    if (name === 'key_press') {
        if (event.which === this._key) {
            return;
        } else {
            this._key = event.which;
        }
    }
    if (name === 'key_release') {
        this._key = null;
    }

    var value = '';
    if (event.ctrlKey && event.which !== 17) {
        value += 'ctrl+';
    }
    if (event.altKey && event.which !== 18) {
        value += 'alt+';
    }
    if (event.shiftKey && event.which !== 16) {
        value += 'shift+';
    }

    value += 'k';
    value += event.which.toString();

    this._key_event_extra(event, name);

    this.send_message(name, { key: value, guiEvent: simpleKeys(event) });
    return false;
};

mpl.figure.prototype.toolbar_button_onclick = function (name) {
    if (name === 'download') {
        this.handle_save(this, null);
    } else {
        this.send_message('toolbar_button', { name: name });
    }
};

mpl.figure.prototype.toolbar_button_onmouseover = function (tooltip) {
    this.message.textContent = tooltip;
};

///////////////// REMAINING CONTENT GENERATED BY embed_js.py /////////////////
// prettier-ignore
var _JSXTOOLS_RESIZE_OBSERVER=function(A){var t,i=new WeakMap,n=new WeakMap,a=new WeakMap,r=new WeakMap,o=new Set;function s(e){if(!(this instanceof s))throw new TypeError("Constructor requires 'new' operator");i.set(this,e)}function h(){throw new TypeError("Function is not a constructor")}function c(e,t,i,n){e=0 in arguments?Number(arguments[0]):0,t=1 in arguments?Number(arguments[1]):0,i=2 in arguments?Number(arguments[2]):0,n=3 in arguments?Number(arguments[3]):0,this.right=(this.x=this.left=e)+(this.width=i),this.bottom=(this.y=this.top=t)+(this.height=n),Object.freeze(this)}function d(){t=requestAnimationFrame(d);var s=new WeakMap,p=new Set;o.forEach((function(t){r.get(t).forEach((function(i){var r=t instanceof window.SVGElement,o=a.get(t),d=r?0:parseFloat(o.paddingTop),f=r?0:parseFloat(o.paddingRight),l=r?0:parseFloat(o.paddingBottom),u=r?0:parseFloat(o.paddingLeft),g=r?0:parseFloat(o.borderTopWidth),m=r?0:parseFloat(o.borderRightWidth),w=r?0:parseFloat(o.borderBottomWidth),b=u+f,F=d+l,v=(r?0:parseFloat(o.borderLeftWidth))+m,W=g+w,y=r?0:t.offsetHeight-W-t.clientHeight,E=r?0:t.offsetWidth-v-t.clientWidth,R=b+v,z=F+W,M=r?t.width:parseFloat(o.width)-R-E,O=r?t.height:parseFloat(o.height)-z-y;if(n.has(t)){var k=n.get(t);if(k[0]===M&&k[1]===O)return}n.set(t,[M,O]);var S=Object.create(h.prototype);S.target=t,S.contentRect=new c(u,d,M,O),s.has(i)||(s.set(i,[]),p.add(i)),s.get(i).push(S)}))})),p.forEach((function(e){i.get(e).call(e,s.get(e),e)}))}return s.prototype.observe=function(i){if(i instanceof window.Element){r.has(i)||(r.set(i,new Set),o.add(i),a.set(i,window.getComputedStyle(i)));var n=r.get(i);n.has(this)||n.add(this),cancelAnimationFrame(t),t=requestAnimationFrame(d)}},s.prototype.unobserve=function(i){if(i instanceof window.Element&&r.has(i)){var n=r.get(i);n.has(this)&&(n.delete(this),n.size||(r.delete(i),o.delete(i))),n.size||r.delete(i),o.size||cancelAnimationFrame(t)}},A.DOMRectReadOnly=c,A.ResizeObserver=s,A.ResizeObserverEntry=h,A}; // eslint-disable-line
mpl.toolbar_items = [["Home", "Reset original view", "fa fa-home icon-home", "home"], ["Back", "Back to previous view", "fa fa-arrow-left icon-arrow-left", "back"], ["Forward", "Forward to next view", "fa fa-arrow-right icon-arrow-right", "forward"], ["", "", "", ""], ["Pan", "Left button pans, Right button zooms\nx/y fixes axis, CTRL fixes aspect", "fa fa-arrows icon-move", "pan"], ["Zoom", "Zoom to rectangle\nx/y fixes axis, CTRL fixes aspect", "fa fa-square-o icon-check-empty", "zoom"], ["", "", "", ""], ["Download", "Download plot", "fa fa-floppy-o icon-save", "download"]];

mpl.extensions = ["eps", "jpeg", "pdf", "png", "ps", "raw", "svg", "tif"];

mpl.default_extension = "png";/* global mpl */

var comm_websocket_adapter = function (comm) {
    // Create a "websocket"-like object which calls the given IPython comm
    // object with the appropriate methods. Currently this is a non binary
    // socket, so there is still some room for performance tuning.
    var ws = {};

    ws.close = function () {
        comm.close();
    };
    ws.send = function (m) {
        //console.log('sending', m);
        comm.send(m);
    };
    // Register the callback with on_msg.
    comm.on_msg(function (msg) {
        //console.log('receiving', msg['content']['data'], msg);
        // Pass the mpl event to the overridden (by mpl) onmessage function.
        ws.onmessage(msg['content']['data']);
    });
    return ws;
};

mpl.mpl_figure_comm = function (comm, msg) {
    // This is the function which gets called when the mpl process
    // starts-up an IPython Comm through the "matplotlib" channel.

    var id = msg.content.data.id;
    // Get hold of the div created by the display call when the Comm
    // socket was opened in Python.
    var element = document.getElementById(id);
    var ws_proxy = comm_websocket_adapter(comm);

    function ondownload(figure, _format) {
        window.open(figure.canvas.toDataURL());
    }

    var fig = new mpl.figure(id, ws_proxy, ondownload, element);

    // Call onopen now - mpl needs it, as it is assuming we've passed it a real
    // web socket which is closed, not our websocket->open comm proxy.
    ws_proxy.onopen();

    fig.parent_element = element;
    fig.cell_info = mpl.find_output_cell("<div id='" + id + "'></div>");
    if (!fig.cell_info) {
        console.error('Failed to find cell for figure', id, fig);
        return;
    }
    fig.cell_info[0].output_area.element.on(
        'cleared',
        { fig: fig },
        fig._remove_fig_handler
    );
};

mpl.figure.prototype.handle_close = function (fig, msg) {
    var width = fig.canvas.width / fig.ratio;
    fig.cell_info[0].output_area.element.off(
        'cleared',
        fig._remove_fig_handler
    );
    fig.resizeObserverInstance.unobserve(fig.canvas_div);

    // Update the output cell to use the data from the current canvas.
    fig.push_to_output();
    var dataURL = fig.canvas.toDataURL();
    // Re-enable the keyboard manager in IPython - without this line, in FF,
    // the notebook keyboard shortcuts fail.
    IPython.keyboard_manager.enable();
    fig.parent_element.innerHTML =
        '<img src="' + dataURL + '" width="' + width + '">';
    fig.close_ws(fig, msg);
};

mpl.figure.prototype.close_ws = function (fig, msg) {
    fig.send_message('closing', msg);
    // fig.ws.close()
};

mpl.figure.prototype.push_to_output = function (_remove_interactive) {
    // Turn the data on the canvas into data in the output cell.
    var width = this.canvas.width / this.ratio;
    var dataURL = this.canvas.toDataURL();
    this.cell_info[1]['text/html'] =
        '<img src="' + dataURL + '" width="' + width + '">';
};

mpl.figure.prototype.updated_canvas_event = function () {
    // Tell IPython that the notebook contents must change.
    IPython.notebook.set_dirty(true);
    this.send_message('ack', {});
    var fig = this;
    // Wait a second, then push the new image to the DOM so
    // that it is saved nicely (might be nice to debounce this).
    setTimeout(function () {
        fig.push_to_output();
    }, 1000);
};

mpl.figure.prototype._init_toolbar = function () {
    var fig = this;

    var toolbar = document.createElement('div');
    toolbar.classList = 'btn-toolbar';
    this.root.appendChild(toolbar);

    function on_click_closure(name) {
        return function (_event) {
            return fig.toolbar_button_onclick(name);
        };
    }

    function on_mouseover_closure(tooltip) {
        return function (event) {
            if (!event.currentTarget.disabled) {
                return fig.toolbar_button_onmouseover(tooltip);
            }
        };
    }

    fig.buttons = {};
    var buttonGroup = document.createElement('div');
    buttonGroup.classList = 'btn-group';
    var button;
    for (var toolbar_ind in mpl.toolbar_items) {
        var name = mpl.toolbar_items[toolbar_ind][0];
        var tooltip = mpl.toolbar_items[toolbar_ind][1];
        var image = mpl.toolbar_items[toolbar_ind][2];
        var method_name = mpl.toolbar_items[toolbar_ind][3];

        if (!name) {
            /* Instead of a spacer, we start a new button group. */
            if (buttonGroup.hasChildNodes()) {
                toolbar.appendChild(buttonGroup);
            }
            buttonGroup = document.createElement('div');
            buttonGroup.classList = 'btn-group';
            continue;
        }

        button = fig.buttons[name] = document.createElement('button');
        button.classList = 'btn btn-default';
        button.href = '#';
        button.title = name;
        button.innerHTML = '<i class="fa ' + image + ' fa-lg"></i>';
        button.addEventListener('click', on_click_closure(method_name));
        button.addEventListener('mouseover', on_mouseover_closure(tooltip));
        buttonGroup.appendChild(button);
    }

    if (buttonGroup.hasChildNodes()) {
        toolbar.appendChild(buttonGroup);
    }

    // Add the status bar.
    var status_bar = document.createElement('span');
    status_bar.classList = 'mpl-message pull-right';
    toolbar.appendChild(status_bar);
    this.message = status_bar;

    // Add the close button to the window.
    var buttongrp = document.createElement('div');
    buttongrp.classList = 'btn-group inline pull-right';
    button = document.createElement('button');
    button.classList = 'btn btn-mini btn-primary';
    button.href = '#';
    button.title = 'Stop Interaction';
    button.innerHTML = '<i class="fa fa-power-off icon-remove icon-large"></i>';
    button.addEventListener('click', function (_evt) {
        fig.handle_close(fig, {});
    });
    button.addEventListener(
        'mouseover',
        on_mouseover_closure('Stop Interaction')
    );
    buttongrp.appendChild(button);
    var titlebar = this.root.querySelector('.ui-dialog-titlebar');
    titlebar.insertBefore(buttongrp, titlebar.firstChild);
};

mpl.figure.prototype._remove_fig_handler = function (event) {
    var fig = event.data.fig;
    if (event.target !== this) {
        // Ignore bubbled events from children.
        return;
    }
    fig.close_ws(fig, {});
};

mpl.figure.prototype._root_extra_style = function (el) {
    el.style.boxSizing = 'content-box'; // override notebook setting of border-box.
};

mpl.figure.prototype._canvas_extra_style = function (el) {
    // this is important to make the div 'focusable
    el.setAttribute('tabindex', 0);
    // reach out to IPython and tell the keyboard manager to turn it's self
    // off when our div gets focus

    // location in version 3
    if (IPython.notebook.keyboard_manager) {
        IPython.notebook.keyboard_manager.register_events(el);
    } else {
        // location in version 2
        IPython.keyboard_manager.register_events(el);
    }
};

mpl.figure.prototype._key_event_extra = function (event, _name) {
    var manager = IPython.notebook.keyboard_manager;
    if (!manager) {
        manager = IPython.keyboard_manager;
    }

    // Check for shift+enter
    if (event.shiftKey && event.which === 13) {
        this.canvas_div.blur();
        // select the cell after this one
        var index = IPython.notebook.find_cell_index(this.cell_info[0]);
        IPython.notebook.select(index + 1);
    }
};

mpl.figure.prototype.handle_save = function (fig, _msg) {
    fig.ondownload(fig, null);
};

mpl.find_output_cell = function (html_output) {
    // Return the cell and output element which can be found *uniquely* in the notebook.
    // Note - this is a bit hacky, but it is done because the "notebook_saving.Notebook"
    // IPython event is triggered only after the cells have been serialised, which for
    // our purposes (turning an active figure into a static one), is too late.
    var cells = IPython.notebook.get_cells();
    var ncells = cells.length;
    for (var i = 0; i < ncells; i++) {
        var cell = cells[i];
        if (cell.cell_type === 'code') {
            for (var j = 0; j < cell.output_area.outputs.length; j++) {
                var data = cell.output_area.outputs[j];
                if (data.data) {
                    // IPython >= 3 moved mimebundle to data attribute of output
                    data = data.data;
                }
                if (data['text/html'] === html_output) {
                    return [cell, data, j];
                }
            }
        }
    }
};

// Register the function which deals with the matplotlib target/channel.
// The kernel may be null if the page has been refreshed.
if (IPython.notebook.kernel !== null) {
    IPython.notebook.kernel.comm_manager.register_target(
        'matplotlib',
        mpl.mpl_figure_comm
    );
}

</script>
</div>

</div>

<div class="output_area">

    <div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAoAAAAHgCAYAAAA10dzkAAAgAElEQVR4nOzdeXRTdf4+8KIzI+c7HkFcf+rIoqA4lAKlQBFBRQFhBhQRRUdxH0dn3EYtqwXKUhZREBAQoRsUKFtLSgu07PvWUpYCbWmh0AJd6L6kSZ7fH53UNs1NUy7wDv08r3Oec4Y2Ccl7PsfPQ5J7rxuIiIiISClu0k+AiIiIiG4uFkAiIiIixbAAEhERESmGBZCIiIhIMSyARERERIphASQiIiJSDAsgERERkWJYAImIiIgUwwJIREREpBgWQCIiIiLFsAASERERKYYFkIiIiEgxLIBEREREimEBJCIiIlIMCyARERGRYlgAiYiIiBTDAkhERESkGBZAIiIiIsWwABIREREphgWQiIiISDEsgERERESKYQEkIiIiUgwLIBEREZFiWACJiIiIFMMCSERERKQYFkAiIiIixbAAEhERESmGBZCIiIhIMSyARERERIphASQiIiJSDAsgERERkWJYAImIiIgUwwJIREREpBgWQCIiIiLFsAASERERKYYFkIiIiEgxLIBEREREimEBJCIiIlIMCyARERGRYlgAiYiIiBTDAkhERESkGBZAIiIiIsWwABIREREphgWQiIiISDEsgERERESKYQEkIiIiUgwLIBEREZFiWACJiIiIFMMCSERERKQYFkAiIiIixbAAEhERESmGBZCIiIhIMSyARERERIphASQiIiJSDAsgERERkWJYAImIiIgUwwKog9lsRnp6OvLy8pCfn88wDMMwzC2QvLw8pKenw2w2S1cJMSyAOqSnp8PNzY1hGIZhmFsw6enp0lVCDAugDnl5eVULSPpfMwzDMAzDOBfrGzh5eXnSVUIMC6AO+fn5cHNzQ35+vvRTISIiIidx/2YB1IULiIiI6NbD/ZsFUBcuICIiolsP928WQF24gIiIiG493L9ZAHXhAiIiIrr1cP9mAdSFC4iIiOjWw/2bBVAXLiAiIqJbD/dvFkBduICIiIhuPdy/WQB14QIiIiK69XD/ZgHUhQuIiIjo1sP9mwVQFy6gSiazBRdzihF3LhtJl/KRllOE3KIy5JUYcaWgFEmX85GWXYTsglKkXC7E1eJyXMkvxcmLV3EqIw8pV/KRfLkA53OKsP1UJnYlXcKFnCIkXy5ARl4x0rIKcTG3BKlZhTh+4Squ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" width="640">
</div>

</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[454]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&lt;AxesSubplot:xlabel=&#39;groupsize&#39;, ylabel=&#39;value&#39;&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[455]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="c1"># get all unique annot ids and make dictionary mapping their timestamps</span>
<span class="n">obsvirt_timestamps</span> <span class="o">=</span> <span class="p">{</span><span class="n">each</span> <span class="p">:</span> <span class="n">annotation_endtime_failure_tolerant</span><span class="p">(</span><span class="n">each</span><span class="p">)</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">obsvirt_termfreq</span><span class="p">[</span><span class="s1">&#39;video_annot_id&#39;</span><span class="p">])}</span>
<span class="n">obsvirt_termfreq</span><span class="p">[</span><span class="s1">&#39;annotation_end_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obsvirt_termfreq</span><span class="p">[</span><span class="s1">&#39;video_annot_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">X</span><span class="p">:</span> <span class="n">obsvirt_timestamps</span><span class="p">[</span><span class="n">X</span><span class="p">])</span>
<span class="n">obsvirt_termfreq</span><span class="p">[</span><span class="s1">&#39;posix_end_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">obsvirt_termfreq</span><span class="p">[</span><span class="s1">&#39;annotation_end_time&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">posix_time_failure_tolerant</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 28.4 s, sys: 236 ms, total: 28.6 s
Wall time: 28.6 s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[456]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">obs_singlemulti_termfreq</span><span class="p">,</span> <span class="n">multivirtmulti_termfreq</span> <span class="o">=</span> <span class="n">split_into_multisingle_and_multivirtualmulti</span><span class="p">(</span><span class="n">obsvirt_termfreq</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[457]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>
<span class="n">singlemulti_termfreq_datafolds</span> <span class="o">=</span> <span class="n">make_singlemulti_datafolds</span><span class="p">(</span><span class="n">obs_singlemulti_termfreq</span><span class="p">,</span>
                                                         <span class="n">time_intervals_seconds</span><span class="p">,</span> <span class="mi">2500</span><span class="p">)</span>
<span class="n">multivirtmulti_termfreq_datafolds</span> <span class="o">=</span> <span class="n">make_multivirtmulti_datafolds</span><span class="p">(</span><span class="n">multivirtmulti_termfreq</span><span class="p">,</span>
                                                               <span class="n">time_intervals_seconds</span><span class="p">,</span> <span class="mi">2500</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 24.6 s, sys: 63.5 ms, total: 24.7 s
Wall time: 24.7 s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[458]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%%time</span>

<span class="c1"># extract one value per file first from each data fold:</span>
<span class="n">singlemulti_onevalueperfile_termfreq_allfolds</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">multivirtmulti_onevalueperfile_termfreq_allfolds</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">time_intervals_seconds</span><span class="p">:</span>
    <span class="n">singlemulti_onevalueperfile_termfreq_allfolds</span><span class="p">[</span><span class="n">each</span><span class="p">]</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">4</span><span class="p">)(</span><span class="n">delayed</span><span class="p">(</span><span class="n">get_one_value_per_file_across_folds</span><span class="p">)([</span><span class="n">fold</span><span class="p">],</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">fold</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">singlemulti_termfreq_datafolds</span><span class="p">[</span><span class="n">each</span><span class="p">]))</span>
    <span class="n">multivirtmulti_onevalueperfile_termfreq_allfolds</span><span class="p">[</span><span class="n">each</span><span class="p">]</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">4</span><span class="p">)(</span><span class="n">delayed</span><span class="p">(</span><span class="n">get_one_value_per_file_across_folds</span><span class="p">)([</span><span class="n">fold</span><span class="p">],</span><span class="s1">&#39;value&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">fold</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">multivirtmulti_termfreq_datafolds</span><span class="p">[</span><span class="n">each</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>100%|██████████| 187/187 [01:13&lt;00:00,  2.54it/s]
100%|██████████| 43/43 [00:10&lt;00:00,  4.00it/s]
100%|██████████| 312/312 [00:07&lt;00:00, 42.27it/s]
100%|██████████| 77/77 [00:06&lt;00:00, 12.46it/s]
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>CPU times: user 5.27 s, sys: 114 ms, total: 5.38 s
Wall time: 1min 44s
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[480]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">_</span><span class="p">,</span> <span class="n">su</span> <span class="o">=</span> <span class="n">characterise_samplesizes</span><span class="p">(</span> <span class="p">[</span><span class="n">each</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">singlemulti_onevalueperfile_termfreq_allfolds</span><span class="p">[</span><span class="mi">60</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
<span class="n">_</span><span class="p">,</span> <span class="n">su</span> <span class="o">=</span> <span class="n">characterise_samplesizes</span><span class="p">([</span><span class="n">each</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">singlemulti_onevalueperfile_termfreq_allfolds</span><span class="p">[</span><span class="mi">900</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;multiple&#39;: array([18., 22.]), &#39;single&#39;: array([115., 117.])}
{&#39;multiple&#39;: array([1., 4.]), &#39;single&#39;: array([3., 5.])}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[481]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">_</span><span class="p">,</span> <span class="n">su</span> <span class="o">=</span> <span class="n">characterise_samplesizes</span><span class="p">(</span> <span class="p">[</span><span class="n">each</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">multivirtmulti_onevalueperfile_termfreq_allfolds</span><span class="p">[</span><span class="mi">60</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
<span class="n">_</span><span class="p">,</span> <span class="n">su</span> <span class="o">=</span> <span class="n">characterise_samplesizes</span><span class="p">([</span><span class="n">each</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">multivirtmulti_onevalueperfile_termfreq_allfolds</span><span class="p">[</span><span class="mi">900</span><span class="p">]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">su</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;multiple&#39;: array([48., 50.]), &#39;multiple_virtual&#39;: array([48., 50.])}
{&#39;multiple&#39;: array([11., 13.]), &#39;multiple_virtual&#39;: array([11., 13.])}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[459]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wholeaudio_termfreq_singlemulti_results_allfolds</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">each_sep</span><span class="p">,</span> <span class="n">datafolds</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">singlemulti_onevalueperfile_termfreq_allfolds</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>

    <span class="n">wholeaudio_termfreq_singlemulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">4</span><span class="p">)(</span><span class="n">delayed</span><span class="p">(</span><span class="n">produce_parsed_outputs_for_indcall_datafolds</span><span class="p">)(</span><span class="n">each</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;random_value&#39;</span><span class="p">])</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">datafolds</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">each</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">wholeaudio_termfreq_singlemulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]):</span>
        <span class="n">each</span><span class="p">[</span><span class="s1">&#39;fold_number&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>

    <span class="n">estimation_file_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">each_sep</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_seconds_interval_datafold_estimateddifferences_wholeaudio_singlemulti_termfreq_allfolds.csv&#39;</span>

    <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">wholeaudio_termfreq_singlemulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">])</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">estimation_file_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>  0%|          | 0/2 [00:00&lt;?, ?it/s]
  0%|          | 0/187 [00:00&lt;?, ?it/s]
  4%|▍         | 8/187 [00:06&lt;02:20,  1.28it/s]
  6%|▋         | 12/187 [00:12&lt;02:57,  1.02s/it]
  9%|▊         | 16/187 [00:18&lt;03:17,  1.15s/it]
 11%|█         | 20/187 [00:24&lt;03:28,  1.25s/it]
 13%|█▎        | 24/187 [00:30&lt;03:35,  1.32s/it]
 15%|█▍        | 28/187 [00:36&lt;03:37,  1.37s/it]
 17%|█▋        | 32/187 [00:42&lt;03:45,  1.45s/it]
 19%|█▉        | 36/187 [00:48&lt;03:38,  1.45s/it]
 21%|██▏       | 40/187 [00:54&lt;03:32,  1.45s/it]
 24%|██▎       | 44/187 [01:00&lt;03:26,  1.45s/it]
 26%|██▌       | 48/187 [01:05&lt;03:21,  1.45s/it]
 28%|██▊       | 52/187 [01:11&lt;03:15,  1.45s/it]
 30%|██▉       | 56/187 [01:17&lt;03:11,  1.46s/it]
 32%|███▏      | 60/187 [01:23&lt;03:06,  1.47s/it]
 34%|███▍      | 64/187 [01:29&lt;03:00,  1.47s/it]
 36%|███▋      | 68/187 [01:35&lt;02:56,  1.48s/it]
 39%|███▊      | 72/187 [01:41&lt;02:51,  1.49s/it]
 41%|████      | 76/187 [01:47&lt;02:44,  1.49s/it]
 43%|████▎     | 80/187 [01:53&lt;02:40,  1.50s/it]
 45%|████▍     | 84/187 [01:59&lt;02:32,  1.48s/it]
 47%|████▋     | 88/187 [02:05&lt;02:25,  1.47s/it]
 49%|████▉     | 92/187 [02:10&lt;02:19,  1.46s/it]
 51%|█████▏    | 96/187 [02:16&lt;02:12,  1.46s/it]
 53%|█████▎    | 100/187 [02:22&lt;02:06,  1.46s/it]
 56%|█████▌    | 104/187 [02:28&lt;02:01,  1.47s/it]
 58%|█████▊    | 108/187 [02:34&lt;01:56,  1.48s/it]
 60%|█████▉    | 112/187 [02:40&lt;01:52,  1.50s/it]
 62%|██████▏   | 116/187 [02:46&lt;01:45,  1.48s/it]
 64%|██████▍   | 120/187 [02:52&lt;01:38,  1.47s/it]
 66%|██████▋   | 124/187 [02:57&lt;01:32,  1.46s/it]
 68%|██████▊   | 128/187 [03:03&lt;01:26,  1.47s/it]
 71%|███████   | 132/187 [03:09&lt;01:21,  1.47s/it]
 73%|███████▎  | 136/187 [03:15&lt;01:15,  1.48s/it]
 75%|███████▍  | 140/187 [03:21&lt;01:09,  1.48s/it]
 77%|███████▋  | 144/187 [03:27&lt;01:03,  1.48s/it]
 79%|███████▉  | 148/187 [03:33&lt;00:57,  1.49s/it]
 81%|████████▏ | 152/187 [03:39&lt;00:52,  1.49s/it]
 83%|████████▎ | 156/187 [03:45&lt;00:46,  1.49s/it]
 86%|████████▌ | 160/187 [03:51&lt;00:40,  1.49s/it]
 88%|████████▊ | 164/187 [03:57&lt;00:34,  1.49s/it]
 90%|████████▉ | 168/187 [04:03&lt;00:28,  1.48s/it]
 92%|█████████▏| 172/187 [04:09&lt;00:22,  1.49s/it]
 94%|█████████▍| 176/187 [04:15&lt;00:16,  1.49s/it]
 96%|█████████▋| 180/187 [04:21&lt;00:10,  1.49s/it]
100%|██████████| 187/187 [04:27&lt;00:00,  1.43s/it]
 50%|█████     | 1/2 [04:40&lt;04:40, 280.07s/it]
  0%|          | 0/312 [00:00&lt;?, ?it/s]
  3%|▎         | 8/312 [00:05&lt;03:45,  1.35it/s]
  4%|▍         | 12/312 [00:11&lt;04:45,  1.05it/s]
  5%|▌         | 16/312 [00:17&lt;05:26,  1.10s/it]
  6%|▋         | 20/312 [00:23&lt;05:51,  1.20s/it]
  8%|▊         | 24/312 [00:29&lt;06:07,  1.28s/it]
  9%|▉         | 28/312 [00:34&lt;06:16,  1.33s/it]
 10%|█         | 32/312 [00:40&lt;06:20,  1.36s/it]
 12%|█▏        | 36/312 [00:46&lt;06:22,  1.39s/it]
 13%|█▎        | 40/312 [00:52&lt;06:22,  1.41s/it]
 14%|█▍        | 44/312 [00:57&lt;06:19,  1.42s/it]
 15%|█▌        | 48/312 [01:03&lt;06:16,  1.43s/it]
 17%|█▋        | 52/312 [01:09&lt;06:15,  1.44s/it]
 18%|█▊        | 56/312 [01:15&lt;06:10,  1.45s/it]
 19%|█▉        | 60/312 [01:21&lt;06:05,  1.45s/it]
 21%|██        | 64/312 [01:27&lt;06:00,  1.45s/it]
 22%|██▏       | 68/312 [01:32&lt;05:54,  1.45s/it]
 23%|██▎       | 72/312 [01:38&lt;05:47,  1.45s/it]
 24%|██▍       | 76/312 [01:44&lt;05:41,  1.45s/it]
 26%|██▌       | 80/312 [01:50&lt;05:34,  1.44s/it]
 27%|██▋       | 84/312 [01:55&lt;05:28,  1.44s/it]
 28%|██▊       | 88/312 [02:02&lt;05:27,  1.46s/it]
 29%|██▉       | 92/312 [02:07&lt;05:20,  1.46s/it]
 31%|███       | 96/312 [02:13&lt;05:14,  1.46s/it]
 32%|███▏      | 100/312 [02:19&lt;05:06,  1.45s/it]
 33%|███▎      | 104/312 [02:25&lt;04:59,  1.44s/it]
 35%|███▍      | 108/312 [02:30&lt;04:54,  1.44s/it]
 36%|███▌      | 112/312 [02:36&lt;04:48,  1.44s/it]
 37%|███▋      | 116/312 [02:42&lt;04:43,  1.45s/it]
 38%|███▊      | 120/312 [02:48&lt;04:38,  1.45s/it]
 40%|███▉      | 124/312 [02:54&lt;04:32,  1.45s/it]
 41%|████      | 128/312 [02:59&lt;04:25,  1.44s/it]
 42%|████▏     | 132/312 [03:05&lt;04:19,  1.44s/it]
 44%|████▎     | 136/312 [03:11&lt;04:13,  1.44s/it]
 45%|████▍     | 140/312 [03:16&lt;04:06,  1.43s/it]
 46%|████▌     | 144/312 [03:22&lt;04:01,  1.44s/it]
 47%|████▋     | 148/312 [03:28&lt;03:54,  1.43s/it]
 49%|████▊     | 152/312 [03:34&lt;03:49,  1.43s/it]
 50%|█████     | 156/312 [03:39&lt;03:44,  1.44s/it]
 51%|█████▏    | 160/312 [03:45&lt;03:39,  1.44s/it]
 53%|█████▎    | 164/312 [03:51&lt;03:34,  1.45s/it]
 54%|█████▍    | 168/312 [03:57&lt;03:28,  1.45s/it]
 55%|█████▌    | 172/312 [04:03&lt;03:26,  1.47s/it]
 56%|█████▋    | 176/312 [04:09&lt;03:19,  1.47s/it]
 58%|█████▊    | 180/312 [04:15&lt;03:13,  1.47s/it]
 59%|█████▉    | 184/312 [04:21&lt;03:07,  1.47s/it]
 60%|██████    | 188/312 [04:26&lt;03:01,  1.47s/it]
 62%|██████▏   | 192/312 [04:32&lt;02:55,  1.46s/it]
 63%|██████▎   | 196/312 [04:38&lt;02:48,  1.46s/it]
 64%|██████▍   | 200/312 [04:44&lt;02:42,  1.45s/it]
 65%|██████▌   | 204/312 [04:50&lt;02:37,  1.46s/it]
 67%|██████▋   | 208/312 [04:55&lt;02:31,  1.46s/it]
 68%|██████▊   | 212/312 [05:01&lt;02:25,  1.45s/it]
 69%|██████▉   | 216/312 [05:07&lt;02:18,  1.45s/it]
 71%|███████   | 220/312 [05:13&lt;02:14,  1.47s/it]
 72%|███████▏  | 224/312 [05:19&lt;02:08,  1.46s/it]
 73%|███████▎  | 228/312 [05:25&lt;02:02,  1.46s/it]
 74%|███████▍  | 232/312 [05:30&lt;01:56,  1.46s/it]
 76%|███████▌  | 236/312 [05:36&lt;01:51,  1.46s/it]
 77%|███████▋  | 240/312 [05:42&lt;01:45,  1.47s/it]
 78%|███████▊  | 244/312 [05:48&lt;01:39,  1.47s/it]
 79%|███████▉  | 248/312 [05:54&lt;01:34,  1.47s/it]
 81%|████████  | 252/312 [06:01&lt;01:32,  1.54s/it]
 82%|████████▏ | 256/312 [06:07&lt;01:24,  1.51s/it]
 83%|████████▎ | 260/312 [06:12&lt;01:17,  1.48s/it]
 85%|████████▍ | 264/312 [06:18&lt;01:10,  1.47s/it]
 86%|████████▌ | 268/312 [06:24&lt;01:04,  1.46s/it]
 87%|████████▋ | 272/312 [06:30&lt;00:58,  1.45s/it]
 88%|████████▊ | 276/312 [06:35&lt;00:51,  1.44s/it]
 90%|████████▉ | 280/312 [06:41&lt;00:46,  1.44s/it]
 91%|█████████ | 284/312 [06:47&lt;00:40,  1.45s/it]
 92%|█████████▏| 288/312 [06:53&lt;00:34,  1.46s/it]
 94%|█████████▎| 292/312 [06:59&lt;00:29,  1.47s/it]
 95%|█████████▍| 296/312 [07:05&lt;00:23,  1.47s/it]
 96%|█████████▌| 300/312 [07:11&lt;00:17,  1.47s/it]
 97%|█████████▋| 304/312 [07:16&lt;00:11,  1.47s/it]
 99%|█████████▊| 308/312 [07:22&lt;00:05,  1.48s/it]
100%|██████████| 312/312 [07:28&lt;00:00,  1.44s/it]
100%|██████████| 2/2 [12:18&lt;00:00, 369.09s/it]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[460]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">wholeaudio_termfreq_multivirtmulti_results_allfolds</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">each_sep</span><span class="p">,</span> <span class="n">datafolds</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">multivirtmulti_onevalueperfile_termfreq_allfolds</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>

    <span class="n">wholeaudio_termfreq_multivirtmulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=</span><span class="mi">4</span><span class="p">)(</span><span class="n">delayed</span><span class="p">(</span><span class="n">produce_parsed_outputs_for_indcall_datafolds</span><span class="p">)(</span><span class="n">each</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;random_value&#39;</span><span class="p">],</span> <span class="n">idx</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;multiple_virtual&#39;</span><span class="p">,</span><span class="s1">&#39;multiple&#39;</span><span class="p">])</span> <span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">datafolds</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">each</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">wholeaudio_termfreq_multivirtmulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">]):</span>
        <span class="n">each</span><span class="p">[</span><span class="s1">&#39;fold_number&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>

    <span class="n">estimation_file_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">each_sep</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;_seconds_interval_datafold_estimateddifferences_wholeaudio_multivirtmulti_termfreq_allfolds.csv&#39;</span>

    <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">wholeaudio_termfreq_multivirtmulti_results_allfolds</span><span class="p">[</span><span class="n">each_sep</span><span class="p">])</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">estimation_file_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>  0%|          | 0/2 [00:00&lt;?, ?it/s]
  0%|          | 0/43 [00:00&lt;?, ?it/s]
 19%|█▊        | 8/43 [00:06&lt;00:29,  1.18it/s]
 28%|██▊       | 12/43 [00:12&lt;00:31,  1.03s/it]
 37%|███▋      | 16/43 [00:18&lt;00:31,  1.15s/it]
 47%|████▋     | 20/43 [00:24&lt;00:28,  1.25s/it]
 56%|█████▌    | 24/43 [00:30&lt;00:24,  1.31s/it]
 65%|██████▌   | 28/43 [00:35&lt;00:20,  1.35s/it]
 74%|███████▍  | 32/43 [00:41&lt;00:15,  1.40s/it]
 84%|████████▎ | 36/43 [00:48&lt;00:10,  1.44s/it]
100%|██████████| 43/43 [00:53&lt;00:00,  1.26s/it]
 50%|█████     | 1/2 [01:05&lt;01:05, 65.49s/it]
  0%|          | 0/77 [00:00&lt;?, ?it/s]
 10%|█         | 8/77 [00:06&lt;00:51,  1.33it/s]
 16%|█▌        | 12/77 [00:11&lt;01:02,  1.03it/s]
 21%|██        | 16/77 [00:17&lt;01:08,  1.12s/it]
 26%|██▌       | 20/77 [00:23&lt;01:10,  1.23s/it]
 31%|███       | 24/77 [00:29&lt;01:09,  1.30s/it]
 36%|███▋      | 28/77 [00:35&lt;01:06,  1.36s/it]
 42%|████▏     | 32/77 [00:41&lt;01:03,  1.41s/it]
 47%|████▋     | 36/77 [00:47&lt;00:58,  1.42s/it]
 52%|█████▏    | 40/77 [00:53&lt;00:52,  1.43s/it]
 57%|█████▋    | 44/77 [00:59&lt;00:47,  1.45s/it]
 62%|██████▏   | 48/77 [01:05&lt;00:42,  1.45s/it]
 68%|██████▊   | 52/77 [01:10&lt;00:36,  1.44s/it]
 73%|███████▎  | 56/77 [01:16&lt;00:30,  1.46s/it]
 78%|███████▊  | 60/77 [01:22&lt;00:24,  1.45s/it]
 83%|████████▎ | 64/77 [01:28&lt;00:18,  1.44s/it]
 88%|████████▊ | 68/77 [01:33&lt;00:12,  1.44s/it]
 94%|█████████▎| 72/77 [01:39&lt;00:07,  1.44s/it]
100%|██████████| 77/77 [01:45&lt;00:00,  1.37s/it]
100%|██████████| 2/2 [03:00&lt;00:00, 90.42s/it]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    </div>
  </div>
</body>

 


</html>
